function Tq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function _s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n_={exports:{}},Df={};var zO;function Cq(){if(zO)return Df;zO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Df.Fragment=e,Df.jsx=n,Df.jsxs=n,Df}var UO;function Iq(){return UO||(UO=1,n_.exports=Cq()),n_.exports}var g=Iq(),r_={exports:{}},ze={};var qO;function Oq(){if(qO)return ze;qO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function C($,te,pe){this.props=$,this.context=te,this.refs=A,this.updater=pe||E}C.prototype.isReactComponent={},C.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=C.prototype;function j($,te,pe){this.props=$,this.context=te,this.refs=A,this.updater=pe||E}var D=j.prototype=new N;D.constructor=j,S(D,C.prototype),D.isPureReactComponent=!0;var V=Array.isArray;function M(){}var P={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function L($,te,pe){var be=pe.ref;return{$$typeof:t,type:$,key:te,ref:be!==void 0?be:null,props:pe}}function F($,te){return L($.type,te,$.props)}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return te[pe]})}var q=/\/+/g;function ge($,te){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):te.toString(36)}function fe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(M,M):($.status="pending",$.then(function(te){$.status==="pending"&&($.status="fulfilled",$.value=te)},function(te){$.status==="pending"&&($.status="rejected",$.reason=te)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function W($,te,pe,be,Pe){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var De=!1;if($===null)De=!0;else switch(ke){case"bigint":case"string":case"number":De=!0;break;case"object":switch($.$$typeof){case t:case e:De=!0;break;case m:return De=$._init,W(De($._payload),te,pe,be,Pe)}}if(De)return Pe=Pe($),De=be===""?"."+ge($,0):be,V(Pe)?(pe="",De!=null&&(pe=De.replace(q,"$&/")+"/"),W(Pe,te,pe,"",function(Be){return Be})):Pe!=null&&(B(Pe)&&(Pe=F(Pe,pe+(Pe.key==null||$&&$.key===Pe.key?"":(""+Pe.key).replace(q,"$&/")+"/")+De)),te.push(Pe)),1;De=0;var Vt=be===""?".":be+":";if(V($))for(var oe=0;oe<$.length;oe++)be=$[oe],ke=Vt+ge(be,oe),De+=W(be,te,pe,ke,Pe);else if(oe=_($),typeof oe=="function")for($=oe.call($),oe=0;!(be=$.next()).done;)be=be.value,ke=Vt+ge(be,oe++),De+=W(be,te,pe,ke,Pe);else if(ke==="object"){if(typeof $.then=="function")return W(fe($),te,pe,be,Pe);throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return De}function ae($,te,pe){if($==null)return $;var be=[],Pe=0;return W($,be,"","",function(ke){return te.call(pe,ke,Pe++)}),be}function re($){if($._status===-1){var te=$._result;te=te(),te.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var ue=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ye={map:ae,forEach:function($,te,pe){ae($,function(){te.apply(this,arguments)},pe)},count:function($){var te=0;return ae($,function(){te++}),te},toArray:function($){return ae($,function(te){return te})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ze.Activity=p,ze.Children=ye,ze.Component=C,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=j,ze.StrictMode=r,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ze.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},ze.cache=function($){return function(){return $.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function($,te,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var be=S({},$.props),Pe=$.key;if(te!=null)for(ke in te.key!==void 0&&(Pe=""+te.key),te)!R.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(be[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)be.children=pe;else if(1<ke){for(var De=Array(ke),Vt=0;Vt<ke;Vt++)De[Vt]=arguments[Vt+2];be.children=De}return L($.type,Pe,be)},ze.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},ze.createElement=function($,te,pe){var be,Pe={},ke=null;if(te!=null)for(be in te.key!==void 0&&(ke=""+te.key),te)R.call(te,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Pe[be]=te[be]);var De=arguments.length-2;if(De===1)Pe.children=pe;else if(1<De){for(var Vt=Array(De),oe=0;oe<De;oe++)Vt[oe]=arguments[oe+2];Pe.children=Vt}if($&&$.defaultProps)for(be in De=$.defaultProps,De)Pe[be]===void 0&&(Pe[be]=De[be]);return L($,ke,Pe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:u,render:$}},ze.isValidElement=B,ze.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:re}},ze.memo=function($,te){return{$$typeof:f,type:$,compare:te===void 0?null:te}},ze.startTransition=function($){var te=P.T,pe={};P.T=pe;try{var be=$(),Pe=P.S;Pe!==null&&Pe(pe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(M,ue)}catch(ke){ue(ke)}finally{te!==null&&pe.types!==null&&(te.types=pe.types),P.T=te}},ze.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ze.use=function($){return P.H.use($)},ze.useActionState=function($,te,pe){return P.H.useActionState($,te,pe)},ze.useCallback=function($,te){return P.H.useCallback($,te)},ze.useContext=function($){return P.H.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($,te){return P.H.useDeferredValue($,te)},ze.useEffect=function($,te){return P.H.useEffect($,te)},ze.useEffectEvent=function($){return P.H.useEffectEvent($)},ze.useId=function(){return P.H.useId()},ze.useImperativeHandle=function($,te,pe){return P.H.useImperativeHandle($,te,pe)},ze.useInsertionEffect=function($,te){return P.H.useInsertionEffect($,te)},ze.useLayoutEffect=function($,te){return P.H.useLayoutEffect($,te)},ze.useMemo=function($,te){return P.H.useMemo($,te)},ze.useOptimistic=function($,te){return P.H.useOptimistic($,te)},ze.useReducer=function($,te,pe){return P.H.useReducer($,te,pe)},ze.useRef=function($){return P.H.useRef($)},ze.useState=function($){return P.H.useState($)},ze.useSyncExternalStore=function($,te,pe){return P.H.useSyncExternalStore($,te,pe)},ze.useTransition=function(){return P.H.useTransition()},ze.version="19.2.4",ze}var FO;function dd(){return FO||(FO=1,r_.exports=Oq()),r_.exports}var w=dd();const Nq=_s(w),Pq=Tq({__proto__:null,default:Nq},[w]);var i_={exports:{}},kf={},a_={exports:{}},s_={};var $O;function jq(){return $O||($O=1,(function(t){function e(W,ae){var re=W.length;W.push(ae);e:for(;0<re;){var ue=re-1>>>1,ye=W[ue];if(0<i(ye,ae))W[ue]=ae,W[re]=ye,re=ue;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],re=W.pop();if(re!==ae){W[0]=re;e:for(var ue=0,ye=W.length,$=ye>>>1;ue<$;){var te=2*(ue+1)-1,pe=W[te],be=te+1,Pe=W[be];if(0>i(pe,re))be<ye&&0>i(Pe,pe)?(W[ue]=Pe,W[be]=re,ue=be):(W[ue]=pe,W[te]=re,ue=te);else if(be<ye&&0>i(Pe,re))W[ue]=Pe,W[be]=re,ue=be;else break e}}return ae}function i(W,ae){var re=W.sortIndex-ae.sortIndex;return re!==0?re:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,p=null,v=3,_=!1,E=!1,S=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=W)r(f),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=n(f)}}function V(W){if(S=!1,D(W),!E)if(n(d)!==null)E=!0,M||(M=!0,U());else{var ae=n(f);ae!==null&&fe(V,ae.startTime-W)}}var M=!1,P=-1,R=5,L=-1;function F(){return A?!0:!(t.unstable_now()-L<R)}function B(){if(A=!1,M){var W=t.unstable_now();L=W;var ae=!0;try{e:{E=!1,S&&(S=!1,N(P),P=-1),_=!0;var re=v;try{t:{for(D(W),p=n(d);p!==null&&!(p.expirationTime>W&&F());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,v=p.priorityLevel;var ye=ue(p.expirationTime<=W);if(W=t.unstable_now(),typeof ye=="function"){p.callback=ye,D(W),ae=!0;break t}p===n(d)&&r(d),D(W)}else r(d);p=n(d)}if(p!==null)ae=!0;else{var $=n(f);$!==null&&fe(V,$.startTime-W),ae=!1}}break e}finally{p=null,v=re,_=!1}ae=void 0}}finally{ae?U():M=!1}}}var U;if(typeof j=="function")U=function(){j(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ge=q.port2;q.port1.onmessage=B,U=function(){ge.postMessage(null)}}else U=function(){C(B,0)};function fe(W,ae){P=C(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var re=v;v=ae;try{return W()}finally{v=re}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=v;v=W;try{return ae()}finally{v=re}},t.unstable_scheduleCallback=function(W,ae,re){var ue=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,W){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,W={id:m++,callback:ae,priorityLevel:W,startTime:re,expirationTime:ye,sortIndex:-1},re>ue?(W.sortIndex=re,e(f,W),n(d)===null&&W===n(f)&&(S?(N(P),P=-1):S=!0,fe(V,re-ue))):(W.sortIndex=ye,e(d,W),E||_||(E=!0,M||(M=!0,U()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var ae=v;return function(){var re=v;v=ae;try{return W.apply(this,arguments)}finally{v=re}}}})(s_)),s_}var HO;function Rq(){return HO||(HO=1,a_.exports=jq()),a_.exports}var o_={exports:{}},Qn={};var KO;function Dq(){if(KO)return Qn;KO=1;var t=dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},Qn.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},Qn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Qn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Qn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Qn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Qn.requestFormReset=function(d){r.d.r(d)},Qn.unstable_batchedUpdates=function(d,f){return d(f)},Qn.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.2.4",Qn}var GO;function l3(){if(GO)return o_.exports;GO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o_.exports=Dq(),o_.exports}var WO;function kq(){if(WO)return kf;WO=1;var t=Rq(),e=dd(),n=l3();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,h=o;;){var b=c.return;if(b===null)break;var x=b.alternate;if(x===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===c)return d(b),s;if(x===h)return d(b),o;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=b,h=x;else{for(var I=!1,k=b.child;k;){if(k===c){I=!0,c=b,h=x;break}if(k===h){I=!0,h=b,c=x;break}k=k.sibling}if(!I){for(k=x.child;k;){if(k===c){I=!0,c=x,h=b;break}if(k===h){I=!0,h=x,c=b;break}k=k.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:ge(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return ge(s(o))}catch{}}return null}var fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],ye=-1;function $(s){return{current:s}}function te(s){0>ye||(s.current=ue[ye],ue[ye]=null,ye--)}function pe(s,o){ye++,ue[ye]=s.current,s.current=o}var be=$(null),Pe=$(null),ke=$(null),De=$(null);function Vt(s,o){switch(pe(ke,o),pe(Pe,s),pe(be,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?uO(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=uO(o),s=cO(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(be),pe(be,s)}function oe(){te(be),te(Pe),te(ke)}function Be(s){s.memoizedState!==null&&pe(De,s);var o=be.current,c=cO(o,s.type);o!==c&&(pe(Pe,s),pe(be,c))}function $e(s){Pe.current===s&&(te(be),te(Pe)),De.current===s&&(te(De),Nf._currentValue=re)}var he,Yt;function Ke(s){if(he===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",Yt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+Yt}var bn=!1;function Qt(s,o){if(!s||bn)return"";bn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var ee=ie}Reflect.construct(s,[],de)}else{try{de.call()}catch(ie){ee=ie}s.call(de.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),I=x[0],k=x[1];if(I&&k){var H=I.split(`
`),J=k.split(`
`);for(b=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;if(h===H.length||b===J.length)for(h=H.length-1,b=J.length-1;1<=h&&0<=b&&H[h]!==J[b];)b--;for(;1<=h&&0<=b;h--,b--)if(H[h]!==J[b]){if(h!==1||b!==1)do if(h--,b--,0>b||H[h]!==J[b]){var se=`
`+H[h].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=h&&0<=b);break}}}finally{bn=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ke(c):""}function Cr(s,o){switch(s.tag){case 26:case 27:case 5:return Ke(s.type);case 16:return Ke("Lazy");case 13:return s.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Qt(s.type,!1);case 11:return Qt(s.type.render,!1);case 1:return Qt(s.type,!0);case 31:return Ke("Activity");default:return""}}function Rs(s){try{var o="",c=null;do o+=Cr(s,c),c=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var tn=Object.prototype.hasOwnProperty,xn=t.unstable_scheduleCallback,Ds=t.unstable_cancelCallback,ib=t.unstable_shouldYield,qm=t.unstable_requestPaint,ar=t.unstable_now,Zo=t.unstable_getCurrentPriorityLevel,jd=t.unstable_ImmediatePriority,Rd=t.unstable_UserBlockingPriority,ks=t.unstable_NormalPriority,ab=t.unstable_LowPriority,Fm=t.unstable_IdlePriority,$m=t.log,Hm=t.unstable_setDisableYieldValue,yi=null,zn=null;function Kr(s){if(typeof $m=="function"&&Hm(s),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(yi,s)}catch{}}var Xt=Math.clz32?Math.clz32:Gm,Km=Math.log,Iu=Math.LN2;function Gm(s){return s>>>=0,s===0?32:31-(Km(s)/Iu|0)|0}var Fi=256,Jo=262144,nn=4194304;function $i(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hi(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var b=0,x=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var k=h&134217727;return k!==0?(h=k&~x,h!==0?b=$i(h):(I&=k,I!==0?b=$i(I):c||(c=k&~s,c!==0&&(b=$i(c))))):(k=h&~x,k!==0?b=$i(k):I!==0?b=$i(I):c||(c=h&~s,c!==0&&(b=$i(c)))),b===0?0:o!==0&&o!==b&&(o&x)===0&&(x=b&-b,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:b}function vi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function sb(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(){var s=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),s}function Ki(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function el(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ob(s,o,c,h,b,x){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var k=s.entanglements,H=s.expirationTimes,J=s.hiddenUpdates;for(c=I&~c;0<c;){var se=31-Xt(c),de=1<<se;k[se]=0,H[se]=-1;var ee=J[se];if(ee!==null)for(J[se]=null,se=0;se<ee.length;se++){var ie=ee[se];ie!==null&&(ie.lane&=-536870913)}c&=~de}h!==0&&tl(s,h,0),x!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=x&~(I&~o))}function tl(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Xt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Dd(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Xt(c),b=1<<h;b&o|s[h]&o&&(s[h]|=o),c&=~b}}function kd(s,o){var c=o&-o;return c=(c&42)!==0?1:nl(c),(c&(s.suspendedLanes|o))!==0?0:c}function nl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ym(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:RO(s.type))}function bi(s,o){var c=ae.p;try{return ae.p=s,o()}finally{ae.p=c}}var xi=Math.random().toString(36).slice(2),rn="__reactFiber$"+xi,In="__reactProps$"+xi,Gi="__reactContainer$"+xi,Ou="__reactEvents$"+xi,lb="__reactListeners$"+xi,Qm="__reactHandles$"+xi,Xm="__reactResources$"+xi,Wi="__reactMarker$"+xi;function Nu(s){delete s[rn],delete s[In],delete s[Ou],delete s[lb],delete s[Qm]}function Yi(s){var o=s[rn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Gi]||c[rn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=yO(s);s!==null;){if(c=s[rn])return c;s=yO(s)}return o}s=c,c=s.parentNode}return null}function Gr(s){if(s=s[rn]||s[Gi]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Ir(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Qi(s){var o=s[Xm];return o||(o=s[Xm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function an(s){s[Wi]=!0}var Md=new Set,Ld={};function Xi(s,o){Zi(s,o),Zi(s+"Capture",o)}function Zi(s,o){for(Ld[s]=o,s=0;s<o.length;s++)Md.add(o[s])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},zd={};function Zm(s){return tn.call(zd,s)?!0:tn.call(Bd,s)?!1:Vd.test(s)?zd[s]=!0:(Bd[s]=!0,!1)}function Pu(s,o,c){if(Zm(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Or(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function sn(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}function On(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ms(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ud(s,o,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,x=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(I){c=""+I,x.call(this,I)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ct(s){if(!s._valueTracker){var o=Ms(s)?"checked":"value";s._valueTracker=Ud(s,o,""+s[o])}}function rl(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Ms(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Ji(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var il=/[\n"\\]/g;function pr(s){return s.replace(il,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ju(s,o,c,h,b,x,I,k){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+On(o)):s.value!==""+On(o)&&(s.value=""+On(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?qd(s,I,On(o)):c!=null?qd(s,I,On(c)):h!=null&&s.removeAttribute("value"),b==null&&x!=null&&(s.defaultChecked=!!x),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+On(k):s.removeAttribute("name")}function Jm(s,o,c,h,b,x,I,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){ct(s);return}c=c!=null?""+On(c):"",o=o!=null?""+On(o):c,k||o===s.value||(s.value=o),s.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=k?s.checked:!!h,s.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),ct(s)}function qd(s,o,c){o==="number"&&Ji(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ls(s,o,c,h){if(s=s.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=o.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&h&&(s[c].defaultSelected=!0)}else{for(c=""+On(c),o=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,h&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function ep(s,o,c){if(o!=null&&(o=""+On(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+On(c):""}function Vs(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(fe(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=On(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),ct(s)}function gr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var tp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||tp.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function $d(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&c[b]!==h&&Fd(s,b,h)}else for(var x in o)o.hasOwnProperty(x)&&Fd(s,x,o[x])}function Ru(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(s){return Bs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function _i(){}var Hd=null;function Wr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zs=null,ea=null;function al(s){var o=Gr(s);if(o&&(s=o.stateNode)){var c=s[In]||null;e:switch(s=o.stateNode,o.type){case"input":if(ju(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var b=h[In]||null;if(!b)throw Error(r(90));ju(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&rl(h)}break e;case"textarea":ep(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ls(s,!!c.multiple,o,!1)}}}var ku=!1;function Us(s,o,c){if(ku)return s(o,c);ku=!0;try{var h=s(o);return h}finally{if(ku=!1,(zs!==null||ea!==null)&&(Yp(),zs&&(o=zs,s=ea,ea=zs=null,al(o),s)))for(o=0;o<s.length;o++)al(s[o])}}function wi(s,o){var c=s.stateNode;if(c===null)return null;var h=c[In]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Yr)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){sl=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{sl=!1}var ta=null,Kd=null,ol=null;function Gd(){if(ol)return ol;var s,o=Kd,c=o.length,h,b="value"in ta?ta.value:ta.textContent,x=b.length;for(s=0;s<c&&o[s]===b[s];s++);var I=c-s;for(h=1;h<=I&&o[c-h]===b[x-h];h++);return ol=b.slice(s,1<h?1-h:void 0)}function ll(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ja(){return!0}function Ei(){return!1}function Un(s){function o(c,h,b,x,I){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ja:Ei,this.isPropagationStopped=Ei,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),o}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Un(Ra),qs=p({},Ra,{view:0,detail:0}),Wd=Un(qs),Fs,Mu,ra,Lu=p({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ra&&(ra&&s.type==="mousemove"?(Fs=s.screenX-ra.screenX,Mu=s.screenY-ra.screenY):Mu=Fs=0,ra=s),Fs)},movementY:function(s){return"movementY"in s?s.movementY:Mu}}),Yd=Un(Lu),ul=p({},Lu,{dataTransfer:0}),rp=Un(ul),ip=p({},qs,{relatedTarget:0}),cl=Un(ip),Qd=p({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=Un(Qd),Vu=p({},Ra,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sp=Un(Vu),op=p({},Ra,{data:0}),ia=Un(op),lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=cp[s])?!!o[s]:!1}function $s(){return dp}var sr=p({},qs,{key:function(s){if(s.key){var o=lp[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?up[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(s){return s.type==="keypress"?ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fp=Un(sr),hp=p({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=Un(hp),y=p({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),T=Un(y),O=p({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Un(O),Q=p({},Lu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Un(Q),ve=p({},Ra,{newState:0,oldState:0}),Ue=Un(ve),Zt=[9,13,27,32],ot=Yr&&"CompositionEvent"in window,Nt=null;Yr&&"documentMode"in document&&(Nt=document.documentMode);var Qr=Yr&&"TextEvent"in window&&!Nt,aa=Yr&&(!ot||Nt&&8<Nt&&11>=Nt),Si=" ",Ai=!1;function dl(s,o){switch(s){case"keyup":return Zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zu=!1;function Q9(s,o){switch(s){case"compositionend":return Bu(o);case"keypress":return o.which!==32?null:(Ai=!0,Si);case"textInput":return s=o.data,s===Si&&Ai?null:s;default:return null}}function X9(s,o){if(zu)return s==="compositionend"||!ot&&dl(s,o)?(s=Gd(),ol=Kd=ta=null,zu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return aa&&o.locale!=="ko"?null:o.data;default:return null}}var Z9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xC(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Z9[s.type]:o==="textarea"}function _C(s,o,c,h){zs?ea?ea.push(h):ea=[h]:zs=h,o=ng(o,"onChange"),0<o.length&&(c=new na("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Xd=null,Zd=null;function J9(s){rO(s,0)}function mp(s){var o=Ir(s);if(rl(o))return s}function wC(s,o){if(s==="change")return o}var EC=!1;if(Yr){var ub;if(Yr){var cb="oninput"in document;if(!cb){var SC=document.createElement("div");SC.setAttribute("oninput","return;"),cb=typeof SC.oninput=="function"}ub=cb}else ub=!1;EC=ub&&(!document.documentMode||9<document.documentMode)}function AC(){Xd&&(Xd.detachEvent("onpropertychange",TC),Zd=Xd=null)}function TC(s){if(s.propertyName==="value"&&mp(Zd)){var o=[];_C(o,Zd,s,Wr(s)),Us(J9,o)}}function eU(s,o,c){s==="focusin"?(AC(),Xd=o,Zd=c,Xd.attachEvent("onpropertychange",TC)):s==="focusout"&&AC()}function tU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mp(Zd)}function nU(s,o){if(s==="click")return mp(o)}function rU(s,o){if(s==="input"||s==="change")return mp(o)}function iU(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Nr=typeof Object.is=="function"?Object.is:iU;function Jd(s,o){if(Nr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!tn.call(o,b)||!Nr(s[b],o[b]))return!1}return!0}function CC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function IC(s,o){var c=CC(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=CC(c)}}function OC(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?OC(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function NC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ji(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ji(s.document)}return o}function db(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var aU=Yr&&"documentMode"in document&&11>=document.documentMode,Uu=null,fb=null,ef=null,hb=!1;function PC(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hb||Uu==null||Uu!==Ji(h)||(h=Uu,"selectionStart"in h&&db(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ef&&Jd(ef,h)||(ef=h,h=ng(fb,"onSelect"),0<h.length&&(o=new na("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Uu)))}function fl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var qu={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionrun:fl("Transition","TransitionRun"),transitionstart:fl("Transition","TransitionStart"),transitioncancel:fl("Transition","TransitionCancel"),transitionend:fl("Transition","TransitionEnd")},mb={},jC={};Yr&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function hl(s){if(mb[s])return mb[s];if(!qu[s])return s;var o=qu[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in jC)return mb[s]=o[c];return s}var RC=hl("animationend"),DC=hl("animationiteration"),kC=hl("animationstart"),sU=hl("transitionrun"),oU=hl("transitionstart"),lU=hl("transitioncancel"),MC=hl("transitionend"),LC=new Map,pb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pb.push("scrollEnd");function Ti(s,o){LC.set(s,o),Xi(o,[s])}var pp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Xr=[],Fu=0,gb=0;function gp(){for(var s=Fu,o=gb=Fu=0;o<s;){var c=Xr[o];Xr[o++]=null;var h=Xr[o];Xr[o++]=null;var b=Xr[o];Xr[o++]=null;var x=Xr[o];if(Xr[o++]=null,h!==null&&b!==null){var I=h.pending;I===null?b.next=b:(b.next=I.next,I.next=b),h.pending=b}x!==0&&VC(c,b,x)}}function yp(s,o,c,h){Xr[Fu++]=s,Xr[Fu++]=o,Xr[Fu++]=c,Xr[Fu++]=h,gb|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function yb(s,o,c,h){return yp(s,o,c,h),vp(s)}function ml(s,o){return yp(s,null,null,o),vp(s)}function VC(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var b=!1,x=s.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(b=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,b&&o!==null&&(b=31-Xt(c),s=x.hiddenUpdates,h=s[b],h===null?s[b]=[o]:h.push(o),o.lane=c|536870912),x):null}function vp(s){if(50<Ef)throw Ef=0,Tx=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var $u={};function uU(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(s,o,c,h){return new uU(s,o,c,h)}function vb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ka(s,o){var c=s.alternate;return c===null?(c=Pr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function BC(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function bp(s,o,c,h,b,x){var I=0;if(h=s,typeof s=="function")vb(s)&&(I=1);else if(typeof s=="string")I=mq(s,c,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Pr(31,c,o,b),s.elementType=L,s.lanes=x,s;case S:return pl(c.children,b,x,o);case A:I=8,b|=24;break;case C:return s=Pr(12,c,o,b|2),s.elementType=C,s.lanes=x,s;case V:return s=Pr(13,c,o,b),s.elementType=V,s.lanes=x,s;case M:return s=Pr(19,c,o,b),s.elementType=M,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case N:I=9;break e;case D:I=11;break e;case P:I=14;break e;case R:I=16,h=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Pr(I,c,o,b),o.elementType=s,o.type=h,o.lanes=x,o}function pl(s,o,c,h){return s=Pr(7,s,h,o),s.lanes=c,s}function bb(s,o,c){return s=Pr(6,s,null,o),s.lanes=c,s}function zC(s){var o=Pr(18,null,null,0);return o.stateNode=s,o}function xb(s,o,c){return o=Pr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var UC=new WeakMap;function Zr(s,o){if(typeof s=="object"&&s!==null){var c=UC.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Rs(o)},UC.set(s,o),o)}return{value:s,source:o,stack:Rs(o)}}var Hu=[],Ku=0,xp=null,tf=0,Jr=[],ei=0,Hs=null,sa=1,oa="";function Ma(s,o){Hu[Ku++]=tf,Hu[Ku++]=xp,xp=s,tf=o}function qC(s,o,c){Jr[ei++]=sa,Jr[ei++]=oa,Jr[ei++]=Hs,Hs=s;var h=sa;s=oa;var b=32-Xt(h)-1;h&=~(1<<b),c+=1;var x=32-Xt(o)+b;if(30<x){var I=b-b%5;x=(h&(1<<I)-1).toString(32),h>>=I,b-=I,sa=1<<32-Xt(o)+b|c<<b|h,oa=x+s}else sa=1<<x|c<<b|h,oa=s}function _b(s){s.return!==null&&(Ma(s,1),qC(s,1,0))}function wb(s){for(;s===xp;)xp=Hu[--Ku],Hu[Ku]=null,tf=Hu[--Ku],Hu[Ku]=null;for(;s===Hs;)Hs=Jr[--ei],Jr[ei]=null,oa=Jr[--ei],Jr[ei]=null,sa=Jr[--ei],Jr[ei]=null}function FC(s,o){Jr[ei++]=sa,Jr[ei++]=oa,Jr[ei++]=Hs,sa=o.id,oa=o.overflow,Hs=s}var qn=null,Ct=null,Je=!1,Ks=null,ti=!1,Eb=Error(r(519));function Gs(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nf(Zr(o,s)),Eb}function $C(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[rn]=s,o[In]=h,c){case"dialog":We("cancel",o),We("close",o);break;case"iframe":case"object":case"embed":We("load",o);break;case"video":case"audio":for(c=0;c<Af.length;c++)We(Af[c],o);break;case"source":We("error",o);break;case"img":case"image":case"link":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"input":We("invalid",o),Jm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":We("invalid",o);break;case"textarea":We("invalid",o),Vs(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||oO(o.textContent,c)?(h.popover!=null&&(We("beforetoggle",o),We("toggle",o)),h.onScroll!=null&&We("scroll",o),h.onScrollEnd!=null&&We("scrollend",o),h.onClick!=null&&(o.onclick=_i),o=!0):o=!1,o||Gs(s,!0)}function HC(s){for(qn=s.return;qn;)switch(qn.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:qn=qn.return}}function Gu(s){if(s!==qn)return!1;if(!Je)return HC(s),Je=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Ux(s.type,s.memoizedProps)),c=!c),c&&Ct&&Gs(s),HC(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ct=gO(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ct=gO(s)}else o===27?(o=Ct,oo(s.type)?(s=Kx,Kx=null,Ct=s):Ct=o):Ct=qn?ri(s.stateNode.nextSibling):null;return!0}function gl(){Ct=qn=null,Je=!1}function Sb(){var s=Ks;return s!==null&&(xr===null?xr=s:xr.push.apply(xr,s),Ks=null),s}function nf(s){Ks===null?Ks=[s]:Ks.push(s)}var Ab=$(null),yl=null,La=null;function Ws(s,o,c){pe(Ab,o._currentValue),o._currentValue=c}function Va(s){s._currentValue=Ab.current,te(Ab)}function Tb(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function Cb(s,o,c,h){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var x=b.dependencies;if(x!==null){var I=b.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=b;for(var H=0;H<o.length;H++)if(k.context===o[H]){x.lanes|=c,k=x.alternate,k!==null&&(k.lanes|=c),Tb(x.return,c,s),h||(I=null);break e}x=k.next}}else if(b.tag===18){if(I=b.return,I===null)throw Error(r(341));I.lanes|=c,x=I.alternate,x!==null&&(x.lanes|=c),Tb(I,c,s),I=null}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===s){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}}function Wu(s,o,c,h){s=null;for(var b=o,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var I=b.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var k=b.type;Nr(b.pendingProps.value,I.value)||(s!==null?s.push(k):s=[k])}}else if(b===De.current){if(I=b.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Nf):s=[Nf])}b=b.return}s!==null&&Cb(o,s,c,h),o.flags|=262144}function _p(s){for(s=s.firstContext;s!==null;){if(!Nr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vl(s){yl=s,La=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fn(s){return KC(yl,s)}function wp(s,o){return yl===null&&vl(s),KC(s,o)}function KC(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},La===null){if(s===null)throw Error(r(308));La=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else La=La.next=o;return c}var cU=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},dU=t.unstable_scheduleCallback,fU=t.unstable_NormalPriority,on={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ib(){return{controller:new cU,data:new Map,refCount:0}}function rf(s){s.refCount--,s.refCount===0&&dU(fU,function(){s.controller.abort()})}var af=null,Ob=0,Yu=0,Qu=null;function hU(s,o){if(af===null){var c=af=[];Ob=0,Yu=jx(),Qu={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ob++,o.then(GC,GC),o}function GC(){if(--Ob===0&&af!==null){Qu!==null&&(Qu.status="fulfilled");var s=af;af=null,Yu=0,Qu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function mU(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var WC=W.S;W.S=function(s,o){PI=ar(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&hU(s,o),WC!==null&&WC(s,o)};var bl=$(null);function Nb(){var s=bl.current;return s!==null?s:Et.pooledCache}function Ep(s,o){o===null?pe(bl,bl.current):pe(bl,o.pool)}function YC(){var s=Nb();return s===null?null:{parent:on._currentValue,pool:s}}var Xu=Error(r(460)),Pb=Error(r(474)),Sp=Error(r(542)),Ap={then:function(){}};function QC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function XC(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(_i,_i),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,JC(s),s;default:if(typeof o.status=="string")o.then(_i,_i);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,JC(s),s}throw _l=o,Xu}}function xl(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(_l=c,Xu):c}}var _l=null;function ZC(){if(_l===null)throw Error(r(459));var s=_l;return _l=null,s}function JC(s){if(s===Xu||s===Sp)throw Error(r(483))}var Zu=null,sf=0;function Tp(s){var o=sf;return sf+=1,Zu===null&&(Zu=[]),XC(Zu,s,o)}function of(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Cp(s,o){throw o.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function e2(s){function o(G,K){if(s){var Z=G.deletions;Z===null?(G.deletions=[K],G.flags|=16):Z.push(K)}}function c(G,K){if(!s)return null;for(;K!==null;)o(G,K),K=K.sibling;return null}function h(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function b(G,K){return G=ka(G,K),G.index=0,G.sibling=null,G}function x(G,K,Z){return G.index=Z,s?(Z=G.alternate,Z!==null?(Z=Z.index,Z<K?(G.flags|=67108866,K):Z):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function I(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function k(G,K,Z,ce){return K===null||K.tag!==6?(K=bb(Z,G.mode,ce),K.return=G,K):(K=b(K,Z),K.return=G,K)}function H(G,K,Z,ce){var Ne=Z.type;return Ne===S?se(G,K,Z.props.children,ce,Z.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&xl(Ne)===K.type)?(K=b(K,Z.props),of(K,Z),K.return=G,K):(K=bp(Z.type,Z.key,Z.props,null,G.mode,ce),of(K,Z),K.return=G,K)}function J(G,K,Z,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=xb(Z,G.mode,ce),K.return=G,K):(K=b(K,Z.children||[]),K.return=G,K)}function se(G,K,Z,ce,Ne){return K===null||K.tag!==7?(K=pl(Z,G.mode,ce,Ne),K.return=G,K):(K=b(K,Z),K.return=G,K)}function de(G,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=bb(""+K,G.mode,Z),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return Z=bp(K.type,K.key,K.props,null,G.mode,Z),of(Z,K),Z.return=G,Z;case E:return K=xb(K,G.mode,Z),K.return=G,K;case R:return K=xl(K),de(G,K,Z)}if(fe(K)||U(K))return K=pl(K,G.mode,Z,null),K.return=G,K;if(typeof K.then=="function")return de(G,Tp(K),Z);if(K.$$typeof===j)return de(G,wp(G,K),Z);Cp(G,K)}return null}function ee(G,K,Z,ce){var Ne=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:k(G,K,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Ne?H(G,K,Z,ce):null;case E:return Z.key===Ne?J(G,K,Z,ce):null;case R:return Z=xl(Z),ee(G,K,Z,ce)}if(fe(Z)||U(Z))return Ne!==null?null:se(G,K,Z,ce,null);if(typeof Z.then=="function")return ee(G,K,Tp(Z),ce);if(Z.$$typeof===j)return ee(G,K,wp(G,Z),ce);Cp(G,Z)}return null}function ie(G,K,Z,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(Z)||null,k(K,G,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return G=G.get(ce.key===null?Z:ce.key)||null,H(K,G,ce,Ne);case E:return G=G.get(ce.key===null?Z:ce.key)||null,J(K,G,ce,Ne);case R:return ce=xl(ce),ie(G,K,Z,ce,Ne)}if(fe(ce)||U(ce))return G=G.get(Z)||null,se(K,G,ce,Ne,null);if(typeof ce.then=="function")return ie(G,K,Z,Tp(ce),Ne);if(ce.$$typeof===j)return ie(G,K,Z,wp(K,ce),Ne);Cp(K,ce)}return null}function Ae(G,K,Z,ce){for(var Ne=null,nt=null,Ie=K,Fe=K=0,Qe=null;Ie!==null&&Fe<Z.length;Fe++){Ie.index>Fe?(Qe=Ie,Ie=null):Qe=Ie.sibling;var rt=ee(G,Ie,Z[Fe],ce);if(rt===null){Ie===null&&(Ie=Qe);break}s&&Ie&&rt.alternate===null&&o(G,Ie),K=x(rt,K,Fe),nt===null?Ne=rt:nt.sibling=rt,nt=rt,Ie=Qe}if(Fe===Z.length)return c(G,Ie),Je&&Ma(G,Fe),Ne;if(Ie===null){for(;Fe<Z.length;Fe++)Ie=de(G,Z[Fe],ce),Ie!==null&&(K=x(Ie,K,Fe),nt===null?Ne=Ie:nt.sibling=Ie,nt=Ie);return Je&&Ma(G,Fe),Ne}for(Ie=h(Ie);Fe<Z.length;Fe++)Qe=ie(Ie,G,Fe,Z[Fe],ce),Qe!==null&&(s&&Qe.alternate!==null&&Ie.delete(Qe.key===null?Fe:Qe.key),K=x(Qe,K,Fe),nt===null?Ne=Qe:nt.sibling=Qe,nt=Qe);return s&&Ie.forEach(function(ho){return o(G,ho)}),Je&&Ma(G,Fe),Ne}function Re(G,K,Z,ce){if(Z==null)throw Error(r(151));for(var Ne=null,nt=null,Ie=K,Fe=K=0,Qe=null,rt=Z.next();Ie!==null&&!rt.done;Fe++,rt=Z.next()){Ie.index>Fe?(Qe=Ie,Ie=null):Qe=Ie.sibling;var ho=ee(G,Ie,rt.value,ce);if(ho===null){Ie===null&&(Ie=Qe);break}s&&Ie&&ho.alternate===null&&o(G,Ie),K=x(ho,K,Fe),nt===null?Ne=ho:nt.sibling=ho,nt=ho,Ie=Qe}if(rt.done)return c(G,Ie),Je&&Ma(G,Fe),Ne;if(Ie===null){for(;!rt.done;Fe++,rt=Z.next())rt=de(G,rt.value,ce),rt!==null&&(K=x(rt,K,Fe),nt===null?Ne=rt:nt.sibling=rt,nt=rt);return Je&&Ma(G,Fe),Ne}for(Ie=h(Ie);!rt.done;Fe++,rt=Z.next())rt=ie(Ie,G,Fe,rt.value,ce),rt!==null&&(s&&rt.alternate!==null&&Ie.delete(rt.key===null?Fe:rt.key),K=x(rt,K,Fe),nt===null?Ne=rt:nt.sibling=rt,nt=rt);return s&&Ie.forEach(function(Aq){return o(G,Aq)}),Je&&Ma(G,Fe),Ne}function xt(G,K,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:e:{for(var Ne=Z.key;K!==null;){if(K.key===Ne){if(Ne=Z.type,Ne===S){if(K.tag===7){c(G,K.sibling),ce=b(K,Z.props.children),ce.return=G,G=ce;break e}}else if(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&xl(Ne)===K.type){c(G,K.sibling),ce=b(K,Z.props),of(ce,Z),ce.return=G,G=ce;break e}c(G,K);break}else o(G,K);K=K.sibling}Z.type===S?(ce=pl(Z.props.children,G.mode,ce,Z.key),ce.return=G,G=ce):(ce=bp(Z.type,Z.key,Z.props,null,G.mode,ce),of(ce,Z),ce.return=G,G=ce)}return I(G);case E:e:{for(Ne=Z.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){c(G,K.sibling),ce=b(K,Z.children||[]),ce.return=G,G=ce;break e}else{c(G,K);break}else o(G,K);K=K.sibling}ce=xb(Z,G.mode,ce),ce.return=G,G=ce}return I(G);case R:return Z=xl(Z),xt(G,K,Z,ce)}if(fe(Z))return Ae(G,K,Z,ce);if(U(Z)){if(Ne=U(Z),typeof Ne!="function")throw Error(r(150));return Z=Ne.call(Z),Re(G,K,Z,ce)}if(typeof Z.then=="function")return xt(G,K,Tp(Z),ce);if(Z.$$typeof===j)return xt(G,K,wp(G,Z),ce);Cp(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(c(G,K.sibling),ce=b(K,Z),ce.return=G,G=ce):(c(G,K),ce=bb(Z,G.mode,ce),ce.return=G,G=ce),I(G)):c(G,K)}return function(G,K,Z,ce){try{sf=0;var Ne=xt(G,K,Z,ce);return Zu=null,Ne}catch(Ie){if(Ie===Xu||Ie===Sp)throw Ie;var nt=Pr(29,Ie,null,G.mode);return nt.lanes=ce,nt.return=G,nt}}}var wl=e2(!0),t2=e2(!1),Ys=!1;function jb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rb(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xs(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=vp(s),VC(s,null,c),o}return yp(s,h,o,c),vp(s)}function lf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Dd(s,c)}}function Db(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?b=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?b=x=o:x=x.next=o}else b=x=o;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var kb=!1;function uf(){if(kb){var s=Qu;if(s!==null)throw s}}function cf(s,o,c,h){kb=!1;var b=s.updateQueue;Ys=!1;var x=b.firstBaseUpdate,I=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var H=k,J=H.next;H.next=null,I===null?x=J:I.next=J,I=H;var se=s.alternate;se!==null&&(se=se.updateQueue,k=se.lastBaseUpdate,k!==I&&(k===null?se.firstBaseUpdate=J:k.next=J,se.lastBaseUpdate=H))}if(x!==null){var de=b.baseState;I=0,se=J=H=null,k=x;do{var ee=k.lane&-536870913,ie=ee!==k.lane;if(ie?(Ye&ee)===ee:(h&ee)===ee){ee!==0&&ee===Yu&&(kb=!0),se!==null&&(se=se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ae=s,Re=k;ee=o;var xt=c;switch(Re.tag){case 1:if(Ae=Re.payload,typeof Ae=="function"){de=Ae.call(xt,de,ee);break e}de=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Re.payload,ee=typeof Ae=="function"?Ae.call(xt,de,ee):Ae,ee==null)break e;de=p({},de,ee);break e;case 2:Ys=!0}}ee=k.callback,ee!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},se===null?(J=se=ie,H=de):se=se.next=ie,I|=ee;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);se===null&&(H=de),b.baseState=H,b.firstBaseUpdate=J,b.lastBaseUpdate=se,x===null&&(b.shared.lanes=0),no|=I,s.lanes=I,s.memoizedState=de}}function n2(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function r2(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)n2(c[s],o)}var Ju=$(null),Ip=$(0);function i2(s,o){s=Ga,pe(Ip,s),pe(Ju,o),Ga=s|o.baseLanes}function Mb(){pe(Ip,Ga),pe(Ju,Ju.current)}function Lb(){Ga=Ip.current,te(Ju),te(Ip)}var jr=$(null),ni=null;function Zs(s){var o=s.alternate;pe(Jt,Jt.current&1),pe(jr,s),ni===null&&(o===null||Ju.current!==null||o.memoizedState!==null)&&(ni=s)}function Vb(s){pe(Jt,Jt.current),pe(jr,s),ni===null&&(ni=s)}function a2(s){s.tag===22?(pe(Jt,Jt.current),pe(jr,s),ni===null&&(ni=s)):Js()}function Js(){pe(Jt,Jt.current),pe(jr,jr.current)}function Rr(s){te(jr),ni===s&&(ni=null),te(Jt)}var Jt=$(0);function Op(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||$x(c)||Hx(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ba=0,qe=null,vt=null,ln=null,Np=!1,ec=!1,El=!1,Pp=0,df=0,tc=null,pU=0;function qt(){throw Error(r(321))}function Bb(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Nr(s[c],o[c]))return!1;return!0}function zb(s,o,c,h,b,x){return Ba=x,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?q2:tx,El=!1,x=c(h,b),El=!1,ec&&(x=o2(o,c,h,b)),s2(s),x}function s2(s){W.H=mf;var o=vt!==null&&vt.next!==null;if(Ba=0,ln=vt=qe=null,Np=!1,df=0,tc=null,o)throw Error(r(300));s===null||un||(s=s.dependencies,s!==null&&_p(s)&&(un=!0))}function o2(s,o,c,h){qe=s;var b=0;do{if(ec&&(tc=null),df=0,ec=!1,25<=b)throw Error(r(301));if(b+=1,ln=vt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=F2,x=o(c,h)}while(ec);return x}function gU(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?ff(o):o,s=s.useState()[0],(vt!==null?vt.memoizedState:null)!==s&&(qe.flags|=1024),o}function Ub(){var s=Pp!==0;return Pp=0,s}function qb(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Fb(s){if(Np){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Np=!1}Ba=0,ln=vt=qe=null,ec=!1,df=Pp=0,tc=null}function or(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?qe.memoizedState=ln=s:ln=ln.next=s,ln}function en(){if(vt===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var o=ln===null?qe.memoizedState:ln.next;if(o!==null)ln=o,vt=s;else{if(s===null)throw qe.alternate===null?Error(r(467)):Error(r(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},ln===null?qe.memoizedState=ln=s:ln=ln.next=s}return ln}function jp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ff(s){var o=df;return df+=1,tc===null&&(tc=[]),s=XC(tc,s,o),o=qe,(ln===null?o.memoizedState:ln.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?q2:tx),s}function Rp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ff(s);if(s.$$typeof===j)return Fn(s)}throw Error(r(438,String(s)))}function $b(s){var o=null,c=qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=jp(),qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=F;return o.index++,c}function za(s,o){return typeof o=="function"?o(s):o}function Dp(s){var o=en();return Hb(o,vt,s)}function Hb(s,o,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var b=s.baseQueue,x=h.pending;if(x!==null){if(b!==null){var I=b.next;b.next=x.next,x.next=I}o.baseQueue=b=x,h.pending=null}if(x=s.baseState,b===null)s.memoizedState=x;else{o=b.next;var k=I=null,H=null,J=o,se=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(Ye&de)===de:(Ba&de)===de){var ee=J.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Yu&&(se=!0);else if((Ba&ee)===ee){J=J.next,ee===Yu&&(se=!0);continue}else de={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(k=H=de,I=x):H=H.next=de,qe.lanes|=ee,no|=ee;de=J.action,El&&c(x,de),x=J.hasEagerState?J.eagerState:c(x,de)}else ee={lane:de,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(k=H=ee,I=x):H=H.next=ee,qe.lanes|=de,no|=de;J=J.next}while(J!==null&&J!==o);if(H===null?I=x:H.next=k,!Nr(x,s.memoizedState)&&(un=!0,se&&(c=Qu,c!==null)))throw c;s.memoizedState=x,s.baseState=I,s.baseQueue=H,h.lastRenderedState=x}return b===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Kb(s){var o=en(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,b=c.pending,x=o.memoizedState;if(b!==null){c.pending=null;var I=b=b.next;do x=s(x,I.action),I=I.next;while(I!==b);Nr(x,o.memoizedState)||(un=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function l2(s,o,c){var h=qe,b=en(),x=Je;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var I=!Nr((vt||b).memoizedState,c);if(I&&(b.memoizedState=c,un=!0),b=b.queue,Yb(d2.bind(null,h,b,s),[s]),b.getSnapshot!==o||I||ln!==null&&ln.memoizedState.tag&1){if(h.flags|=2048,nc(9,{destroy:void 0},c2.bind(null,h,b,c,o),null),Et===null)throw Error(r(349));x||(Ba&127)!==0||u2(h,o,c)}return c}function u2(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=qe.updateQueue,o===null?(o=jp(),qe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function c2(s,o,c,h){o.value=c,o.getSnapshot=h,f2(o)&&h2(s)}function d2(s,o,c){return c(function(){f2(o)&&h2(s)})}function f2(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Nr(s,c)}catch{return!0}}function h2(s){var o=ml(s,2);o!==null&&_r(o,s,2)}function Gb(s){var o=or();if(typeof s=="function"){var c=s;if(s=c(),El){Kr(!0);try{c()}finally{Kr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:s},o}function m2(s,o,c,h){return s.baseState=c,Hb(s,vt,typeof h=="function"?h:za)}function yU(s,o,c,h,b){if(Lp(s))throw Error(r(485));if(s=o.action,s!==null){var x={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};W.T!==null?c(!0):x.isTransition=!1,h(x),c=o.pending,c===null?(x.next=o.pending=x,p2(o,x)):(x.next=c.next,o.pending=c.next=x)}}function p2(s,o){var c=o.action,h=o.payload,b=s.state;if(o.isTransition){var x=W.T,I={};W.T=I;try{var k=c(b,h),H=W.S;H!==null&&H(I,k),g2(s,o,k)}catch(J){Wb(s,o,J)}finally{x!==null&&I.types!==null&&(x.types=I.types),W.T=x}}else try{x=c(b,h),g2(s,o,x)}catch(J){Wb(s,o,J)}}function g2(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){y2(s,o,h)},function(h){return Wb(s,o,h)}):y2(s,o,c)}function y2(s,o,c){o.status="fulfilled",o.value=c,v2(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,p2(s,c)))}function Wb(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,v2(o),o=o.next;while(o!==h)}s.action=null}function v2(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function b2(s,o){return o}function x2(s,o){if(Je){var c=Et.formState;if(c!==null){e:{var h=qe;if(Je){if(Ct){t:{for(var b=Ct,x=ti;b.nodeType!==8;){if(!x){b=null;break t}if(b=ri(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Ct=ri(b.nextSibling),h=b.data==="F!";break e}}Gs(h)}h=!1}h&&(o=c[0])}}return c=or(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b2,lastRenderedState:o},c.queue=h,c=B2.bind(null,qe,h),h.dispatch=c,h=Gb(!1),x=ex.bind(null,qe,!1,h.queue),h=or(),b={state:o,dispatch:null,action:s,pending:null},h.queue=b,c=yU.bind(null,qe,b,x,c),b.dispatch=c,h.memoizedState=s,[o,c,!1]}function _2(s){var o=en();return w2(o,vt,s)}function w2(s,o,c){if(o=Hb(s,o,b2)[0],s=Dp(za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=ff(o)}catch(I){throw I===Xu?Sp:I}else h=o;o=en();var b=o.queue,x=b.dispatch;return c!==o.memoizedState&&(qe.flags|=2048,nc(9,{destroy:void 0},vU.bind(null,b,c),null)),[h,x,s]}function vU(s,o){s.action=o}function E2(s){var o=en(),c=vt;if(c!==null)return w2(o,c,s);en(),o=o.memoizedState,c=en();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function nc(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=qe.updateQueue,o===null&&(o=jp(),qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function S2(){return en().memoizedState}function kp(s,o,c,h){var b=or();qe.flags|=s,b.memoizedState=nc(1|o,{destroy:void 0},c,h===void 0?null:h)}function Mp(s,o,c,h){var b=en();h=h===void 0?null:h;var x=b.memoizedState.inst;vt!==null&&h!==null&&Bb(h,vt.memoizedState.deps)?b.memoizedState=nc(o,x,c,h):(qe.flags|=s,b.memoizedState=nc(1|o,x,c,h))}function A2(s,o){kp(8390656,8,s,o)}function Yb(s,o){Mp(2048,8,s,o)}function bU(s){qe.flags|=4;var o=qe.updateQueue;if(o===null)o=jp(),qe.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function T2(s){var o=en().memoizedState;return bU({ref:o,nextImpl:s}),function(){if((lt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function C2(s,o){return Mp(4,2,s,o)}function I2(s,o){return Mp(4,4,s,o)}function O2(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function N2(s,o,c){c=c!=null?c.concat([s]):null,Mp(4,4,O2.bind(null,o,s),c)}function Qb(){}function P2(s,o){var c=en();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Bb(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function j2(s,o){var c=en();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Bb(o,h[1]))return h[0];if(h=s(),El){Kr(!0);try{s()}finally{Kr(!1)}}return c.memoizedState=[h,o],h}function Xb(s,o,c){return c===void 0||(Ba&1073741824)!==0&&(Ye&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=RI(),qe.lanes|=s,no|=s,c)}function R2(s,o,c,h){return Nr(c,o)?c:Ju.current!==null?(s=Xb(s,c,h),Nr(s,o)||(un=!0),s):(Ba&42)===0||(Ba&1073741824)!==0&&(Ye&261930)===0?(un=!0,s.memoizedState=c):(s=RI(),qe.lanes|=s,no|=s,o)}function D2(s,o,c,h,b){var x=ae.p;ae.p=x!==0&&8>x?x:8;var I=W.T,k={};W.T=k,ex(s,!1,o,c);try{var H=b(),J=W.S;if(J!==null&&J(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=mU(H,h);hf(s,o,se,Mr(s))}else hf(s,o,h,Mr(s))}catch(de){hf(s,o,{then:function(){},status:"rejected",reason:de},Mr())}finally{ae.p=x,I!==null&&k.types!==null&&(I.types=k.types),W.T=I}}function xU(){}function Zb(s,o,c,h){if(s.tag!==5)throw Error(r(476));var b=k2(s).queue;D2(s,b,o,re,c===null?xU:function(){return M2(s),c(h)})}function k2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:re},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function M2(s){var o=k2(s);o.next===null&&(o=s.alternate.memoizedState),hf(s,o.next.queue,{},Mr())}function Jb(){return Fn(Nf)}function L2(){return en().memoizedState}function V2(){return en().memoizedState}function _U(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Mr();s=Qs(c);var h=Xs(o,s,c);h!==null&&(_r(h,o,c),lf(h,o,c)),o={cache:Ib()},s.payload=o;return}o=o.return}}function wU(s,o,c){var h=Mr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lp(s)?z2(o,c):(c=yb(s,o,c,h),c!==null&&(_r(c,s,h),U2(c,o,h)))}function B2(s,o,c){var h=Mr();hf(s,o,c,h)}function hf(s,o,c,h){var b={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lp(s))z2(o,b);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,k=x(I,c);if(b.hasEagerState=!0,b.eagerState=k,Nr(k,I))return yp(s,o,b,0),Et===null&&gp(),!1}catch{}if(c=yb(s,o,b,h),c!==null)return _r(c,s,h),U2(c,o,h),!0}return!1}function ex(s,o,c,h){if(h={lane:2,revertLane:jx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Lp(s)){if(o)throw Error(r(479))}else o=yb(s,c,h,2),o!==null&&_r(o,s,2)}function Lp(s){var o=s.alternate;return s===qe||o!==null&&o===qe}function z2(s,o){ec=Np=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function U2(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Dd(s,c)}}var mf={readContext:Fn,use:Rp,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};mf.useEffectEvent=qt;var q2={readContext:Fn,use:Rp,useCallback:function(s,o){return or().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:A2,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,kp(4194308,4,O2.bind(null,o,s),c)},useLayoutEffect:function(s,o){return kp(4194308,4,s,o)},useInsertionEffect:function(s,o){kp(4,2,s,o)},useMemo:function(s,o){var c=or();o=o===void 0?null:o;var h=s();if(El){Kr(!0);try{s()}finally{Kr(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=or();if(c!==void 0){var b=c(o);if(El){Kr(!0);try{c(o)}finally{Kr(!1)}}}else b=o;return h.memoizedState=h.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},h.queue=s,s=s.dispatch=wU.bind(null,qe,s),[h.memoizedState,s]},useRef:function(s){var o=or();return s={current:s},o.memoizedState=s},useState:function(s){s=Gb(s);var o=s.queue,c=B2.bind(null,qe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Qb,useDeferredValue:function(s,o){var c=or();return Xb(c,s,o)},useTransition:function(){var s=Gb(!1);return s=D2.bind(null,qe,s.queue,!0,!1),or().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=qe,b=or();if(Je){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Et===null)throw Error(r(349));(Ye&127)!==0||u2(h,o,c)}b.memoizedState=c;var x={value:c,getSnapshot:o};return b.queue=x,A2(d2.bind(null,h,x,s),[s]),h.flags|=2048,nc(9,{destroy:void 0},c2.bind(null,h,x,c,o),null),c},useId:function(){var s=or(),o=Et.identifierPrefix;if(Je){var c=oa,h=sa;c=(h&~(1<<32-Xt(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Pp++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=pU++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Jb,useFormState:x2,useActionState:x2,useOptimistic:function(s){var o=or();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=ex.bind(null,qe,!0,c),c.dispatch=o,[s,o]},useMemoCache:$b,useCacheRefresh:function(){return or().memoizedState=_U.bind(null,qe)},useEffectEvent:function(s){var o=or(),c={impl:s};return o.memoizedState=c,function(){if((lt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},tx={readContext:Fn,use:Rp,useCallback:P2,useContext:Fn,useEffect:Yb,useImperativeHandle:N2,useInsertionEffect:C2,useLayoutEffect:I2,useMemo:j2,useReducer:Dp,useRef:S2,useState:function(){return Dp(za)},useDebugValue:Qb,useDeferredValue:function(s,o){var c=en();return R2(c,vt.memoizedState,s,o)},useTransition:function(){var s=Dp(za)[0],o=en().memoizedState;return[typeof s=="boolean"?s:ff(s),o]},useSyncExternalStore:l2,useId:L2,useHostTransitionStatus:Jb,useFormState:_2,useActionState:_2,useOptimistic:function(s,o){var c=en();return m2(c,vt,s,o)},useMemoCache:$b,useCacheRefresh:V2};tx.useEffectEvent=T2;var F2={readContext:Fn,use:Rp,useCallback:P2,useContext:Fn,useEffect:Yb,useImperativeHandle:N2,useInsertionEffect:C2,useLayoutEffect:I2,useMemo:j2,useReducer:Kb,useRef:S2,useState:function(){return Kb(za)},useDebugValue:Qb,useDeferredValue:function(s,o){var c=en();return vt===null?Xb(c,s,o):R2(c,vt.memoizedState,s,o)},useTransition:function(){var s=Kb(za)[0],o=en().memoizedState;return[typeof s=="boolean"?s:ff(s),o]},useSyncExternalStore:l2,useId:L2,useHostTransitionStatus:Jb,useFormState:E2,useActionState:E2,useOptimistic:function(s,o){var c=en();return vt!==null?m2(c,vt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:$b,useCacheRefresh:V2};F2.useEffectEvent=T2;function nx(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var rx={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Mr(),b=Qs(h);b.payload=o,c!=null&&(b.callback=c),o=Xs(s,b,h),o!==null&&(_r(o,s,h),lf(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Mr(),b=Qs(h);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=Xs(s,b,h),o!==null&&(_r(o,s,h),lf(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Mr(),h=Qs(c);h.tag=2,o!=null&&(h.callback=o),o=Xs(s,h,c),o!==null&&(_r(o,s,c),lf(o,s,c))}};function $2(s,o,c,h,b,x,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,I):o.prototype&&o.prototype.isPureReactComponent?!Jd(c,h)||!Jd(b,x):!0}function H2(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&rx.enqueueReplaceState(o,o.state,null)}function Sl(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}function K2(s){pp(s)}function G2(s){console.error(s)}function W2(s){pp(s)}function Vp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Y2(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function ix(s,o,c){return c=Qs(c),c.tag=3,c.payload={element:null},c.callback=function(){Vp(s,o)},c}function Q2(s){return s=Qs(s),s.tag=3,s}function X2(s,o,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=h.value;s.payload=function(){return b(x)},s.callback=function(){Y2(o,c,h)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){Y2(o,c,h),typeof b!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function EU(s,o,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Wu(o,c,b,!0),c=jr.current,c!==null){switch(c.tag){case 31:case 13:return ni===null?Qp():c.alternate===null&&Ft===0&&(Ft=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===Ap?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Ox(s,h,b)),!1;case 22:return c.flags|=65536,h===Ap?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Ox(s,h,b)),!1}throw Error(r(435,c.tag))}return Ox(s,h,b),Qp(),!1}if(Je)return o=jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Eb&&(s=Error(r(422),{cause:h}),nf(Zr(s,c)))):(h!==Eb&&(o=Error(r(423),{cause:h}),nf(Zr(o,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,h=Zr(h,c),b=ix(s.stateNode,h,b),Db(s,b),Ft!==4&&(Ft=2)),!1;var x=Error(r(520),{cause:h});if(x=Zr(x,c),wf===null?wf=[x]:wf.push(x),Ft!==4&&(Ft=2),o===null)return!0;h=Zr(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=ix(c.stateNode,h,s),Db(c,s),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ro===null||!ro.has(x))))return c.flags|=65536,b&=-b,c.lanes|=b,b=Q2(b),X2(b,s,c,h),Db(c,b),!1}c=c.return}while(c!==null);return!1}var ax=Error(r(461)),un=!1;function $n(s,o,c,h){o.child=s===null?t2(o,null,c,h):wl(o,s.child,c,h)}function Z2(s,o,c,h,b){c=c.render;var x=o.ref;if("ref"in h){var I={};for(var k in h)k!=="ref"&&(I[k]=h[k])}else I=h;return vl(o),h=zb(s,o,c,I,x,b),k=Ub(),s!==null&&!un?(qb(s,o,b),Ua(s,o,b)):(Je&&k&&_b(o),o.flags|=1,$n(s,o,h,b),o.child)}function J2(s,o,c,h,b){if(s===null){var x=c.type;return typeof x=="function"&&!vb(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,eI(s,o,x,h,b)):(s=bp(c.type,null,h,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!hx(s,b)){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:Jd,c(I,h)&&s.ref===o.ref)return Ua(s,o,b)}return o.flags|=1,s=ka(x,h),s.ref=o.ref,s.return=o,o.child=s}function eI(s,o,c,h,b){if(s!==null){var x=s.memoizedProps;if(Jd(x,h)&&s.ref===o.ref)if(un=!1,o.pendingProps=h=x,hx(s,b))(s.flags&131072)!==0&&(un=!0);else return o.lanes=s.lanes,Ua(s,o,b)}return sx(s,o,c,h,b)}function tI(s,o,c,h){var b=h.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,s!==null){for(h=o.child=s.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~x}else h=0,o.child=null;return nI(s,o,x,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ep(o,x!==null?x.cachePool:null),x!==null?i2(o,x):Mb(),a2(o);else return h=o.lanes=536870912,nI(s,o,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Ep(o,x.cachePool),i2(o,x),Js(),o.memoizedState=null):(s!==null&&Ep(o,null),Mb(),Js());return $n(s,o,b,c),o.child}function pf(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function nI(s,o,c,h,b){var x=Nb();return x=x===null?null:{parent:on._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},s!==null&&Ep(o,null),Mb(),a2(o),s!==null&&Wu(s,o,h,!0),o.childLanes=b,null}function Bp(s,o){return o=Up({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function rI(s,o,c){return wl(o,s.child,null,c),s=Bp(o,o.pendingProps),s.flags|=2,Rr(o),o.memoizedState=null,s}function SU(s,o,c){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Je){if(h.mode==="hidden")return s=Bp(o,h),o.lanes=536870912,pf(null,s);if(Vb(o),(s=Ct)?(s=pO(s,ti),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Hs!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},c=zC(s),c.return=o,o.child=c,qn=o,Ct=null)):s=null,s===null)throw Gs(o);return o.lanes=536870912,null}return Bp(o,h)}var x=s.memoizedState;if(x!==null){var I=x.dehydrated;if(Vb(o),b)if(o.flags&256)o.flags&=-257,o=rI(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(un||Wu(s,o,c,!1),b=(c&s.childLanes)!==0,un||b){if(h=Et,h!==null&&(I=kd(h,c),I!==0&&I!==x.retryLane))throw x.retryLane=I,ml(s,I),_r(h,s,I),ax;Qp(),o=rI(s,o,c)}else s=x.treeContext,Ct=ri(I.nextSibling),qn=o,Je=!0,Ks=null,ti=!1,s!==null&&FC(o,s),o=Bp(o,h),o.flags|=4096;return o}return s=ka(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function zp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function sx(s,o,c,h,b){return vl(o),c=zb(s,o,c,h,void 0,b),h=Ub(),s!==null&&!un?(qb(s,o,b),Ua(s,o,b)):(Je&&h&&_b(o),o.flags|=1,$n(s,o,c,b),o.child)}function iI(s,o,c,h,b,x){return vl(o),o.updateQueue=null,c=o2(o,h,c,b),s2(s),h=Ub(),s!==null&&!un?(qb(s,o,x),Ua(s,o,x)):(Je&&h&&_b(o),o.flags|=1,$n(s,o,c,x),o.child)}function aI(s,o,c,h,b){if(vl(o),o.stateNode===null){var x=$u,I=c.contextType;typeof I=="object"&&I!==null&&(x=Fn(I)),x=new c(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=rx,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},jb(o),I=c.contextType,x.context=typeof I=="object"&&I!==null?Fn(I):$u,x.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(nx(o,c,I,h),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&rx.enqueueReplaceState(x,x.state,null),cf(o,h,x,b),uf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){x=o.stateNode;var k=o.memoizedProps,H=Sl(c,k);x.props=H;var J=x.context,se=c.contextType;I=$u,typeof se=="object"&&se!==null&&(I=Fn(se));var de=c.getDerivedStateFromProps;se=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||J!==I)&&H2(o,x,h,I),Ys=!1;var ee=o.memoizedState;x.state=ee,cf(o,h,x,b),uf(),J=o.memoizedState,k||ee!==J||Ys?(typeof de=="function"&&(nx(o,c,de,h),J=o.memoizedState),(H=Ys||$2(o,c,H,h,ee,J,I))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),x.props=h,x.state=J,x.context=I,h=H):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Rb(s,o),I=o.memoizedProps,se=Sl(c,I),x.props=se,de=o.pendingProps,ee=x.context,J=c.contextType,H=$u,typeof J=="object"&&J!==null&&(H=Fn(J)),k=c.getDerivedStateFromProps,(J=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==de||ee!==H)&&H2(o,x,h,H),Ys=!1,ee=o.memoizedState,x.state=ee,cf(o,h,x,b),uf();var ie=o.memoizedState;I!==de||ee!==ie||Ys||s!==null&&s.dependencies!==null&&_p(s.dependencies)?(typeof k=="function"&&(nx(o,c,k,h),ie=o.memoizedState),(se=Ys||$2(o,c,se,h,ee,ie,H)||s!==null&&s.dependencies!==null&&_p(s.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ie,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ie,H)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ie),x.props=h,x.state=ie,x.context=H,h=se):(typeof x.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return x=h,zp(s,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&h?(o.child=wl(o,s.child,null,b),o.child=wl(o,null,c,b)):$n(s,o,c,b),o.memoizedState=x.state,s=o.child):s=Ua(s,o,b),s}function sI(s,o,c,h){return gl(),o.flags|=256,$n(s,o,c,h),o.child}var ox={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lx(s){return{baseLanes:s,cachePool:YC()}}function ux(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=kr),s}function oI(s,o,c){var h=o.pendingProps,b=!1,x=(o.flags&128)!==0,I;if((I=x)||(I=s!==null&&s.memoizedState===null?!1:(Jt.current&2)!==0),I&&(b=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(Je){if(b?Zs(o):Js(),(s=Ct)?(s=pO(s,ti),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Hs!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},c=zC(s),c.return=o,o.child=c,qn=o,Ct=null)):s=null,s===null)throw Gs(o);return Hx(s)?o.lanes=32:o.lanes=536870912,null}var k=h.children;return h=h.fallback,b?(Js(),b=o.mode,k=Up({mode:"hidden",children:k},b),h=pl(h,b,c,null),k.return=o,h.return=o,k.sibling=h,o.child=k,h=o.child,h.memoizedState=lx(c),h.childLanes=ux(s,I,c),o.memoizedState=ox,pf(null,h)):(Zs(o),cx(o,k))}var H=s.memoizedState;if(H!==null&&(k=H.dehydrated,k!==null)){if(x)o.flags&256?(Zs(o),o.flags&=-257,o=dx(s,o,c)):o.memoizedState!==null?(Js(),o.child=s.child,o.flags|=128,o=null):(Js(),k=h.fallback,b=o.mode,h=Up({mode:"visible",children:h.children},b),k=pl(k,b,c,null),k.flags|=2,h.return=o,k.return=o,h.sibling=k,o.child=h,wl(o,s.child,null,c),h=o.child,h.memoizedState=lx(c),h.childLanes=ux(s,I,c),o.memoizedState=ox,o=pf(null,h));else if(Zs(o),Hx(k)){if(I=k.nextSibling&&k.nextSibling.dataset,I)var J=I.dgst;I=J,h=Error(r(419)),h.stack="",h.digest=I,nf({value:h,source:null,stack:null}),o=dx(s,o,c)}else if(un||Wu(s,o,c,!1),I=(c&s.childLanes)!==0,un||I){if(I=Et,I!==null&&(h=kd(I,c),h!==0&&h!==H.retryLane))throw H.retryLane=h,ml(s,h),_r(I,s,h),ax;$x(k)||Qp(),o=dx(s,o,c)}else $x(k)?(o.flags|=192,o.child=s.child,o=null):(s=H.treeContext,Ct=ri(k.nextSibling),qn=o,Je=!0,Ks=null,ti=!1,s!==null&&FC(o,s),o=cx(o,h.children),o.flags|=4096);return o}return b?(Js(),k=h.fallback,b=o.mode,H=s.child,J=H.sibling,h=ka(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,J!==null?k=ka(J,k):(k=pl(k,b,c,null),k.flags|=2),k.return=o,h.return=o,h.sibling=k,o.child=h,pf(null,h),h=o.child,k=s.child.memoizedState,k===null?k=lx(c):(b=k.cachePool,b!==null?(H=on._currentValue,b=b.parent!==H?{parent:H,pool:H}:b):b=YC(),k={baseLanes:k.baseLanes|c,cachePool:b}),h.memoizedState=k,h.childLanes=ux(s,I,c),o.memoizedState=ox,pf(s.child,h)):(Zs(o),c=s.child,s=c.sibling,c=ka(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=c,o.memoizedState=null,c)}function cx(s,o){return o=Up({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Up(s,o){return s=Pr(22,s,null,o),s.lanes=0,s}function dx(s,o,c){return wl(o,s.child,null,c),s=cx(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function lI(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Tb(s.return,o,c)}function fx(s,o,c,h,b,x){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b,treeForkCount:x}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=c,I.tailMode=b,I.treeForkCount=x)}function uI(s,o,c){var h=o.pendingProps,b=h.revealOrder,x=h.tail;h=h.children;var I=Jt.current,k=(I&2)!==0;if(k?(I=I&1|2,o.flags|=128):I&=1,pe(Jt,I),$n(s,o,h,c),h=Je?tf:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lI(s,c,o);else if(s.tag===19)lI(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)s=c.alternate,s!==null&&Op(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),fx(o,!1,b,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&Op(s)===null){o.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}fx(o,!0,c,null,x,h);break;case"together":fx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ua(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),no|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Wu(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=ka(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ka(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function hx(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&_p(s)))}function AU(s,o,c){switch(o.tag){case 3:Vt(o,o.stateNode.containerInfo),Ws(o,on,s.memoizedState.cache),gl();break;case 27:case 5:Be(o);break;case 4:Vt(o,o.stateNode.containerInfo);break;case 10:Ws(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Vb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Zs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?oI(s,o,c):(Zs(o),s=Ua(s,o,c),s!==null?s.sibling:null);Zs(o);break;case 19:var b=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Wu(s,o,c,!1),h=(c&o.childLanes)!==0),b){if(h)return uI(s,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),pe(Jt,Jt.current),h)break;return null;case 22:return o.lanes=0,tI(s,o,c,o.pendingProps);case 24:Ws(o,on,s.memoizedState.cache)}return Ua(s,o,c)}function cI(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)un=!0;else{if(!hx(s,c)&&(o.flags&128)===0)return un=!1,AU(s,o,c);un=(s.flags&131072)!==0}else un=!1,Je&&(o.flags&1048576)!==0&&qC(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=xl(o.elementType),o.type=s,typeof s=="function")vb(s)?(h=Sl(s,h),o.tag=1,o=aI(null,o,s,h,c)):(o.tag=0,o=sx(null,o,s,h,c));else{if(s!=null){var b=s.$$typeof;if(b===D){o.tag=11,o=Z2(null,o,s,h,c);break e}else if(b===P){o.tag=14,o=J2(null,o,s,h,c);break e}}throw o=ge(s)||s,Error(r(306,o,""))}}return o;case 0:return sx(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,b=Sl(h,o.pendingProps),aI(s,o,h,b,c);case 3:e:{if(Vt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;b=x.element,Rb(s,o),cf(o,h,null,c);var I=o.memoizedState;if(h=I.cache,Ws(o,on,h),h!==x.cache&&Cb(o,[on],c,!0),uf(),h=I.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=sI(s,o,h,c);break e}else if(h!==b){b=Zr(Error(r(424)),o),nf(b),o=sI(s,o,h,c);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ct=ri(s.firstChild),qn=o,Je=!0,Ks=null,ti=!0,c=t2(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(gl(),h===b){o=Ua(s,o,c);break e}$n(s,o,h,c)}o=o.child}return o;case 26:return zp(s,o),s===null?(c=_O(o.type,null,o.pendingProps,null))?o.memoizedState=c:Je||(c=o.type,s=o.pendingProps,h=rg(ke.current).createElement(c),h[rn]=o,h[In]=s,Hn(h,c,s),an(h),o.stateNode=h):o.memoizedState=_O(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Be(o),s===null&&Je&&(h=o.stateNode=vO(o.type,o.pendingProps,ke.current),qn=o,ti=!0,b=Ct,oo(o.type)?(Kx=b,Ct=ri(h.firstChild)):Ct=b),$n(s,o,o.pendingProps.children,c),zp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Je&&((b=h=Ct)&&(h=tq(h,o.type,o.pendingProps,ti),h!==null?(o.stateNode=h,qn=o,Ct=ri(h.firstChild),ti=!1,b=!0):b=!1),b||Gs(o)),Be(o),b=o.type,x=o.pendingProps,I=s!==null?s.memoizedProps:null,h=x.children,Ux(b,x)?h=null:I!==null&&Ux(b,I)&&(o.flags|=32),o.memoizedState!==null&&(b=zb(s,o,gU,null,null,c),Nf._currentValue=b),zp(s,o),$n(s,o,h,c),o.child;case 6:return s===null&&Je&&((s=c=Ct)&&(c=nq(c,o.pendingProps,ti),c!==null?(o.stateNode=c,qn=o,Ct=null,s=!0):s=!1),s||Gs(o)),null;case 13:return oI(s,o,c);case 4:return Vt(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=wl(o,null,h,c):$n(s,o,h,c),o.child;case 11:return Z2(s,o,o.type,o.pendingProps,c);case 7:return $n(s,o,o.pendingProps,c),o.child;case 8:return $n(s,o,o.pendingProps.children,c),o.child;case 12:return $n(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Ws(o,o.type,h.value),$n(s,o,h.children,c),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,vl(o),b=Fn(b),h=h(b),o.flags|=1,$n(s,o,h,c),o.child;case 14:return J2(s,o,o.type,o.pendingProps,c);case 15:return eI(s,o,o.type,o.pendingProps,c);case 19:return uI(s,o,c);case 31:return SU(s,o,c);case 22:return tI(s,o,c,o.pendingProps);case 24:return vl(o),h=Fn(on),s===null?(b=Nb(),b===null&&(b=Et,x=Ib(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=c),b=x),o.memoizedState={parent:h,cache:b},jb(o),Ws(o,on,b)):((s.lanes&c)!==0&&(Rb(s,o),cf(o,null,null,c),uf()),b=s.memoizedState,x=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Ws(o,on,h)):(h=x.cache,Ws(o,on,h),h!==b.cache&&Cb(o,[on],c,!0))),$n(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function qa(s){s.flags|=4}function mx(s,o,c,h,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(LI())s.flags|=8192;else throw _l=Ap,Pb}else s.flags&=-16777217}function dI(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!TO(o))if(LI())s.flags|=8192;else throw _l=Ap,Pb}function qp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Wm():536870912,s.lanes|=o,sc|=o)}function gf(s,o){if(!Je)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function It(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function TU(s,o,c){var h=o.pendingProps;switch(wb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(o),null;case 1:return It(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Va(on),oe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Gu(o)?qa(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sb())),It(o),null;case 26:var b=o.type,x=o.memoizedState;return s===null?(qa(o),x!==null?(It(o),dI(o,x)):(It(o),mx(o,b,null,h,c))):x?x!==s.memoizedState?(qa(o),It(o),dI(o,x)):(It(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&qa(o),It(o),mx(o,b,s,h,c)),null;case 27:if($e(o),c=ke.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&qa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return It(o),null}s=be.current,Gu(o)?$C(o):(s=vO(b,h,c),o.stateNode=s,qa(o))}return It(o),null;case 5:if($e(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&qa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return It(o),null}if(x=be.current,Gu(o))$C(o);else{var I=rg(ke.current);switch(x){case 1:x=I.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=I.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=I.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?I.createElement(b,{is:h.is}):I.createElement(b)}}x[rn]=o,x[In]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=x;e:switch(Hn(x,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&qa(o)}}return It(o),mx(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&qa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=ke.current,Gu(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,b=qn,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}s[rn]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||oO(s.nodeValue,c)),s||Gs(o,!0)}else s=rg(s).createTextNode(h),s[rn]=o,o.stateNode=s}return It(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(h=Gu(o),c!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[rn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),s=!1}else c=Sb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(Rr(o),o):(Rr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return It(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Gu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[rn]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),b=!1}else b=Sb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Rr(o),o):(Rr(o),null)}return Rr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==b&&(h.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),qp(o,o.updateQueue),It(o),null);case 4:return oe(),s===null&&Mx(o.stateNode.containerInfo),It(o),null;case 10:return Va(o.type),It(o),null;case 19:if(te(Jt),h=o.memoizedState,h===null)return It(o),null;if(b=(o.flags&128)!==0,x=h.rendering,x===null)if(b)gf(h,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=Op(s),x!==null){for(o.flags|=128,gf(h,!1),s=x.updateQueue,o.updateQueue=s,qp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)BC(c,s),c=c.sibling;return pe(Jt,Jt.current&1|2),Je&&Ma(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&ar()>Gp&&(o.flags|=128,b=!0,gf(h,!1),o.lanes=4194304)}else{if(!b)if(s=Op(x),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,qp(o,s),gf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Je)return It(o),null}else 2*ar()-h.renderingStartTime>Gp&&c!==536870912&&(o.flags|=128,b=!0,gf(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(s=h.last,s!==null?s.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=ar(),s.sibling=null,c=Jt.current,pe(Jt,b?c&1|2:c&1),Je&&Ma(o,h.treeForkCount),s):(It(o),null);case 22:case 23:return Rr(o),Lb(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(It(o),o.subtreeFlags&6&&(o.flags|=8192)):It(o),c=o.updateQueue,c!==null&&qp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&te(bl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Va(on),It(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function CU(s,o){switch(wb(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Va(on),oe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(Rr(o),o.alternate===null)throw Error(r(340));gl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Rr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));gl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return te(Jt),null;case 4:return oe(),null;case 10:return Va(o.type),null;case 22:case 23:return Rr(o),Lb(),s!==null&&te(bl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Va(on),null;case 25:return null;default:return null}}function fI(s,o){switch(wb(o),o.tag){case 3:Va(on),oe();break;case 26:case 27:case 5:$e(o);break;case 4:oe();break;case 31:o.memoizedState!==null&&Rr(o);break;case 13:Rr(o);break;case 19:te(Jt);break;case 10:Va(o.type);break;case 22:case 23:Rr(o),Lb(),s!==null&&te(bl);break;case 24:Va(on)}}function yf(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&s)===s){h=void 0;var x=c.create,I=c.inst;h=x(),I.destroy=h}c=c.next}while(c!==b)}}catch(k){ft(o,o.return,k)}}function eo(s,o,c){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var x=b.next;h=x;do{if((h.tag&s)===s){var I=h.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,b=o;var H=c,J=k;try{J()}catch(se){ft(b,H,se)}}}h=h.next}while(h!==x)}}catch(se){ft(o,o.return,se)}}function hI(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{r2(o,c)}catch(h){ft(s,s.return,h)}}}function mI(s,o,c){c.props=Sl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ft(s,o,h)}}function vf(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(b){ft(s,o,b)}}function la(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){ft(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){ft(s,o,b)}else c.current=null}function pI(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){ft(s,s.return,b)}}function px(s,o,c){try{var h=s.stateNode;YU(h,s.type,c,o),h[In]=o}catch(b){ft(s,s.return,b)}}function gI(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&oo(s.type)||s.tag===4}function gx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&oo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yx(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=_i));else if(h!==4&&(h===27&&oo(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(yx(s,o,c),s=s.sibling;s!==null;)yx(s,o,c),s=s.sibling}function Fp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&oo(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Fp(s,o,c),s=s.sibling;s!==null;)Fp(s,o,c),s=s.sibling}function yI(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Hn(o,h,c),o[rn]=s,o[In]=c}catch(x){ft(s,s.return,x)}}var Fa=!1,cn=!1,vx=!1,vI=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function IU(s,o){if(s=s.containerInfo,Bx=cg,s=NC(s),db(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,k=-1,H=-1,J=0,se=0,de=s,ee=null;t:for(;;){for(var ie;de!==c||b!==0&&de.nodeType!==3||(k=I+b),de!==x||h!==0&&de.nodeType!==3||(H=I+h),de.nodeType===3&&(I+=de.nodeValue.length),(ie=de.firstChild)!==null;)ee=de,de=ie;for(;;){if(de===s)break t;if(ee===c&&++J===b&&(k=I),ee===x&&++se===h&&(H=I),(ie=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ie}c=k===-1||H===-1?null:{start:k,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(zx={focusedElem:s,selectionRange:c},cg=!1,Nn=o;Nn!==null;)if(o=Nn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Nn=s;else for(;Nn!==null;){switch(o=Nn,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)b=s[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=o,b=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var Ae=Sl(c.type,b);s=h.getSnapshotBeforeUpdate(Ae,x),h.__reactInternalSnapshotBeforeUpdate=s}catch(Re){ft(c,c.return,Re)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Fx(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Nn=s;break}Nn=o.return}}function bI(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ha(s,c),h&4&&yf(5,c);break;case 1:if(Ha(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(I){ft(c,c.return,I)}else{var b=Sl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(I){ft(c,c.return,I)}}h&64&&hI(c),h&512&&vf(c,c.return);break;case 3:if(Ha(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{r2(s,o)}catch(I){ft(c,c.return,I)}}break;case 27:o===null&&h&4&&yI(c);case 26:case 5:Ha(s,c),o===null&&h&4&&pI(c),h&512&&vf(c,c.return);break;case 12:Ha(s,c);break;case 31:Ha(s,c),h&4&&wI(s,c);break;case 13:Ha(s,c),h&4&&EI(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=LU.bind(null,c),rq(s,c))));break;case 22:if(h=c.memoizedState!==null||Fa,!h){o=o!==null&&o.memoizedState!==null||cn,b=Fa;var x=cn;Fa=h,(cn=o)&&!x?Ka(s,c,(c.subtreeFlags&8772)!==0):Ha(s,c),Fa=b,cn=x}break;case 30:break;default:Ha(s,c)}}function xI(s){var o=s.alternate;o!==null&&(s.alternate=null,xI(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Nu(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Pt=null,yr=!1;function $a(s,o,c){for(c=c.child;c!==null;)_I(s,o,c),c=c.sibling}function _I(s,o,c){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(yi,c)}catch{}switch(c.tag){case 26:cn||la(c,o),$a(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cn||la(c,o);var h=Pt,b=yr;oo(c.type)&&(Pt=c.stateNode,yr=!1),$a(s,o,c),Cf(c.stateNode),Pt=h,yr=b;break;case 5:cn||la(c,o);case 6:if(h=Pt,b=yr,Pt=null,$a(s,o,c),Pt=h,yr=b,Pt!==null)if(yr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(c.stateNode)}catch(x){ft(c,o,x)}else try{Pt.removeChild(c.stateNode)}catch(x){ft(c,o,x)}break;case 18:Pt!==null&&(yr?(s=Pt,hO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),mc(s)):hO(Pt,c.stateNode));break;case 4:h=Pt,b=yr,Pt=c.stateNode.containerInfo,yr=!0,$a(s,o,c),Pt=h,yr=b;break;case 0:case 11:case 14:case 15:eo(2,c,o),cn||eo(4,c,o),$a(s,o,c);break;case 1:cn||(la(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&mI(c,o,h)),$a(s,o,c);break;case 21:$a(s,o,c);break;case 22:cn=(h=cn)||c.memoizedState!==null,$a(s,o,c),cn=h;break;default:$a(s,o,c)}}function wI(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{mc(s)}catch(c){ft(o,o.return,c)}}}function EI(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mc(s)}catch(c){ft(o,o.return,c)}}function OU(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new vI),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new vI),o;default:throw Error(r(435,s.tag))}}function $p(s,o){var c=OU(s);o.forEach(function(h){if(!c.has(h)){c.add(h);var b=VU.bind(null,s,h);h.then(b,b)}})}function vr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],x=s,I=o,k=I;e:for(;k!==null;){switch(k.tag){case 27:if(oo(k.type)){Pt=k.stateNode,yr=!1;break e}break;case 5:Pt=k.stateNode,yr=!1;break e;case 3:case 4:Pt=k.stateNode.containerInfo,yr=!0;break e}k=k.return}if(Pt===null)throw Error(r(160));_I(x,I,b),Pt=null,yr=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)SI(o,s),o=o.sibling}var Ci=null;function SI(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vr(o,s),br(s),h&4&&(eo(3,s,s.return),yf(3,s),eo(5,s,s.return));break;case 1:vr(o,s),br(s),h&512&&(cn||c===null||la(c,c.return)),h&64&&Fa&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=Ci;if(vr(o,s),br(s),h&512&&(cn||c===null||la(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":x=b.getElementsByTagName("title")[0],(!x||x[Wi]||x[rn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(h),b.head.insertBefore(x,b.querySelector("head > title"))),Hn(x,h,c),x[rn]=s,an(x),h=x;break e;case"link":var I=SO("link","href",b).get(h+(c.href||""));if(I){for(var k=0;k<I.length;k++)if(x=I[k],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(k,1);break t}}x=b.createElement(h),Hn(x,h,c),b.head.appendChild(x);break;case"meta":if(I=SO("meta","content",b).get(h+(c.content||""))){for(k=0;k<I.length;k++)if(x=I[k],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(k,1);break t}}x=b.createElement(h),Hn(x,h,c),b.head.appendChild(x);break;default:throw Error(r(468,h))}x[rn]=s,an(x),h=x}s.stateNode=h}else AO(b,s.type,s.stateNode);else s.stateNode=EO(b,h,s.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?AO(b,s.type,s.stateNode):EO(b,h,s.memoizedProps)):h===null&&s.stateNode!==null&&px(s,s.memoizedProps,c.memoizedProps)}break;case 27:vr(o,s),br(s),h&512&&(cn||c===null||la(c,c.return)),c!==null&&h&4&&px(s,s.memoizedProps,c.memoizedProps);break;case 5:if(vr(o,s),br(s),h&512&&(cn||c===null||la(c,c.return)),s.flags&32){b=s.stateNode;try{gr(b,"")}catch(Ae){ft(s,s.return,Ae)}}h&4&&s.stateNode!=null&&(b=s.memoizedProps,px(s,b,c!==null?c.memoizedProps:b)),h&1024&&(vx=!0);break;case 6:if(vr(o,s),br(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(Ae){ft(s,s.return,Ae)}}break;case 3:if(sg=null,b=Ci,Ci=ig(o.containerInfo),vr(o,s),Ci=b,br(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{mc(o.containerInfo)}catch(Ae){ft(s,s.return,Ae)}vx&&(vx=!1,AI(s));break;case 4:h=Ci,Ci=ig(s.stateNode.containerInfo),vr(o,s),br(s),Ci=h;break;case 12:vr(o,s),br(s);break;case 31:vr(o,s),br(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,$p(s,h)));break;case 13:vr(o,s),br(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Kp=ar()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,$p(s,h)));break;case 22:b=s.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,J=Fa,se=cn;if(Fa=J||b,cn=se||H,vr(o,s),cn=se,Fa=J,br(s),h&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||H||Fa||cn||Al(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){H=c=o;try{if(x=H.stateNode,b)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{k=H.stateNode;var de=H.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ae){ft(H,H.return,Ae)}}}else if(o.tag===6){if(c===null){H=o;try{H.stateNode.nodeValue=b?"":H.memoizedProps}catch(Ae){ft(H,H.return,Ae)}}}else if(o.tag===18){if(c===null){H=o;try{var ie=H.stateNode;b?mO(ie,!0):mO(H.stateNode,!1)}catch(Ae){ft(H,H.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,$p(s,c))));break;case 19:vr(o,s),br(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,$p(s,h)));break;case 30:break;case 21:break;default:vr(o,s),br(s)}}function br(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(gI(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,x=gx(s);Fp(s,x,b);break;case 5:var I=c.stateNode;c.flags&32&&(gr(I,""),c.flags&=-33);var k=gx(s);Fp(s,k,I);break;case 3:case 4:var H=c.stateNode.containerInfo,J=gx(s);yx(s,J,H);break;default:throw Error(r(161))}}catch(se){ft(s,s.return,se)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function AI(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;AI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ha(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)bI(s,o.alternate,o),o=o.sibling}function Al(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:eo(4,o,o.return),Al(o);break;case 1:la(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&mI(o,o.return,c),Al(o);break;case 27:Cf(o.stateNode);case 26:case 5:la(o,o.return),Al(o);break;case 22:o.memoizedState===null&&Al(o);break;case 30:Al(o);break;default:Al(o)}s=s.sibling}}function Ka(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=s,x=o,I=x.flags;switch(x.tag){case 0:case 11:case 15:Ka(b,x,c),yf(4,x);break;case 1:if(Ka(b,x,c),h=x,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(J){ft(h,h.return,J)}if(h=x,b=h.updateQueue,b!==null){var k=h.stateNode;try{var H=b.shared.hiddenCallbacks;if(H!==null)for(b.shared.hiddenCallbacks=null,b=0;b<H.length;b++)n2(H[b],k)}catch(J){ft(h,h.return,J)}}c&&I&64&&hI(x),vf(x,x.return);break;case 27:yI(x);case 26:case 5:Ka(b,x,c),c&&h===null&&I&4&&pI(x),vf(x,x.return);break;case 12:Ka(b,x,c);break;case 31:Ka(b,x,c),c&&I&4&&wI(b,x);break;case 13:Ka(b,x,c),c&&I&4&&EI(b,x);break;case 22:x.memoizedState===null&&Ka(b,x,c),vf(x,x.return);break;case 30:break;default:Ka(b,x,c)}o=o.sibling}}function bx(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&rf(c))}function xx(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&rf(s))}function Ii(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)TI(s,o,c,h),o=o.sibling}function TI(s,o,c,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(s,o,c,h),b&2048&&yf(9,o);break;case 1:Ii(s,o,c,h);break;case 3:Ii(s,o,c,h),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&rf(s)));break;case 12:if(b&2048){Ii(s,o,c,h),s=o.stateNode;try{var x=o.memoizedProps,I=x.id,k=x.onPostCommit;typeof k=="function"&&k(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){ft(o,o.return,H)}}else Ii(s,o,c,h);break;case 31:Ii(s,o,c,h);break;case 13:Ii(s,o,c,h);break;case 23:break;case 22:x=o.stateNode,I=o.alternate,o.memoizedState!==null?x._visibility&2?Ii(s,o,c,h):bf(s,o):x._visibility&2?Ii(s,o,c,h):(x._visibility|=2,rc(s,o,c,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&bx(I,o);break;case 24:Ii(s,o,c,h),b&2048&&xx(o.alternate,o);break;default:Ii(s,o,c,h)}}function rc(s,o,c,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,I=o,k=c,H=h,J=I.flags;switch(I.tag){case 0:case 11:case 15:rc(x,I,k,H,b),yf(8,I);break;case 23:break;case 22:var se=I.stateNode;I.memoizedState!==null?se._visibility&2?rc(x,I,k,H,b):bf(x,I):(se._visibility|=2,rc(x,I,k,H,b)),b&&J&2048&&bx(I.alternate,I);break;case 24:rc(x,I,k,H,b),b&&J&2048&&xx(I.alternate,I);break;default:rc(x,I,k,H,b)}o=o.sibling}}function bf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,b=h.flags;switch(h.tag){case 22:bf(c,h),b&2048&&bx(h.alternate,h);break;case 24:bf(c,h),b&2048&&xx(h.alternate,h);break;default:bf(c,h)}o=o.sibling}}var xf=8192;function ic(s,o,c){if(s.subtreeFlags&xf)for(s=s.child;s!==null;)CI(s,o,c),s=s.sibling}function CI(s,o,c){switch(s.tag){case 26:ic(s,o,c),s.flags&xf&&s.memoizedState!==null&&pq(c,Ci,s.memoizedState,s.memoizedProps);break;case 5:ic(s,o,c);break;case 3:case 4:var h=Ci;Ci=ig(s.stateNode.containerInfo),ic(s,o,c),Ci=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=xf,xf=16777216,ic(s,o,c),xf=h):ic(s,o,c));break;default:ic(s,o,c)}}function II(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function _f(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Nn=h,NI(h,s)}II(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)OI(s),s=s.sibling}function OI(s){switch(s.tag){case 0:case 11:case 15:_f(s),s.flags&2048&&eo(9,s,s.return);break;case 3:_f(s);break;case 12:_f(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Hp(s)):_f(s);break;default:_f(s)}}function Hp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Nn=h,NI(h,s)}II(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:eo(8,o,o.return),Hp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Hp(o));break;default:Hp(o)}s=s.sibling}}function NI(s,o){for(;Nn!==null;){var c=Nn;switch(c.tag){case 0:case 11:case 15:eo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:rf(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Nn=h;else e:for(c=s;Nn!==null;){h=Nn;var b=h.sibling,x=h.return;if(xI(h),h===c){Nn=null;break e}if(b!==null){b.return=x,Nn=b;break e}Nn=x}}}var NU={getCacheForType:function(s){var o=Fn(on),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return Fn(on).controller.signal}},PU=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Ge=null,Ye=0,dt=0,Dr=null,to=!1,ac=!1,_x=!1,Ga=0,Ft=0,no=0,Tl=0,wx=0,kr=0,sc=0,wf=null,xr=null,Ex=!1,Kp=0,PI=0,Gp=1/0,Wp=null,ro=null,_n=0,io=null,oc=null,Wa=0,Sx=0,Ax=null,jI=null,Ef=0,Tx=null;function Mr(){return(lt&2)!==0&&Ye!==0?Ye&-Ye:W.T!==null?jx():Ym()}function RI(){if(kr===0)if((Ye&536870912)===0||Je){var s=Jo;Jo<<=1,(Jo&3932160)===0&&(Jo=262144),kr=s}else kr=536870912;return s=jr.current,s!==null&&(s.flags|=32),kr}function _r(s,o,c){(s===Et&&(dt===2||dt===9)||s.cancelPendingCommit!==null)&&(lc(s,0),ao(s,Ye,kr,!1)),el(s,c),((lt&2)===0||s!==Et)&&(s===Et&&((lt&2)===0&&(Tl|=c),Ft===4&&ao(s,Ye,kr,!1)),ua(s))}function DI(s,o,c){if((lt&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&s.expiredLanes)===0||vi(s,o),b=h?DU(s,o):Ix(s,o,!0),x=h;do{if(b===0){ac&&!h&&ao(s,o,0,!1);break}else{if(c=s.current.alternate,x&&!jU(c)){b=Ix(s,o,!1),x=!1;continue}if(b===2){if(x=o,s.errorRecoveryDisabledLanes&x)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var k=s;b=wf;var H=k.current.memoizedState.isDehydrated;if(H&&(lc(k,I).flags|=256),I=Ix(k,I,!1),I!==2){if(_x&&!H){k.errorRecoveryDisabledLanes|=x,Tl|=x,b=4;break e}x=xr,xr=b,x!==null&&(xr===null?xr=x:xr.push.apply(xr,x))}b=I}if(x=!1,b!==2)continue}}if(b===1){lc(s,0),ao(s,o,0,!0);break}e:{switch(h=s,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ao(h,o,kr,!to);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Kp+300-ar(),10<b)){if(ao(h,o,kr,!to),Hi(h,0,!0)!==0)break e;Wa=o,h.timeoutHandle=dO(kI.bind(null,h,c,xr,Wp,Ex,o,kr,Tl,sc,to,x,"Throttled",-0,0),b);break e}kI(h,c,xr,Wp,Ex,o,kr,Tl,sc,to,x,null,-0,0)}}break}while(!0);ua(s)}function kI(s,o,c,h,b,x,I,k,H,J,se,de,ee,ie){if(s.timeoutHandle=-1,de=o.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},CI(o,x,de);var Ae=(x&62914560)===x?Kp-ar():(x&4194048)===x?PI-ar():0;if(Ae=gq(de,Ae),Ae!==null){Wa=x,s.cancelPendingCommit=Ae(FI.bind(null,s,o,x,c,h,b,I,k,H,se,de,null,ee,ie)),ao(s,x,I,!J);return}}FI(s,o,x,c,h,b,I,k,H)}function jU(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],x=b.getSnapshot;b=b.value;try{if(!Nr(x(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ao(s,o,c,h){o&=~wx,o&=~Tl,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var b=o;0<b;){var x=31-Xt(b),I=1<<x;h[x]=-1,b&=~I}c!==0&&tl(s,c,o)}function Yp(){return(lt&6)===0?(Sf(0),!1):!0}function Cx(){if(Ge!==null){if(dt===0)var s=Ge.return;else s=Ge,La=yl=null,Fb(s),Zu=null,sf=0,s=Ge;for(;s!==null;)fI(s.alternate,s),s=s.return;Ge=null}}function lc(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,ZU(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Wa=0,Cx(),Et=s,Ge=c=ka(s.current,null),Ye=o,dt=0,Dr=null,to=!1,ac=vi(s,o),_x=!1,sc=kr=wx=Tl=no=Ft=0,xr=wf=null,Ex=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var b=31-Xt(h),x=1<<b;o|=s[b],h&=~x}return Ga=o,gp(),c}function MI(s,o){qe=null,W.H=mf,o===Xu||o===Sp?(o=ZC(),dt=3):o===Pb?(o=ZC(),dt=4):dt=o===ax?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dr=o,Ge===null&&(Ft=1,Vp(s,Zr(o,s.current)))}function LI(){var s=jr.current;return s===null?!0:(Ye&4194048)===Ye?ni===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?s===ni:!1}function VI(){var s=W.H;return W.H=mf,s===null?mf:s}function BI(){var s=W.A;return W.A=NU,s}function Qp(){Ft=4,to||(Ye&4194048)!==Ye&&jr.current!==null||(ac=!0),(no&134217727)===0&&(Tl&134217727)===0||Et===null||ao(Et,Ye,kr,!1)}function Ix(s,o,c){var h=lt;lt|=2;var b=VI(),x=BI();(Et!==s||Ye!==o)&&(Wp=null,lc(s,o)),o=!1;var I=Ft;e:do try{if(dt!==0&&Ge!==null){var k=Ge,H=Dr;switch(dt){case 8:Cx(),I=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(o=!0);var J=dt;if(dt=0,Dr=null,uc(s,k,H,J),c&&ac){I=0;break e}break;default:J=dt,dt=0,Dr=null,uc(s,k,H,J)}}RU(),I=Ft;break}catch(se){MI(s,se)}while(!0);return o&&s.shellSuspendCounter++,La=yl=null,lt=h,W.H=b,W.A=x,Ge===null&&(Et=null,Ye=0,gp()),I}function RU(){for(;Ge!==null;)zI(Ge)}function DU(s,o){var c=lt;lt|=2;var h=VI(),b=BI();Et!==s||Ye!==o?(Wp=null,Gp=ar()+500,lc(s,o)):ac=vi(s,o);e:do try{if(dt!==0&&Ge!==null){o=Ge;var x=Dr;t:switch(dt){case 1:dt=0,Dr=null,uc(s,o,x,1);break;case 2:case 9:if(QC(x)){dt=0,Dr=null,UI(o);break}o=function(){dt!==2&&dt!==9||Et!==s||(dt=7),ua(s)},x.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:QC(x)?(dt=0,Dr=null,UI(o)):(dt=0,Dr=null,uc(s,o,x,7));break;case 5:var I=null;switch(Ge.tag){case 26:I=Ge.memoizedState;case 5:case 27:var k=Ge;if(I?TO(I):k.stateNode.complete){dt=0,Dr=null;var H=k.sibling;if(H!==null)Ge=H;else{var J=k.return;J!==null?(Ge=J,Xp(J)):Ge=null}break t}}dt=0,Dr=null,uc(s,o,x,5);break;case 6:dt=0,Dr=null,uc(s,o,x,6);break;case 8:Cx(),Ft=6;break e;default:throw Error(r(462))}}kU();break}catch(se){MI(s,se)}while(!0);return La=yl=null,W.H=h,W.A=b,lt=c,Ge!==null?0:(Et=null,Ye=0,gp(),Ft)}function kU(){for(;Ge!==null&&!ib();)zI(Ge)}function zI(s){var o=cI(s.alternate,s,Ga);s.memoizedProps=s.pendingProps,o===null?Xp(s):Ge=o}function UI(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=iI(c,o,o.pendingProps,o.type,void 0,Ye);break;case 11:o=iI(c,o,o.pendingProps,o.type.render,o.ref,Ye);break;case 5:Fb(o);default:fI(c,o),o=Ge=BC(o,Ga),o=cI(c,o,Ga)}s.memoizedProps=s.pendingProps,o===null?Xp(s):Ge=o}function uc(s,o,c,h){La=yl=null,Fb(o),Zu=null,sf=0;var b=o.return;try{if(EU(s,b,o,c,Ye)){Ft=1,Vp(s,Zr(c,s.current)),Ge=null;return}}catch(x){if(b!==null)throw Ge=b,x;Ft=1,Vp(s,Zr(c,s.current)),Ge=null;return}o.flags&32768?(Je||h===1?s=!0:ac||(Ye&536870912)!==0?s=!1:(to=s=!0,(h===2||h===9||h===3||h===6)&&(h=jr.current,h!==null&&h.tag===13&&(h.flags|=16384))),qI(o,s)):Xp(o)}function Xp(s){var o=s;do{if((o.flags&32768)!==0){qI(o,to);return}s=o.return;var c=TU(o.alternate,o,Ga);if(c!==null){Ge=c;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=s}while(o!==null);Ft===0&&(Ft=5)}function qI(s,o){do{var c=CU(s.alternate,s);if(c!==null){c.flags&=32767,Ge=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ge=s;return}Ge=s=c}while(s!==null);Ft=6,Ge=null}function FI(s,o,c,h,b,x,I,k,H){s.cancelPendingCommit=null;do Zp();while(_n!==0);if((lt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=gb,ob(s,c,x,I,k,H),s===Et&&(Ge=Et=null,Ye=0),oc=o,io=s,Wa=c,Sx=x,Ax=b,jI=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BU(ks,function(){return WI(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,b=ae.p,ae.p=2,I=lt,lt|=4;try{IU(s,o,c)}finally{lt=I,ae.p=b,W.T=h}}_n=1,$I(),HI(),KI()}}function $I(){if(_n===1){_n=0;var s=io,o=oc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=ae.p;ae.p=2;var b=lt;lt|=4;try{SI(o,s);var x=zx,I=NC(s.containerInfo),k=x.focusedElem,H=x.selectionRange;if(I!==k&&k&&k.ownerDocument&&OC(k.ownerDocument.documentElement,k)){if(H!==null&&db(k)){var J=H.start,se=H.end;if(se===void 0&&(se=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(se,k.value.length);else{var de=k.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Ae=k.textContent.length,Re=Math.min(H.start,Ae),xt=H.end===void 0?Re:Math.min(H.end,Ae);!ie.extend&&Re>xt&&(I=xt,xt=Re,Re=I);var G=IC(k,Re),K=IC(k,xt);if(G&&K&&(ie.rangeCount!==1||ie.anchorNode!==G.node||ie.anchorOffset!==G.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=de.createRange();Z.setStart(G.node,G.offset),ie.removeAllRanges(),Re>xt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(de=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ce=de[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}cg=!!Bx,zx=Bx=null}finally{lt=b,ae.p=h,W.T=c}}s.current=o,_n=2}}function HI(){if(_n===2){_n=0;var s=io,o=oc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=ae.p;ae.p=2;var b=lt;lt|=4;try{bI(s,o.alternate,o)}finally{lt=b,ae.p=h,W.T=c}}_n=3}}function KI(){if(_n===4||_n===3){_n=0,qm();var s=io,o=oc,c=Wa,h=jI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_n=5:(_n=0,oc=io=null,GI(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(ro=null),Pa(c),o=o.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(yi,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,b=ae.p,ae.p=2,W.T=null;try{for(var x=s.onRecoverableError,I=0;I<h.length;I++){var k=h[I];x(k.value,{componentStack:k.stack})}}finally{W.T=o,ae.p=b}}(Wa&3)!==0&&Zp(),ua(s),b=s.pendingLanes,(c&261930)!==0&&(b&42)!==0?s===Tx?Ef++:(Ef=0,Tx=s):Ef=0,Sf(0)}}function GI(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,rf(o)))}function Zp(){return $I(),HI(),KI(),WI()}function WI(){if(_n!==5)return!1;var s=io,o=Sx;Sx=0;var c=Pa(Wa),h=W.T,b=ae.p;try{ae.p=32>c?32:c,W.T=null,c=Ax,Ax=null;var x=io,I=Wa;if(_n=0,oc=io=null,Wa=0,(lt&6)!==0)throw Error(r(331));var k=lt;if(lt|=4,OI(x.current),TI(x,x.current,I,c),lt=k,Sf(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(yi,x)}catch{}return!0}finally{ae.p=b,W.T=h,GI(s,o)}}function YI(s,o,c){o=Zr(c,o),o=ix(s.stateNode,o,2),s=Xs(s,o,2),s!==null&&(el(s,2),ua(s))}function ft(s,o,c){if(s.tag===3)YI(s,s,c);else for(;o!==null;){if(o.tag===3){YI(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ro===null||!ro.has(h))){s=Zr(c,s),c=Q2(2),h=Xs(o,c,2),h!==null&&(X2(c,h,o,s),el(h,2),ua(h));break}}o=o.return}}function Ox(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new PU;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(c)||(_x=!0,b.add(c),s=MU.bind(null,s,o,c),o.then(s,s))}function MU(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Et===s&&(Ye&c)===c&&(Ft===4||Ft===3&&(Ye&62914560)===Ye&&300>ar()-Kp?(lt&2)===0&&lc(s,0):wx|=c,sc===Ye&&(sc=0)),ua(s)}function QI(s,o){o===0&&(o=Wm()),s=ml(s,o),s!==null&&(el(s,o),ua(s))}function LU(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),QI(s,c)}function VU(s,o){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),QI(s,c)}function BU(s,o){return xn(s,o)}var Jp=null,cc=null,Nx=!1,eg=!1,Px=!1,so=0;function ua(s){s!==cc&&s.next===null&&(cc===null?Jp=cc=s:cc=cc.next=s),eg=!0,Nx||(Nx=!0,UU())}function Sf(s,o){if(!Px&&eg){Px=!0;do for(var c=!1,h=Jp;h!==null;){if(s!==0){var b=h.pendingLanes;if(b===0)var x=0;else{var I=h.suspendedLanes,k=h.pingedLanes;x=(1<<31-Xt(42|s)+1)-1,x&=b&~(I&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,eO(h,x))}else x=Ye,x=Hi(h,h===Et?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||vi(h,x)||(c=!0,eO(h,x));h=h.next}while(c);Px=!1}}function zU(){XI()}function XI(){eg=Nx=!1;var s=0;so!==0&&XU()&&(s=so);for(var o=ar(),c=null,h=Jp;h!==null;){var b=h.next,x=ZI(h,o);x===0?(h.next=null,c===null?Jp=b:c.next=b,b===null&&(cc=c)):(c=h,(s!==0||(x&3)!==0)&&(eg=!0)),h=b}_n!==0&&_n!==5||Sf(s),so!==0&&(so=0)}function ZI(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,b=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var I=31-Xt(x),k=1<<I,H=b[I];H===-1?((k&c)===0||(k&h)!==0)&&(b[I]=sb(k,o)):H<=o&&(s.expiredLanes|=k),x&=~k}if(o=Et,c=Ye,c=Hi(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(dt===2||dt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ds(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||vi(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&Ds(h),Pa(c)){case 2:case 8:c=Rd;break;case 32:c=ks;break;case 268435456:c=Fm;break;default:c=ks}return h=JI.bind(null,s),c=xn(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&Ds(h),s.callbackPriority=2,s.callbackNode=null,2}function JI(s,o){if(_n!==0&&_n!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Zp()&&s.callbackNode!==c)return null;var h=Ye;return h=Hi(s,s===Et?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(DI(s,h,o),ZI(s,ar()),s.callbackNode!=null&&s.callbackNode===c?JI.bind(null,s):null)}function eO(s,o){if(Zp())return null;DI(s,o,!0)}function UU(){JU(function(){(lt&6)!==0?xn(jd,zU):XI()})}function jx(){if(so===0){var s=Yu;s===0&&(s=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),so=s}return so}function tO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Du(""+s)}function nO(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function qU(s,o,c,h,b){if(o==="submit"&&c&&c.stateNode===b){var x=tO((b[In]||null).action),I=h.submitter;I&&(o=(o=I[In]||null)?tO(o.formAction):I.getAttribute("formAction"),o!==null&&(x=o,I=null));var k=new na("action","action",null,h,b);s.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(so!==0){var H=I?nO(b,I):new FormData(b);Zb(c,{pending:!0,data:H,method:b.method,action:x},null,H)}}else typeof x=="function"&&(k.preventDefault(),H=I?nO(b,I):new FormData(b),Zb(c,{pending:!0,data:H,method:b.method,action:x},x,H))},currentTarget:b}]})}}for(var Rx=0;Rx<pb.length;Rx++){var Dx=pb[Rx],FU=Dx.toLowerCase(),$U=Dx[0].toUpperCase()+Dx.slice(1);Ti(FU,"on"+$U)}Ti(RC,"onAnimationEnd"),Ti(DC,"onAnimationIteration"),Ti(kC,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(sU,"onTransitionRun"),Ti(oU,"onTransitionStart"),Ti(lU,"onTransitionCancel"),Ti(MC,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function rO(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],b=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var I=h.length-1;0<=I;I--){var k=h[I],H=k.instance,J=k.currentTarget;if(k=k.listener,H!==x&&b.isPropagationStopped())break e;x=k,b.currentTarget=J;try{x(b)}catch(se){pp(se)}b.currentTarget=null,x=H}else for(I=0;I<h.length;I++){if(k=h[I],H=k.instance,J=k.currentTarget,k=k.listener,H!==x&&b.isPropagationStopped())break e;x=k,b.currentTarget=J;try{x(b)}catch(se){pp(se)}b.currentTarget=null,x=H}}}}function We(s,o){var c=o[Ou];c===void 0&&(c=o[Ou]=new Set);var h=s+"__bubble";c.has(h)||(iO(o,s,2,!1),c.add(h))}function kx(s,o,c){var h=0;o&&(h|=4),iO(c,s,h,o)}var tg="_reactListening"+Math.random().toString(36).slice(2);function Mx(s){if(!s[tg]){s[tg]=!0,Md.forEach(function(c){c!=="selectionchange"&&(HU.has(c)||kx(c,!1,s),kx(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[tg]||(o[tg]=!0,kx("selectionchange",!1,o))}}function iO(s,o,c,h){switch(RO(o)){case 2:var b=bq;break;case 8:b=xq;break;default:b=Xx}c=b.bind(null,o,c,s),b=void 0,!sl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?s.addEventListener(o,c,{capture:!0,passive:b}):s.addEventListener(o,c,!0):b!==void 0?s.addEventListener(o,c,{passive:b}):s.addEventListener(o,c,!1)}function Lx(s,o,c,h,b){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var k=h.stateNode.containerInfo;if(k===b)break;if(I===4)for(I=h.return;I!==null;){var H=I.tag;if((H===3||H===4)&&I.stateNode.containerInfo===b)return;I=I.return}for(;k!==null;){if(I=Yi(k),I===null)return;if(H=I.tag,H===5||H===6||H===26||H===27){h=x=I;continue e}k=k.parentNode}}h=h.return}Us(function(){var J=x,se=Wr(c),de=[];e:{var ee=LC.get(s);if(ee!==void 0){var ie=na,Ae=s;switch(s){case"keypress":if(ll(c)===0)break e;case"keydown":case"keyup":ie=fp;break;case"focusin":Ae="focus",ie=cl;break;case"focusout":Ae="blur",ie=cl;break;case"beforeblur":case"afterblur":ie=cl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T;break;case RC:case DC:case kC:ie=ap;break;case MC:ie=z;break;case"scroll":case"scrollend":ie=Wd;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Da;break;case"toggle":case"beforetoggle":ie=Ue}var Re=(o&4)!==0,xt=!Re&&(s==="scroll"||s==="scrollend"),G=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var K=J,Z;K!==null;){var ce=K;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||G===null||(ce=wi(K,G),ce!=null&&Re.push(Tf(K,ce,Z))),xt)break;K=K.return}0<Re.length&&(ee=new ie(ee,Ae,null,c,se),de.push({event:ee,listeners:Re}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",ee&&c!==Hd&&(Ae=c.relatedTarget||c.fromElement)&&(Yi(Ae)||Ae[Gi]))break e;if((ie||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Ae=c.relatedTarget||c.toElement,ie=J,Ae=Ae?Yi(Ae):null,Ae!==null&&(xt=a(Ae),Re=Ae.tag,Ae!==xt||Re!==5&&Re!==27&&Re!==6)&&(Ae=null)):(ie=null,Ae=J),ie!==Ae)){if(Re=Yd,ce="onMouseLeave",G="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Da,ce="onPointerLeave",G="onPointerEnter",K="pointer"),xt=ie==null?ee:Ir(ie),Z=Ae==null?ee:Ir(Ae),ee=new Re(ce,K+"leave",ie,c,se),ee.target=xt,ee.relatedTarget=Z,ce=null,Yi(se)===J&&(Re=new Re(G,K+"enter",Ae,c,se),Re.target=Z,Re.relatedTarget=xt,ce=Re),xt=ce,ie&&Ae)t:{for(Re=KU,G=ie,K=Ae,Z=0,ce=G;ce;ce=Re(ce))Z++;ce=0;for(var Ne=K;Ne;Ne=Re(Ne))ce++;for(;0<Z-ce;)G=Re(G),Z--;for(;0<ce-Z;)K=Re(K),ce--;for(;Z--;){if(G===K||K!==null&&G===K.alternate){Re=G;break t}G=Re(G),K=Re(K)}Re=null}else Re=null;ie!==null&&aO(de,ee,ie,Re,!1),Ae!==null&&xt!==null&&aO(de,xt,Ae,Re,!0)}}e:{if(ee=J?Ir(J):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var nt=wC;else if(xC(ee))if(EC)nt=rU;else{nt=tU;var Ie=eU}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Ru(J.elementType)&&(nt=wC):nt=nU;if(nt&&(nt=nt(s,J))){_C(de,nt,c,se);break e}Ie&&Ie(s,ee,J),s==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&qd(ee,"number",ee.value)}switch(Ie=J?Ir(J):window,s){case"focusin":(xC(Ie)||Ie.contentEditable==="true")&&(Uu=Ie,fb=J,ef=null);break;case"focusout":ef=fb=Uu=null;break;case"mousedown":hb=!0;break;case"contextmenu":case"mouseup":case"dragend":hb=!1,PC(de,c,se);break;case"selectionchange":if(aU)break;case"keydown":case"keyup":PC(de,c,se)}var Fe;if(ot)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else zu?dl(s,c)&&(Qe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(aa&&c.locale!=="ko"&&(zu||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&zu&&(Fe=Gd()):(ta=se,Kd="value"in ta?ta.value:ta.textContent,zu=!0)),Ie=ng(J,Qe),0<Ie.length&&(Qe=new ia(Qe,s,null,c,se),de.push({event:Qe,listeners:Ie}),Fe?Qe.data=Fe:(Fe=Bu(c),Fe!==null&&(Qe.data=Fe)))),(Fe=Qr?Q9(s,c):X9(s,c))&&(Qe=ng(J,"onBeforeInput"),0<Qe.length&&(Ie=new ia("onBeforeInput","beforeinput",null,c,se),de.push({event:Ie,listeners:Qe}),Ie.data=Fe)),qU(de,s,J,c,se)}rO(de,o)})}function Tf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ng(s,o){for(var c=o+"Capture",h=[];s!==null;){var b=s,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=wi(s,c),b!=null&&h.unshift(Tf(s,b,x)),b=wi(s,o),b!=null&&h.push(Tf(s,b,x))),s.tag===3)return h;s=s.return}return[]}function KU(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aO(s,o,c,h,b){for(var x=o._reactName,I=[];c!==null&&c!==h;){var k=c,H=k.alternate,J=k.stateNode;if(k=k.tag,H!==null&&H===h)break;k!==5&&k!==26&&k!==27||J===null||(H=J,b?(J=wi(c,x),J!=null&&I.unshift(Tf(c,J,H))):b||(J=wi(c,x),J!=null&&I.push(Tf(c,J,H)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var GU=/\r\n?/g,WU=/\u0000|\uFFFD/g;function sO(s){return(typeof s=="string"?s:""+s).replace(GU,`
`).replace(WU,"")}function oO(s,o){return o=sO(o),sO(s)===o}function bt(s,o,c,h,b,x){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||gr(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&gr(s,""+h);break;case"className":Or(s,"class",h);break;case"tabIndex":Or(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(s,c,h);break;case"style":$d(s,h,x);break;case"data":if(o!=="object"){Or(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Du(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&bt(s,o,"name",b.name,b,null),bt(s,o,"formEncType",b.formEncType,b,null),bt(s,o,"formMethod",b.formMethod,b,null),bt(s,o,"formTarget",b.formTarget,b,null)):(bt(s,o,"encType",b.encType,b,null),bt(s,o,"method",b.method,b,null),bt(s,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Du(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=_i);break;case"onScroll":h!=null&&We("scroll",s);break;case"onScrollEnd":h!=null&&We("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Du(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":We("beforetoggle",s),We("toggle",s),Pu(s,"popover",h);break;case"xlinkActuate":sn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":sn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":sn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":sn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":sn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":sn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":sn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":sn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":sn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pu(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=np.get(c)||c,Pu(s,c,h))}}function Vx(s,o,c,h,b,x){switch(c){case"style":$d(s,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?gr(s,h):(typeof h=="number"||typeof h=="bigint")&&gr(s,""+h);break;case"onScroll":h!=null&&We("scroll",s);break;case"onScrollEnd":h!=null&&We("scrollend",s);break;case"onClick":h!=null&&(s.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ld.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),x=s[In]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(o,x,b),typeof h=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,b);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Pu(s,c,h)}}}function Hn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",s),We("load",s);var h=!1,b=!1,x;for(x in c)if(c.hasOwnProperty(x)){var I=c[x];if(I!=null)switch(x){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:bt(s,o,x,I,c,null)}}b&&bt(s,o,"srcSet",c.srcSet,c,null),h&&bt(s,o,"src",c.src,c,null);return;case"input":We("invalid",s);var k=x=I=b=null,H=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var se=c[h];if(se!=null)switch(h){case"name":b=se;break;case"type":I=se;break;case"checked":H=se;break;case"defaultChecked":J=se;break;case"value":x=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:bt(s,o,h,se,c,null)}}Jm(s,x,k,H,J,I,b,!1);return;case"select":We("invalid",s),h=I=x=null;for(b in c)if(c.hasOwnProperty(b)&&(k=c[b],k!=null))switch(b){case"value":x=k;break;case"defaultValue":I=k;break;case"multiple":h=k;default:bt(s,o,b,k,c,null)}o=x,c=I,s.multiple=!!h,o!=null?Ls(s,!!h,o,!1):c!=null&&Ls(s,!!h,c,!0);return;case"textarea":We("invalid",s),x=b=h=null;for(I in c)if(c.hasOwnProperty(I)&&(k=c[I],k!=null))switch(I){case"value":h=k;break;case"defaultValue":b=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:bt(s,o,I,k,c,null)}Vs(s,h,b,x);return;case"option":for(H in c)c.hasOwnProperty(H)&&(h=c[H],h!=null)&&(H==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":bt(s,o,H,h,c,null));return;case"dialog":We("beforetoggle",s),We("toggle",s),We("cancel",s),We("close",s);break;case"iframe":case"object":We("load",s);break;case"video":case"audio":for(h=0;h<Af.length;h++)We(Af[h],s);break;case"image":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"embed":case"source":case"link":We("error",s),We("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:bt(s,o,J,h,c,null)}return;default:if(Ru(o)){for(se in c)c.hasOwnProperty(se)&&(h=c[se],h!==void 0&&Vx(s,o,se,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&bt(s,o,k,h,c,null))}function YU(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,I=null,k=null,H=null,J=null,se=null;for(ie in c){var de=c[ie];if(c.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=de;default:h.hasOwnProperty(ie)||bt(s,o,ie,null,h,de)}}for(var ee in h){var ie=h[ee];if(de=c[ee],h.hasOwnProperty(ee)&&(ie!=null||de!=null))switch(ee){case"type":x=ie;break;case"name":b=ie;break;case"checked":J=ie;break;case"defaultChecked":se=ie;break;case"value":I=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==de&&bt(s,o,ee,ie,h,de)}}ju(s,I,k,H,J,se,x,b);return;case"select":ie=I=k=ee=null;for(x in c)if(H=c[x],c.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ie=H;default:h.hasOwnProperty(x)||bt(s,o,x,null,h,H)}for(b in h)if(x=h[b],H=c[b],h.hasOwnProperty(b)&&(x!=null||H!=null))switch(b){case"value":ee=x;break;case"defaultValue":k=x;break;case"multiple":I=x;default:x!==H&&bt(s,o,b,x,h,H)}o=k,c=I,h=ie,ee!=null?Ls(s,!!c,ee,!1):!!h!=!!c&&(o!=null?Ls(s,!!c,o,!0):Ls(s,!!c,c?[]:"",!1));return;case"textarea":ie=ee=null;for(k in c)if(b=c[k],c.hasOwnProperty(k)&&b!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:bt(s,o,k,null,h,b)}for(I in h)if(b=h[I],x=c[I],h.hasOwnProperty(I)&&(b!=null||x!=null))switch(I){case"value":ee=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&bt(s,o,I,b,h,x)}ep(s,ee,ie);return;case"option":for(var Ae in c)ee=c[Ae],c.hasOwnProperty(Ae)&&ee!=null&&!h.hasOwnProperty(Ae)&&(Ae==="selected"?s.selected=!1:bt(s,o,Ae,null,h,ee));for(H in h)ee=h[H],ie=c[H],h.hasOwnProperty(H)&&ee!==ie&&(ee!=null||ie!=null)&&(H==="selected"?s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":bt(s,o,H,ee,h,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)ee=c[Re],c.hasOwnProperty(Re)&&ee!=null&&!h.hasOwnProperty(Re)&&bt(s,o,Re,null,h,ee);for(J in h)if(ee=h[J],ie=c[J],h.hasOwnProperty(J)&&ee!==ie&&(ee!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:bt(s,o,J,ee,h,ie)}return;default:if(Ru(o)){for(var xt in c)ee=c[xt],c.hasOwnProperty(xt)&&ee!==void 0&&!h.hasOwnProperty(xt)&&Vx(s,o,xt,void 0,h,ee);for(se in h)ee=h[se],ie=c[se],!h.hasOwnProperty(se)||ee===ie||ee===void 0&&ie===void 0||Vx(s,o,se,ee,h,ie);return}}for(var G in c)ee=c[G],c.hasOwnProperty(G)&&ee!=null&&!h.hasOwnProperty(G)&&bt(s,o,G,null,h,ee);for(de in h)ee=h[de],ie=c[de],!h.hasOwnProperty(de)||ee===ie||ee==null&&ie==null||bt(s,o,de,ee,h,ie)}function lO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QU(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var b=c[h],x=b.transferSize,I=b.initiatorType,k=b.duration;if(x&&k&&lO(I)){for(I=0,k=b.responseEnd,h+=1;h<c.length;h++){var H=c[h],J=H.startTime;if(J>k)break;var se=H.transferSize,de=H.initiatorType;se&&lO(de)&&(H=H.responseEnd,I+=se*(H<k?1:(k-J)/(H-J)))}if(--h,o+=8*(x+I)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Bx=null,zx=null;function rg(s){return s.nodeType===9?s:s.ownerDocument}function uO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cO(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Ux(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qx=null;function XU(){var s=window.event;return s&&s.type==="popstate"?s===qx?!1:(qx=s,!0):(qx=null,!1)}var dO=typeof setTimeout=="function"?setTimeout:void 0,ZU=typeof clearTimeout=="function"?clearTimeout:void 0,fO=typeof Promise=="function"?Promise:void 0,JU=typeof queueMicrotask=="function"?queueMicrotask:typeof fO<"u"?function(s){return fO.resolve(null).then(s).catch(eq)}:dO;function eq(s){setTimeout(function(){throw s})}function oo(s){return s==="head"}function hO(s,o){var c=o,h=0;do{var b=c.nextSibling;if(s.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(b),mc(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Cf(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Cf(c);for(var x=c.firstChild;x;){var I=x.nextSibling,k=x.nodeName;x[Wi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=I}}else c==="body"&&Cf(s.ownerDocument.body);c=b}while(c);mc(o)}function mO(s,o){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function Fx(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Fx(c),Nu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function tq(s,o,c,h){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Wi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=ri(s.nextSibling),s===null)break}return null}function nq(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ri(s.nextSibling),s===null))return null;return s}function pO(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ri(s.nextSibling),s===null))return null;return s}function $x(s){return s.data==="$?"||s.data==="$~"}function Hx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function rq(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ri(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Kx=null;function gO(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return ri(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function yO(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function vO(s,o,c){switch(o=rg(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Cf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Nu(s)}var ii=new Map,bO=new Set;function ig(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ya=ae.d;ae.d={f:iq,r:aq,D:sq,C:oq,L:lq,m:uq,X:dq,S:cq,M:fq};function iq(){var s=Ya.f(),o=Yp();return s||o}function aq(s){var o=Gr(s);o!==null&&o.tag===5&&o.type==="form"?M2(o):Ya.r(s)}var dc=typeof document>"u"?null:document;function xO(s,o,c){var h=dc;if(h&&typeof o=="string"&&o){var b=pr(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),bO.has(b)||(bO.add(b),s={rel:s,crossOrigin:c,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),Hn(o,"link",s),an(o),h.head.appendChild(o)))}}function sq(s){Ya.D(s),xO("dns-prefetch",s,null)}function oq(s,o){Ya.C(s,o),xO("preconnect",s,o)}function lq(s,o,c){Ya.L(s,o,c);var h=dc;if(h&&s&&o){var b='link[rel="preload"][as="'+pr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+pr(c.imageSizes)+'"]')):b+='[href="'+pr(s)+'"]';var x=b;switch(o){case"style":x=fc(s);break;case"script":x=hc(s)}ii.has(x)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),ii.set(x,s),h.querySelector(b)!==null||o==="style"&&h.querySelector(If(x))||o==="script"&&h.querySelector(Of(x))||(o=h.createElement("link"),Hn(o,"link",s),an(o),h.head.appendChild(o)))}}function uq(s,o){Ya.m(s,o);var c=dc;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+pr(h)+'"][href="'+pr(s)+'"]',x=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=hc(s)}if(!ii.has(x)&&(s=p({rel:"modulepreload",href:s},o),ii.set(x,s),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Of(x)))return}h=c.createElement("link"),Hn(h,"link",s),an(h),c.head.appendChild(h)}}}function cq(s,o,c){Ya.S(s,o,c);var h=dc;if(h&&s){var b=Qi(h).hoistableStyles,x=fc(s);o=o||"default";var I=b.get(x);if(!I){var k={loading:0,preload:null};if(I=h.querySelector(If(x)))k.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=ii.get(x))&&Gx(s,c);var H=I=h.createElement("link");an(H),Hn(H,"link",s),H._p=new Promise(function(J,se){H.onload=J,H.onerror=se}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,ag(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:k},b.set(x,I)}}}function dq(s,o){Ya.X(s,o);var c=dc;if(c&&s){var h=Qi(c).hoistableScripts,b=hc(s),x=h.get(b);x||(x=c.querySelector(Of(b)),x||(s=p({src:s,async:!0},o),(o=ii.get(b))&&Wx(s,o),x=c.createElement("script"),an(x),Hn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(b,x))}}function fq(s,o){Ya.M(s,o);var c=dc;if(c&&s){var h=Qi(c).hoistableScripts,b=hc(s),x=h.get(b);x||(x=c.querySelector(Of(b)),x||(s=p({src:s,async:!0,type:"module"},o),(o=ii.get(b))&&Wx(s,o),x=c.createElement("script"),an(x),Hn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(b,x))}}function _O(s,o,c,h){var b=(b=ke.current)?ig(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=fc(c.href),c=Qi(b).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=fc(c.href);var x=Qi(b).hoistableStyles,I=x.get(s);if(I||(b=b.ownerDocument||b,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,I),(x=b.querySelector(If(s)))&&!x._p&&(I.instance=x,I.state.loading=5),ii.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ii.set(s,c),x||hq(b,s,c,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hc(c),c=Qi(b).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function fc(s){return'href="'+pr(s)+'"'}function If(s){return'link[rel="stylesheet"]['+s+"]"}function wO(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function hq(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Hn(o,"link",c),an(o),s.head.appendChild(o))}function hc(s){return'[src="'+pr(s)+'"]'}function Of(s){return"script[async]"+s}function EO(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+pr(c.href)+'"]');if(h)return o.instance=h,an(h),h;var b=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),an(h),Hn(h,"style",b),ag(h,c.precedence,s),o.instance=h;case"stylesheet":b=fc(c.href);var x=s.querySelector(If(b));if(x)return o.state.loading|=4,o.instance=x,an(x),x;h=wO(c),(b=ii.get(b))&&Gx(h,b),x=(s.ownerDocument||s).createElement("link"),an(x);var I=x;return I._p=new Promise(function(k,H){I.onload=k,I.onerror=H}),Hn(x,"link",h),o.state.loading|=4,ag(x,c.precedence,s),o.instance=x;case"script":return x=hc(c.src),(b=s.querySelector(Of(x)))?(o.instance=b,an(b),b):(h=c,(b=ii.get(x))&&(h=p({},c),Wx(h,b)),s=s.ownerDocument||s,b=s.createElement("script"),an(b),Hn(b,"link",h),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,ag(h,c.precedence,s));return o.instance}function ag(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,x=b,I=0;I<h.length;I++){var k=h[I];if(k.dataset.precedence===o)x=k;else if(x!==b)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Gx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Wx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var sg=null;function SO(s,o,c){if(sg===null){var h=new Map,b=sg=new Map;b.set(c,h)}else b=sg,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var x=c[b];if(!(x[Wi]||x[rn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(o)||"";I=s+I;var k=h.get(I);k?k.push(x):h.set(I,[x])}}return h}function AO(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function mq(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function TO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function pq(s,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=fc(h.href),x=o.querySelector(If(b));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=og.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=x,an(x);return}x=o.ownerDocument||o,h=wO(h),(b=ii.get(b))&&Gx(h,b),x=x.createElement("link"),an(x);var I=x;I._p=new Promise(function(k,H){I.onload=k,I.onerror=H}),Hn(x,"link",h),c.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=og.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var Yx=0;function gq(s,o){return s.stylesheets&&s.count===0&&ug(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&ug(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&Yx===0&&(Yx=62500*QU());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ug(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>Yx?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function og(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ug(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lg=null;function ug(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lg=new Map,o.forEach(yq,s),lg=null,og.call(s))}function yq(s,o){if(!(o.state.loading&4)){var c=lg.get(s);if(c)var h=c.get(null);else{c=new Map,lg.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var I=b[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),h=I)}h&&c.set(null,h)}b=o.instance,I=b.getAttribute("data-precedence"),x=c.get(I)||h,x===h&&c.set(null,b),c.set(I,b),this.count++,h=og.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),x?x.parentNode.insertBefore(b,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var Nf={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function vq(s,o,c,h,b,x,I,k,H){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function CO(s,o,c,h,b,x,I,k,H,J,se,de){return s=new vq(s,o,c,I,H,J,se,de,k),o=1,x===!0&&(o|=24),x=Pr(3,null,null,o),s.current=x,x.stateNode=s,o=Ib(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:o},jb(x),s}function IO(s){return s?(s=$u,s):$u}function OO(s,o,c,h,b,x){b=IO(b),h.context===null?h.context=b:h.pendingContext=b,h=Qs(o),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Xs(s,h,o),c!==null&&(_r(c,s,o),lf(c,s,o))}function NO(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Qx(s,o){NO(s,o),(s=s.alternate)&&NO(s,o)}function PO(s){if(s.tag===13||s.tag===31){var o=ml(s,67108864);o!==null&&_r(o,s,67108864),Qx(s,67108864)}}function jO(s){if(s.tag===13||s.tag===31){var o=Mr();o=nl(o);var c=ml(s,o);c!==null&&_r(c,s,o),Qx(s,o)}}var cg=!0;function bq(s,o,c,h){var b=W.T;W.T=null;var x=ae.p;try{ae.p=2,Xx(s,o,c,h)}finally{ae.p=x,W.T=b}}function xq(s,o,c,h){var b=W.T;W.T=null;var x=ae.p;try{ae.p=8,Xx(s,o,c,h)}finally{ae.p=x,W.T=b}}function Xx(s,o,c,h){if(cg){var b=Zx(h);if(b===null)Lx(s,o,h,dg,c),DO(s,h);else if(wq(b,s,o,c,h))h.stopPropagation();else if(DO(s,h),o&4&&-1<_q.indexOf(s)){for(;b!==null;){var x=Gr(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=$i(x.pendingLanes);if(I!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var H=1<<31-Xt(I);k.entanglements[1]|=H,I&=~H}ua(x),(lt&6)===0&&(Gp=ar()+500,Sf(0))}}break;case 31:case 13:k=ml(x,2),k!==null&&_r(k,x,2),Yp(),Qx(x,2)}if(x=Zx(h),x===null&&Lx(s,o,h,dg,c),x===b)break;b=x}b!==null&&h.stopPropagation()}else Lx(s,o,h,null,c)}}function Zx(s){return s=Wr(s),Jx(s)}var dg=null;function Jx(s){if(dg=null,s=Yi(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===31){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return dg=s,null}function RO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zo()){case jd:return 2;case Rd:return 8;case ks:case ab:return 32;case Fm:return 268435456;default:return 32}default:return 32}}var e_=!1,lo=null,uo=null,co=null,Pf=new Map,jf=new Map,fo=[],_q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DO(s,o){switch(s){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Pf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(o.pointerId)}}function Rf(s,o,c,h,b,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[b]},o!==null&&(o=Gr(o),o!==null&&PO(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function wq(s,o,c,h,b){switch(o){case"focusin":return lo=Rf(lo,s,o,c,h,b),!0;case"dragenter":return uo=Rf(uo,s,o,c,h,b),!0;case"mouseover":return co=Rf(co,s,o,c,h,b),!0;case"pointerover":var x=b.pointerId;return Pf.set(x,Rf(Pf.get(x)||null,s,o,c,h,b)),!0;case"gotpointercapture":return x=b.pointerId,jf.set(x,Rf(jf.get(x)||null,s,o,c,h,b)),!0}return!1}function kO(s){var o=Yi(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,bi(s.priority,function(){jO(c)});return}}else if(o===31){if(o=u(c),o!==null){s.blockedOn=o,bi(s.priority,function(){jO(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fg(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Zx(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Hd=h,c.target.dispatchEvent(h),Hd=null}else return o=Gr(c),o!==null&&PO(o),s.blockedOn=c,!1;o.shift()}return!0}function MO(s,o,c){fg(s)&&c.delete(o)}function Eq(){e_=!1,lo!==null&&fg(lo)&&(lo=null),uo!==null&&fg(uo)&&(uo=null),co!==null&&fg(co)&&(co=null),Pf.forEach(MO),jf.forEach(MO)}function hg(s,o){s.blockedOn===o&&(s.blockedOn=null,e_||(e_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Eq)))}var mg=null;function LO(s){mg!==s&&(mg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mg===s&&(mg=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],b=s[o+2];if(typeof h!="function"){if(Jx(h||c)===null)continue;break}var x=Gr(c);x!==null&&(s.splice(o,3),o-=3,Zb(x,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function mc(s){function o(H){return hg(H,s)}lo!==null&&hg(lo,s),uo!==null&&hg(uo,s),co!==null&&hg(co,s),Pf.forEach(o),jf.forEach(o);for(var c=0;c<fo.length;c++){var h=fo[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<fo.length&&(c=fo[0],c.blockedOn===null);)kO(c),c.blockedOn===null&&fo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],x=c[h+1],I=b[In]||null;if(typeof x=="function")I||LO(c);else if(I){var k=null;if(x&&x.hasAttribute("formAction")){if(b=x,I=x[In]||null)k=I.formAction;else if(Jx(b)!==null)continue}else k=I.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),LO(c)}}}function VO(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(I){return b=I})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function t_(s){this._internalRoot=s}pg.prototype.render=t_.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=Mr();OO(c,h,s,o,null,null)},pg.prototype.unmount=t_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;OO(s.current,2,null,s,null,null),Yp(),o[Gi]=null}};function pg(s){this._internalRoot=s}pg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ym();s={blockedOn:null,target:s,priority:o};for(var c=0;c<fo.length&&o!==0&&o<fo[c].priority;c++);fo.splice(c,0,s),c===0&&kO(s)}};var BO=e.version;if(BO!=="19.2.4")throw Error(r(527,BO,"19.2.4"));ae.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var Sq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gg.isDisabled&&gg.supportsFiber)try{yi=gg.inject(Sq),zn=gg}catch{}}return kf.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,h="",b=K2,x=G2,I=W2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=CO(s,1,!1,null,null,c,h,null,b,x,I,VO),s[Gi]=o.current,Mx(s),new t_(o)},kf.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var h=!1,b="",x=K2,I=G2,k=W2,H=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),o=CO(s,1,!0,o,c??null,h,b,H,x,I,k,VO),o.context=IO(null),c=o.current,h=Mr(),h=nl(h),b=Qs(h),b.callback=null,Xs(c,b,h),c=h,o.current.lanes=c,el(o,c),ua(o),s[Gi]=o.current,Mx(s),new pg(o)},kf.version="19.2.4",kf}var YO;function Mq(){if(YO)return i_.exports;YO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i_.exports=kq(),i_.exports}var Lq=Mq();var QO="popstate";function Vq(t={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return d1("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bh(i)}return zq(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bq(){return Math.random().toString(36).substring(2,10)}function XO(t,e){return{usr:t.state,key:t.key,idx:e}}function d1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fd(e):e,state:n,key:e&&e.key||r||Bq()}}function bh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){u="POP";let A=m(),C=A==null?null:A-f;f=A,d&&d({action:u,location:S.location,delta:C})}function v(A,C){u="PUSH";let N=d1(S.location,A,C);f=m()+1;let j=XO(N,f),D=S.createHref(N);try{l.pushState(j,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}a&&d&&d({action:u,location:S.location,delta:1})}function _(A,C){u="REPLACE";let N=d1(S.location,A,C);f=m();let j=XO(N,f),D=S.createHref(N);l.replaceState(j,"",D),a&&d&&d({action:u,location:S.location,delta:0})}function E(A){return Uq(A)}let S={get action(){return u},get location(){return t(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(QO,p),d=A,()=>{i.removeEventListener(QO,p),d=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let C=E(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(A){return l.go(A)}};return S}function Uq(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function u3(t,e,n="/"){return qq(t,e,n,!1)}function qq(t,e,n,r){let i=typeof e=="string"?fd(e):e,a=us(i.pathname||"/",n);if(a==null)return null;let l=c3(t);Fq(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=e8(a);u=Zq(l[d],f,r)}return u}function c3(t,e=[],n=[],r="",i=!1){let a=(l,u,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Mt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=as([r,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),c3(l.children,e,v,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:Qq(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of d3(l.path))a(l,u,!0,d)}),e}function d3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=d3(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Fq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Xq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $q=/^:[\w-]+$/,Hq=3,Kq=2,Gq=1,Wq=10,Yq=-2,ZO=t=>t==="*";function Qq(t,e){let n=t.split("/"),r=n.length;return n.some(ZO)&&(r+=Yq),e&&(r+=Kq),n.filter(i=>!ZO(i)).reduce((i,a)=>i+($q.test(a)?Hq:a===""?Gq:Wq),r)}function Xq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Zq(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=gy({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=gy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:as([a,p.pathname]),pathnameBase:i8(as([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=as([a,p.pathnameBase]))}return l}function gy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Jq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},v)=>{if(m==="*"){let E=u[v]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[v];return p&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function Jq(t,e=!1,n=!0){Bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var t8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function n8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fd(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=JO(n.substring(1),"/"):a=JO(n,e)):a=e,{pathname:a,search:a8(r),hash:s8(i)}}function JO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function l_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QE(t){let e=r8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function XE(t,e,n,r=!1){let i;typeof t=="string"?i=fd(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),l_("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),l_("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),l_("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?e[p]:"/"}let d=n8(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var as=t=>t.join("/").replace(/\/\/+/g,"/"),i8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,o8=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function l8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function u8(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function h3(t,e){let n=t;if(typeof n!="string"||!t8.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(f3)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=us(l.pathname,e);l.origin===a.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{Bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m3=["POST","PUT","PATCH","DELETE"];new Set(m3);var c8=["GET",...m3];new Set(c8);var hd=w.createContext(null);hd.displayName="DataRouter";var Vv=w.createContext(null);Vv.displayName="DataRouterState";var d8=w.createContext(!1),p3=w.createContext({isTransitioning:!1});p3.displayName="ViewTransition";var f8=w.createContext(new Map);f8.displayName="Fetchers";var h8=w.createContext(null);h8.displayName="Await";var Hr=w.createContext(null);Hr.displayName="Navigation";var Jh=w.createContext(null);Jh.displayName="Location";var Ia=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ia.displayName="Route";var ZE=w.createContext(null);ZE.displayName="RouteError";var g3="REACT_ROUTER_ERROR",m8="REDIRECT",p8="ROUTE_ERROR_RESPONSE";function g8(t){if(t.startsWith(`${g3}:${m8}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function y8(t){if(t.startsWith(`${g3}:${p8}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new o8(e.status,e.statusText,e.data)}catch{}}function v8(t,{relative:e}={}){Mt(md(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Hr),{hash:i,pathname:a,search:l}=em(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:as([n,a])),r.createHref({pathname:u,search:l,hash:i})}function md(){return w.useContext(Jh)!=null}function Oa(){return Mt(md(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Jh).location}var y3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v3(t){w.useContext(Hr).static||w.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=w.useContext(Ia);return t?P8():b8()}function b8(){Mt(md(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(hd),{basename:e,navigator:n}=w.useContext(Hr),{matches:r}=w.useContext(Ia),{pathname:i}=Oa(),a=JSON.stringify(QE(r)),l=w.useRef(!1);return v3(()=>{l.current=!0}),w.useCallback((d,f={})=>{if(Bi(l.current,y3),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=XE(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,i,t])}w.createContext(null);function em(t,{relative:e}={}){let{matches:n}=w.useContext(Ia),{pathname:r}=Oa(),i=JSON.stringify(QE(n));return w.useMemo(()=>XE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function x8(t,e){return b3(t,e)}function b3(t,e,n,r,i){Mt(md(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Hr),{matches:l}=w.useContext(Ia),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let N=p&&p.path||"";_3(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Oa(),_;if(e){let N=typeof e=="string"?fd(e):e;Mt(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=v;let E=_.pathname||"/",S=E;if(m!=="/"){let N=m.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=u3(t,{pathname:S});Bi(p||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Bi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=A8(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:as([m,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:as([m,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return e&&C?w.createElement(Jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function _8(){let t=N8(),e=l8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,l)}var w8=w.createElement(_8,null),x3=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=y8(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Ia.Provider,{value:this.props.routeContext},w.createElement(ZE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(E8,{error:t},e):e}};x3.contextType=d8;var u_=new WeakMap;function E8({children:t,error:e}){let{basename:n}=w.useContext(Hr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=g8(e.digest);if(r){let i=u_.get(e);if(i)throw i;let a=h3(r.location,n);if(f3&&!u_.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw u_.set(e,l),l}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function S8({routeContext:t,match:e,children:n}){let r=w.useContext(hd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ia.Provider,{value:t},n)}function A8(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:_}=n,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:u8(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,v)=>{let _,E=!1,S=null,A=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||w8,u&&(d<0&&v===0?(_3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===v&&(E=!0,A=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),N=()=>{let j;return _?j=S:E?j=A:p.route.Component?j=w.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,w.createElement(S8,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(x3,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):N()},null)}function JE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T8(t){let e=w.useContext(hd);return Mt(e,JE(t)),e}function C8(t){let e=w.useContext(Vv);return Mt(e,JE(t)),e}function I8(t){let e=w.useContext(Ia);return Mt(e,JE(t)),e}function eS(t){let e=I8(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function O8(){return eS("useRouteId")}function N8(){let t=w.useContext(ZE),e=C8("useRouteError"),n=eS("useRouteError");return t!==void 0?t:e.errors?.[n]}function P8(){let{router:t}=T8("useNavigate"),e=eS("useNavigate"),n=w.useRef(!1);return v3(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{Bi(n.current,y3),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var eN={};function _3(t,e,n){!e&&!eN[t]&&(eN[t]=!0,Bi(!1,n))}w.memo(j8);function j8({routes:t,future:e,state:n,onError:r}){return b3(t,void 0,n,r,e)}function w3({to:t,replace:e,state:n,relative:r}){Mt(md(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Hr);Bi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Ia),{pathname:l}=Oa(),u=Ui(),d=XE(t,QE(a),l,r==="path"),f=JSON.stringify(d);return w.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function oi(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){Mt(!md(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[u,i,a,l]);typeof n=="string"&&(n=fd(n));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:_="default"}=n,E=w.useMemo(()=>{let S=us(f,u);return S==null?null:{location:{pathname:S,search:m,hash:p,state:v,key:_},navigationType:r}},[u,f,m,p,v,_,r]);return Bi(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(Hr.Provider,{value:d},w.createElement(Jh.Provider,{children:e,value:E}))}function D8({children:t,location:e}){return x8(f1(t),e)}function f1(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let a=[...e,i];if(r.type===w.Fragment){n.push.apply(n,f1(r.props.children,a));return}Mt(r.type===oi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=f1(r.props.children,a)),n.push(l)}),n}var Hg="get",Kg="application/x-www-form-urlencoded";function Bv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function k8(t){return Bv(t)&&t.tagName.toLowerCase()==="button"}function M8(t){return Bv(t)&&t.tagName.toLowerCase()==="form"}function L8(t){return Bv(t)&&t.tagName.toLowerCase()==="input"}function V8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B8(t,e){return t.button===0&&(!e||e==="_self")&&!V8(t)}var yg=null;function z8(){if(yg===null)try{new FormData(document.createElement("form"),0),yg=!1}catch{yg=!0}return yg}var U8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c_(t){return t!=null&&!U8.has(t)?(Bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kg}"`),null):t}function q8(t,e){let n,r,i,a,l;if(M8(t)){let u=t.getAttribute("action");r=u?us(u,e):null,n=t.getAttribute("method")||Hg,i=c_(t.getAttribute("enctype"))||Kg,a=new FormData(t)}else if(k8(t)||L8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?us(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Hg,i=c_(t.getAttribute("formenctype"))||c_(u.getAttribute("enctype"))||Kg,a=new FormData(u,t),!z8()){let{name:f,type:m,value:p}=t;if(m==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,p)}}else{if(Bv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hg,r=null,i=Kg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F8(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&us(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function $8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function K8(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await $8(a,n);return l.links?l.links():[]}return[]}));return Q8(r.flat(1).filter(H8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tN(t,e,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function G8(t,e,{includeHydrateFallback:n}={}){return W8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function W8(t){return[...new Set(t)]}function Y8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Q8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Y8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function E3(){let t=w.useContext(hd);return tS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function X8(){let t=w.useContext(Vv);return tS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var nS=w.createContext(void 0);nS.displayName="FrameworkContext";function S3(){let t=w.useContext(nS);return tS(t,"You must render this element inside a <HydratedRouter> element"),t}function Z8(t,e){let n=w.useContext(nS),[r,i]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=C=>{C.forEach(N=>{l(N.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:Mf(u,_),onBlur:Mf(d,E),onMouseEnter:Mf(f,_),onMouseLeave:Mf(m,E),onTouchStart:Mf(p,_)}]:[!1,v,{}]}function Mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function J8({page:t,...e}){let{router:n}=E3(),r=w.useMemo(()=>u3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(tF,{page:t,matches:r,...e}):null}function eF(t){let{manifest:e,routeModules:n}=S3(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return K8(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function tF({page:t,matches:e,...n}){let r=Oa(),{future:i,manifest:a,routeModules:l}=S3(),{basename:u}=E3(),{loaderData:d,matches:f}=X8(),m=w.useMemo(()=>tN(t,e,f,a,r,"data"),[t,e,f,a,r]),p=w.useMemo(()=>tN(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(N=>{let j=a.routes[N.route.id];!j||!j.hasLoader||(!m.some(D=>D.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:S.add(N.route.id))}),S.size===0)return[];let C=F8(t,u,i.unstable_trailingSlashAwareDataRequests,"data");return A&&S.size>0&&C.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,r,a,m,e,t,l]),_=w.useMemo(()=>G8(p,a),[p,a]),E=eF(p);return w.createElement(w.Fragment,null,v.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:A})=>w.createElement("link",{key:S,nonce:n.nonce,...A,crossOrigin:A.crossOrigin??n.crossOrigin})))}function nF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rF&&(window.__reactRouterVersion="7.13.0")}catch{}function iF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=Vq({window:r,v5Compat:!0}));let a=i.current,[l,u]=w.useState({action:a.action,location:a.location}),d=w.useCallback(f=>{n===!1?u(f):w.startTransition(()=>u(f))},[n]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(R8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var A3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T3=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,..._},E){let{basename:S,unstable_useTransitions:A}=w.useContext(Hr),C=typeof f=="string"&&A3.test(f),N=h3(f,S);f=N.to;let j=v8(f,{relative:i}),[D,V,M]=Z8(r,_),P=lF(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:A});function R(F){e&&e(F),F.defaultPrevented||P(F)}let L=w.createElement("a",{..._,...M,href:N.absoluteURL||j,onClick:N.isExternal||a?e:R,ref:nF(E,V),target:d,"data-discover":!C&&n==="render"?"true":void 0});return D&&!C?w.createElement(w.Fragment,null,L,w.createElement(J8,{page:j})):L});T3.displayName="Link";var aF=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},m){let p=em(l,{relative:f.relative}),v=Oa(),_=w.useContext(Vv),{navigator:E,basename:S}=w.useContext(Hr),A=_!=null&&hF(p)&&u===!0,C=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,N=v.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(N=N.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&S&&(j=us(j,S)||j);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let V=N===C||!i&&N.startsWith(C)&&N.charAt(D)==="/",M=j!=null&&(j===C||!i&&j.startsWith(C)&&j.charAt(C.length)==="/"),P={isActive:V,isPending:M,isTransitioning:A},R=V?e:void 0,L;typeof r=="function"?L=r(P):L=[r,V?"active":null,M?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(P):a;return w.createElement(T3,{...f,"aria-current":R,className:L,ref:m,style:F,to:l,viewTransition:u},typeof d=="function"?d(P):d)});aF.displayName="NavLink";var sF=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Hg,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,..._},E)=>{let{unstable_useTransitions:S}=w.useContext(Hr),A=dF(),C=fF(u,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&A3.test(u),D=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let M=V.nativeEvent.submitter,P=M?.getAttribute("formmethod")||l,R=()=>A(M||V.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v});S&&n!==!1?w.startTransition(()=>R()):R()};return w.createElement("form",{ref:E,method:N,action:C,onSubmit:r?d:D,..._,"data-discover":!j&&t==="render"?"true":void 0})});sF.displayName="Form";function oF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C3(t){let e=w.useContext(hd);return Mt(e,oF(t)),e}function lF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Ui(),m=Oa(),p=em(t,{relative:a});return w.useCallback(v=>{if(B8(v,e)){v.preventDefault();let _=n!==void 0?n:bh(m)===bh(p),E=()=>f(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u});d?w.startTransition(()=>E()):E()}},[m,f,p,n,r,e,t,i,a,l,u,d])}var uF=0,cF=()=>`__${String(++uF)}__`;function dF(){let{router:t}=C3("useSubmit"),{basename:e}=w.useContext(Hr),n=O8(),r=t.fetch,i=t.navigate;return w.useCallback(async(a,l={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=q8(a,e);if(l.navigate===!1){let v=l.fetcherKey||cF();await r(v,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function fF(t,{relative:e}={}){let{basename:n}=w.useContext(Hr),r=w.useContext(Ia);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...em(t||".",{relative:e})},l=Oa();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),bh(a)}function hF(t,{relative:e}={}){let n=w.useContext(p3);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C3("useViewTransitionState"),i=em(t,{relative:e});if(!n.isTransitioning)return!1;let a=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gy(i.pathname,l)!=null||gy(i.pathname,a)!=null}var rS=l3();const mF=()=>{};var nN={};const I3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},O3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=a>>2,p=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,_=f&63;d||(_=64,l||(v=64)),r.push(n[m],n[p],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||p==null)throw new gF;const v=a<<2|u>>4;if(r.push(v),f!==64){const _=u<<4&240|f>>2;if(r.push(_),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yF=function(t){const e=I3(t);return O3.encodeByteArray(e,!0)},yy=function(t){return yF(t).replace(/\./g,"")},N3=function(t){try{return O3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vF=()=>P3().__FIREBASE_DEFAULTS__,bF=()=>{if(typeof process>"u"||typeof nN>"u")return;const t=nN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N3(t[1]);return e&&JSON.parse(e)},zv=()=>{try{return mF()||vF()||bF()||xF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j3=t=>zv()?.emulatorHosts?.[t],_F=t=>{const e=j3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R3=()=>zv()?.config,D3=t=>zv()?.[`_${t}`];class wF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function pd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k3(t){return(await fetch(t,{credentials:"include"})).ok}function EF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yy(JSON.stringify(n)),yy(JSON.stringify(l)),""].join(".")}const lh={};function SF(){const t={prod:[],emulator:[]};for(const e of Object.keys(lh))lh[e]?t.emulator.push(e):t.prod.push(e);return t}function AF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rN=!1;function M3(t,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||lh[t]===e||lh[t]||rN)return;lh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=SF().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{rN=!0,l()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=AF(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),N=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;u(j),m(A,S);const D=f();d(N,C),j.append(N,E,A,D),document.body.appendChild(j)}a?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function L3(){const t=zv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NF(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V3(){return!L3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B3(){return!L3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function z3(){try{return typeof indexedDB=="object"}catch{return!1}}function PF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const jF="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jF,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tm.prototype.create)}}class tm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?RF(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ws(i,u,r)}}function RF(t,e){return t.replace(DF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DF=/\{\$([^}]+)}/g;function kF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(iN(a)&&iN(l)){if(!Jl(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iN(t){return t!==null&&typeof t=="object"}function nm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MF(t,e){const n=new LF(t,e);return n.subscribe.bind(n)}class LF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=d_),i.error===void 0&&(i.error=d_),i.complete===void 0&&(i.complete=d_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function d_(){}function Mn(t){return t&&t._delegate?t._delegate:t}class eu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ol="[DEFAULT]";let BF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UF(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zF(t){return t===Ol?void 0:t}function UF(t){return t.instantiationMode==="EAGER"}class qF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const FF={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},$F=Xe.INFO,HF={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},KF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=$F,this._logHandler=KF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const GF=(t,e)=>e.some(n=>t instanceof n);let aN,sN;function WF(){return aN||(aN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YF(){return sN||(sN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U3=new WeakMap,h1=new WeakMap,q3=new WeakMap,f_=new WeakMap,aS=new WeakMap;function QF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Oo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&U3.set(n,t)}).catch(()=>{}),aS.set(e,t),e}function XF(t){if(h1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});h1.set(t,e)}let m1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZF(t){m1=t(m1)}function JF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(h_(this),e,...n);return q3.set(r,e.sort?e.sort():[e]),Oo(r)}:YF().includes(t)?function(...e){return t.apply(h_(this),e),Oo(U3.get(this))}:function(...e){return Oo(t.apply(h_(this),e))}}function e7(t){return typeof t=="function"?JF(t):(t instanceof IDBTransaction&&XF(t),GF(t,WF())?new Proxy(t,m1):t)}function Oo(t){if(t instanceof IDBRequest)return QF(t);if(f_.has(t))return f_.get(t);const e=e7(t);return e!==t&&(f_.set(t,e),aS.set(e,t)),e}const h_=t=>aS.get(t);function t7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Oo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Oo(l.result),d.oldVersion,d.newVersion,Oo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const n7=["get","getKey","getAll","getAllKeys","count"],r7=["put","add","delete","clear"],m_=new Map;function oN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m_.get(e))return m_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n7.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&d.done]))[0]};return m_.set(e,a),a}ZF(t=>({...t,get:(e,n,r)=>oN(e,n)||t.get(e,n,r),has:(e,n)=>!!oN(e,n)||t.has(e,n)}));class i7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a7(t){return t.getComponent()?.type==="VERSION"}const p1="@firebase/app",lN="0.14.8";const cs=new iS("@firebase/app"),s7="@firebase/app-compat",o7="@firebase/analytics-compat",l7="@firebase/analytics",u7="@firebase/app-check-compat",c7="@firebase/app-check",d7="@firebase/auth",f7="@firebase/auth-compat",h7="@firebase/database",m7="@firebase/data-connect",p7="@firebase/database-compat",g7="@firebase/functions",y7="@firebase/functions-compat",v7="@firebase/installations",b7="@firebase/installations-compat",x7="@firebase/messaging",_7="@firebase/messaging-compat",w7="@firebase/performance",E7="@firebase/performance-compat",S7="@firebase/remote-config",A7="@firebase/remote-config-compat",T7="@firebase/storage",C7="@firebase/storage-compat",I7="@firebase/firestore",O7="@firebase/ai",N7="@firebase/firestore-compat",P7="firebase",j7="12.9.0";const g1="[DEFAULT]",R7={[p1]:"fire-core",[s7]:"fire-core-compat",[l7]:"fire-analytics",[o7]:"fire-analytics-compat",[c7]:"fire-app-check",[u7]:"fire-app-check-compat",[d7]:"fire-auth",[f7]:"fire-auth-compat",[h7]:"fire-rtdb",[m7]:"fire-data-connect",[p7]:"fire-rtdb-compat",[g7]:"fire-fn",[y7]:"fire-fn-compat",[v7]:"fire-iid",[b7]:"fire-iid-compat",[x7]:"fire-fcm",[_7]:"fire-fcm-compat",[w7]:"fire-perf",[E7]:"fire-perf-compat",[S7]:"fire-rc",[A7]:"fire-rc-compat",[T7]:"fire-gcs",[C7]:"fire-gcs-compat",[I7]:"fire-fst",[N7]:"fire-fst-compat",[O7]:"fire-vertex","fire-js":"fire-js",[P7]:"fire-js-all"};const vy=new Map,D7=new Map,y1=new Map;function uN(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fc(t){const e=t.name;if(y1.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;y1.set(e,t);for(const n of vy.values())uN(n,t);for(const n of D7.values())uN(n,t);return!0}function sS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const k7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new tm("app","Firebase",k7);class M7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}const gd=j7;function F3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:g1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(n||(n=R3()),!n)throw No.create("no-options");const a=vy.get(i);if(a){if(Jl(n,a.options)&&Jl(r,a.config))return a;throw No.create("duplicate-app",{appName:i})}const l=new qF(i);for(const d of y1.values())l.addComponent(d);const u=new M7(n,r,l);return vy.set(i,u),u}function $3(t=g1){const e=vy.get(t);if(!e&&t===g1&&R3())return F3();if(!e)throw No.create("no-app",{appName:t});return e}function Po(t,e,n){let r=R7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(l.join(" "));return}Fc(new eu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const L7="firebase-heartbeat-database",V7=1,xh="firebase-heartbeat-store";let p_=null;function H3(){return p_||(p_=t7(L7,V7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),p_}async function B7(t){try{const n=(await H3()).transaction(xh),r=await n.objectStore(xh).get(K3(t));return await n.done,r}catch(e){if(e instanceof ws)cs.warn(e.message);else{const n=No.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function cN(t,e){try{const r=(await H3()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,K3(t)),await r.done}catch(n){if(n instanceof ws)cs.warn(n.message);else{const r=No.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function K3(t){return`${t.name}!${t.options.appId}`}const z7=1024,U7=30;class q7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>U7){const i=H7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dN(),{heartbeatsToSend:n,unsentEntries:r}=F7(this._heartbeatsCache.heartbeats),i=yy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return cs.warn(e),""}}}function dN(){return new Date().toISOString().substring(0,10)}function F7(t,e=z7){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),fN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z3()?PF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fN(t){return yy(JSON.stringify({version:2,heartbeats:t})).length}function H7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function K7(t){Fc(new eu("platform-logger",e=>new i7(e),"PRIVATE")),Fc(new eu("heartbeat",e=>new q7(e),"PRIVATE")),Po(p1,lN,t),Po(p1,lN,"esm2020"),Po("fire-js","")}K7("");function G3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G7=G3,W3=new tm("auth","Firebase",G3());const by=new iS("@firebase/auth");function W7(t,...e){by.logLevel<=Xe.WARN&&by.warn(`Auth (${gd}): ${t}`,...e)}function Gg(t,...e){by.logLevel<=Xe.ERROR&&by.error(`Auth (${gd}): ${t}`,...e)}function wa(t,...e){throw lS(t,...e)}function Mi(t,...e){return lS(t,...e)}function oS(t,e,n){const r={...G7(),[e]:n};return new tm("auth","Firebase",r).create(e,{appName:t.name})}function Hl(t){return oS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wa(t,"argument-error"),oS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W3.create(t,...e)}function Me(t,e,...n){if(!t)throw lS(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gg(e),new Error(e)}function ds(t,e){t||es(e)}function v1(){return typeof self<"u"&&self.location?.href||""}function Q7(){return hN()==="http:"||hN()==="https:"}function hN(){return typeof self<"u"&&self.location?.protocol||null}function X7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q7()||IF()||"connection"in navigator)?navigator.onLine:!0}function Z7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class rm{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=TF()||OF()}get(){return X7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uS(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const e$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t$=new rm(3e4,6e4);function cS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yd(t,e,n,r,i={}){return Q3(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=nm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return CF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&pd(t.emulatorConfig.host)&&(f.credentials="include"),Y3.fetch()(await X3(t,t.config.apiHost,n,u),f)})}async function Q3(t,e,n){t._canInitEmulator=!1;const r={...J7,...e};try{const i=new r$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vg(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vg(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw vg(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw vg(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw oS(t,m,f);wa(t,m)}}catch(i){if(i instanceof ws)throw i;wa(t,"network-request-failed",{message:String(i)})}}async function n$(t,e,n,r,i={}){const a=await yd(t,e,n,r,i);return"mfaPendingCredential"in a&&wa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function X3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?uS(t.config,i):`${t.config.apiScheme}://${i}`;return e$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class r${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),t$.get())})}}function vg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mi(t,e,r);return i.customData._tokenResponse=n,i}async function i$(t,e){return yd(t,"POST","/v1/accounts:delete",e)}async function xy(t,e){return yd(t,"POST","/v1/accounts:lookup",e)}function uh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a$(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=dS(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:uh(g_(i.auth_time)),issuedAtTime:uh(g_(i.iat)),expirationTime:uh(g_(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function g_(t){return Number(t)*1e3}function dS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gg("JWT malformed, contained fewer than 3 sections"),null;try{const i=N3(n);return i?JSON.parse(i):(Gg("Failed to decode base64 JWT payload"),null)}catch(i){return Gg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mN(t){const e=dS(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _h(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&s$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class o${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class b1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uh(this.lastLoginAt),this.creationTime=uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _y(t){const e=t.auth,n=await t.getIdToken(),r=await _h(t,xy(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Z3(i.providerUserInfo):[],l=u$(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new b1(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function l$(t){const e=Mn(t);await _y(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function c$(t,e){const n=await Q3(t,{},async()=>{const r=nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await X3(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&pd(t.emulatorConfig.host)&&(d.credentials="include"),Y3.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d$(t,e){return yd(t,"POST","/v2/accounts:revokeToken",cS(t,e))}class Rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=mN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await c$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Rc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rc,this.toJSON())}_performRefresh(){return es("not implemented")}}function mo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new o$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new b1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _h(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a$(this,e)}reload(){return l$(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _y(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(Hl(this.auth));const e=await this.getIdToken();return await _h(this,i$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:S}=n;Me(p&&S,e,"internal-error");const A=Rc.fromJSON(this.name,S);Me(typeof p=="string",e,"internal-error"),mo(r,e.name),mo(i,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof _=="boolean",e,"internal-error"),mo(a,e.name),mo(l,e.name),mo(u,e.name),mo(d,e.name),mo(f,e.name),mo(m,e.name);const C=new ki({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:A,createdAt:f,lastLoginAt:m});return E&&Array.isArray(E)&&(C.providerData=E.map(N=>({...N}))),d&&(C._redirectEventId=d),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rc;i.updateFromServerResponse(n);const a=new ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _y(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Z3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Rc;u.updateFromIdToken(r);const d=new ki({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new b1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}const pN=new Map;function ts(t){ds(t instanceof Function,"Expected a class definition");let e=pN.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pN.set(t,e),e)}class J3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J3.type="NONE";const gN=J3;function Wg(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Wg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Wg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xy(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dc(ts(gN),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ts(gN);const l=Wg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const v=await xy(e,{idToken:m}).catch(()=>{});if(!v)break;p=await ki._fromGetAccountInfoResponse(e,v,m)}else p=ki._fromJSON(e,m);f!==a&&(u=p),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Dc(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Dc(a,e,r))}}function yN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a5(e))return"Blackberry";if(s5(e))return"Webos";if(t5(e))return"Safari";if((e.includes("chrome/")||n5(e))&&!e.includes("edge/"))return"Chrome";if(i5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function e5(t=En()){return/firefox\//i.test(t)}function t5(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n5(t=En()){return/crios\//i.test(t)}function r5(t=En()){return/iemobile/i.test(t)}function i5(t=En()){return/android/i.test(t)}function a5(t=En()){return/blackberry/i.test(t)}function s5(t=En()){return/webos/i.test(t)}function fS(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f$(t=En()){return fS(t)&&!!window.navigator?.standalone}function h$(){return NF()&&document.documentMode===10}function o5(t=En()){return fS(t)||i5(t)||s5(t)||a5(t)||/windows phone/i.test(t)||r5(t)}function l5(t,e=[]){let n;switch(t){case"Browser":n=yN(En());break;case"Worker":n=`${yN(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gd}/${r}`}class m${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function p$(t,e={}){return yd(t,"GET","/v2/passwordPolicy",cS(t,e))}const g$=6;class y${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??g$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class v${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vN(this),this.idTokenSubscription=new vN(this),this.beforeStateQueue=new m$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xy(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _y(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(Hl(this));const n=e?Mn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(Hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(Hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p$(this),n=new y$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await d$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uv(t){return Mn(t)}class vN{constructor(e){this.auth=e,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b$(t){hS=t}function x$(t){return hS.loadJS(t)}function _$(){return hS.gapiScript}function w$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function E$(t,e){const n=sS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Jl(a,e??{}))return i;wa(i,"already-initialized")}return n.initialize({options:e})}function S$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function A$(t,e,n){const r=Uv(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=u5(e),{host:l,port:u}=T$(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Jl(f,r.config.emulator)&&Jl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,pd(l)?(k3(`${a}//${l}${d}`),M3("Auth",!0)):C$()}function u5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T$(t){const e=u5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:bN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:bN(l)}}}function bN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class c5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function kc(t,e){return n$(t,"POST","/v1/accounts:signInWithIdp",cS(t,e))}const I$="http://localhost";class tu extends c5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new tu(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:I$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nm(n)}return e}}class mS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class im extends mS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wo extends im{constructor(){super("facebook.com")}static credential(e){return tu._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";class Za extends im{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tu._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";class Eo extends im{constructor(){super("github.com")}static credential(e){return tu._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";class So extends im{constructor(){super("twitter.com")}static credential(e,n){return tu._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";class $c{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ki._fromIdTokenResponse(e,r,i),l=xN(r);return new $c({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xN(r);return new $c({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wy extends ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wy(e,n,r,i)}}function d5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?wy._fromErrorAndOperation(t,a,e,r):a})}async function O$(t,e,n=!1){const r=await _h(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $c._forOperation(t,"link",r)}async function N$(t,e,n=!1){const{auth:r}=t;if(Pi(r.app))return Promise.reject(Hl(r));const i="reauthenticate";try{const a=await _h(t,d5(r,i,e,t),n);Me(a.idToken,r,"internal-error");const l=dS(a.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(t.uid===u,r,"user-mismatch"),$c._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&wa(r,"user-mismatch"),a}}async function P$(t,e,n=!1){if(Pi(t.app))return Promise.reject(Hl(t));const r="signIn",i=await d5(t,r,e),a=await $c._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function j$(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function R$(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function D$(t,e,n,r){return Mn(t).onAuthStateChanged(e,n,r)}function k$(t){return Mn(t).signOut()}const Ey="__sak";class f5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ey,"1"),this.storage.removeItem(Ey),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const M$=1e3,L$=10;class h5 extends f5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);h$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h5.type="LOCAL";const V$=h5;class m5 extends f5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m5.type="SESSION";const p5=m5;function B$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class qv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,a)),d=await B$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qv.receivers=[];function pS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class z${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=pS("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ba(){return window}function U$(t){ba().location.href=t}function g5(){return typeof ba().WorkerGlobalScope<"u"&&typeof ba().importScripts=="function"}async function q$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F$(){return navigator?.serviceWorker?.controller||null}function $$(){return g5()?self:null}const y5="firebaseLocalStorageDb",H$=1,Sy="firebaseLocalStorage",v5="fbase_key";class am{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fv(t,e){return t.transaction([Sy],e?"readwrite":"readonly").objectStore(Sy)}function K$(){const t=indexedDB.deleteDatabase(y5);return new am(t).toPromise()}function x1(){const t=indexedDB.open(y5,H$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sy,{keyPath:v5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sy)?e(r):(r.close(),await K$(),e(await x1()))})})}async function _N(t,e,n){const r=Fv(t,!0).put({[v5]:e,value:n});return new am(r).toPromise()}async function G$(t,e){const n=Fv(t,!1).get(e),r=await new am(n).toPromise();return r===void 0?null:r.value}function wN(t,e){const n=Fv(t,!0).delete(e);return new am(n).toPromise()}const W$=800,Y$=3;class b5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qv._getInstance($$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q$(),!this.activeServiceWorker)return;this.sender=new z$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x1();return await _N(e,Ey,"1"),await wN(e,Ey),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_N(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Fv(i,!1).getAll();return new am(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b5.type="LOCAL";const Q$=b5;new rm(3e4,6e4);function x5(t,e){return e?ts(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gS extends c5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X$(t){return P$(t.auth,new gS(t),t.bypassAuthState)}function Z$(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),N$(n,new gS(t),t.bypassAuthState)}async function J$(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),O$(n,new gS(t),t.bypassAuthState)}class _5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X$;case"linkViaPopup":case"linkViaRedirect":return J$;case"reauthViaPopup":case"reauthViaRedirect":return Z$;default:wa(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eH=new rm(2e3,1e4);async function tH(t,e,n){if(Pi(t.app))return Promise.reject(Mi(t,"operation-not-supported-in-this-environment"));const r=Uv(t);Y7(t,e,mS);const i=x5(r,n);return new Bl(r,"signInViaPopup",e,i).executeNotNull()}class Bl extends _5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=pS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eH.get())};e()}}Bl.currentPopupAction=null;const nH="pendingRedirect",Yg=new Map;class rH extends _5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yg.get(this.auth._key());if(!e){try{const r=await iH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yg.set(this.auth._key(),e)}return this.bypassAuthState||Yg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iH(t,e){const n=oH(e),r=sH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aH(t,e){Yg.set(t._key(),e)}function sH(t){return ts(t._redirectPersistence)}function oH(t){return Wg(nH,t.config.apiKey,t.name)}async function lH(t,e,n=!1){if(Pi(t.app))return Promise.reject(Hl(t));const r=Uv(t),i=x5(r,e),l=await new rH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const uH=600*1e3;class cH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!w5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uH&&this.cachedEventUids.clear(),this.cachedEventUids.has(EN(e))}saveEventToCache(e){this.cachedEventUids.add(EN(e)),this.lastProcessedEventTime=Date.now()}}function EN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w5(t);default:return!1}}async function fH(t,e={}){return yd(t,"GET","/v1/projects",e)}const hH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mH=/^https?/;async function pH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fH(t);for(const n of e)try{if(gH(n))return}catch{}wa(t,"unauthorized-domain")}function gH(t){const e=v1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!mH.test(n))return!1;if(hH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yH=new rm(3e4,6e4);function SN(){const t=ba().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vH(t){return new Promise((e,n)=>{function r(){SN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SN(),n(Mi(t,"network-request-failed"))},timeout:yH.get()})}if(ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ba().gapi?.load)r();else{const i=w$("iframefcb");return ba()[i]=()=>{gapi.load?r():n(Mi(t,"network-request-failed"))},x$(`${_$()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Qg=null,e})}let Qg=null;function bH(t){return Qg=Qg||vH(t),Qg}const xH=new rm(5e3,15e3),_H="__/auth/iframe",wH="emulator/auth/iframe",EH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AH(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uS(e,wH):`https://${t.config.authDomain}/${_H}`,r={apiKey:e.apiKey,appName:t.name,v:gd},i=SH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${nm(r).slice(1)}`}async function TH(t){const e=await bH(t),n=ba().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:AH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Mi(t,"network-request-failed"),u=ba().setTimeout(()=>{a(l)},xH.get());function d(){ba().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{a(l)})}))}const CH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IH=500,OH=600,NH="_blank",PH="http://localhost";class AN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jH(t,e,n,r=IH,i=OH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...CH,width:r.toString(),height:i.toString(),top:a,left:l},f=En().toLowerCase();n&&(u=n5(f)?NH:n),e5(f)&&(e=e||PH,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(f$(f)&&u!=="_self")return RH(e||"",u),new AN(null);const p=window.open(e||"",u,m);Me(p,t,"popup-blocked");try{p.focus()}catch{}return new AN(p)}function RH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const DH="__/auth/handler",kH="emulator/auth/handler",MH=encodeURIComponent("fac");async function TN(t,e,n,r,i,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gd,eventId:i};if(e instanceof mS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",kF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof im){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),f=d?`#${MH}=${encodeURIComponent(d)}`:"";return`${LH(t)}?${nm(u).slice(1)}${f}`}function LH({config:t}){return t.emulator?uS(t,kH):`https://${t.authDomain}/${DH}`}const y_="webStorageSupport";class VH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p5,this._completeRedirectFn=lH,this._overrideRedirectResult=aH}async _openPopup(e,n,r,i){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await TN(e,n,r,v1(),i);return jH(e,a,pS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await TN(e,n,r,v1(),i);return U$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TH(e),r=new cH(e);return n.register("authEvent",i=>(Me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(y_,{type:y_},i=>{const a=i?.[0]?.[y_];a!==void 0&&n(!!a),wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o5()||t5()||fS()}}const BH=VH;var CN="@firebase/auth",IN="1.12.0";class zH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qH(t){Fc(new eu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l5(t)},f=new v$(r,i,a,d);return S$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fc(new eu("auth-internal",e=>{const n=Uv(e.getProvider("auth").getImmediate());return(r=>new zH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(CN,IN,UH(t)),Po(CN,IN,"esm2020")}const FH=300,$H=D3("authIdTokenMaxAge")||FH;let ON=null;const HH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$H)return;const i=n?.token;ON!==i&&(ON=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KH(t=$3()){const e=sS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E$(t,{popupRedirectResolver:BH,persistence:[Q$,V$,p5]}),r=D3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=HH(a.toString());R$(n,l,()=>l(n.currentUser)),j$(n,u=>l(u))}}const i=j3("auth");return i&&A$(n,`http://${i}`),n}function GH(){return document.getElementsByTagName("head")?.[0]??document}b$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Mi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",GH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qH("Browser");var WH="firebase",YH="12.9.0";Po(WH,YH,"app");var NN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jo,E5;(function(){var t;function e(P,R){function L(){}L.prototype=R.prototype,P.F=R.prototype,P.prototype=new L,P.prototype.constructor=P,P.D=function(F,B,U){for(var q=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)q[ge-2]=arguments[ge];return R.prototype[B].apply(F,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,R,L){L||(L=0);const F=Array(16);if(typeof R=="string")for(var B=0;B<16;++B)F[B]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(B=0;B<16;++B)F[B]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=P.g[0],L=P.g[1],B=P.g[2];let U=P.g[3],q;q=R+(U^L&(B^U))+F[0]+3614090360&4294967295,R=L+(q<<7&4294967295|q>>>25),q=U+(B^R&(L^B))+F[1]+3905402710&4294967295,U=R+(q<<12&4294967295|q>>>20),q=B+(L^U&(R^L))+F[2]+606105819&4294967295,B=U+(q<<17&4294967295|q>>>15),q=L+(R^B&(U^R))+F[3]+3250441966&4294967295,L=B+(q<<22&4294967295|q>>>10),q=R+(U^L&(B^U))+F[4]+4118548399&4294967295,R=L+(q<<7&4294967295|q>>>25),q=U+(B^R&(L^B))+F[5]+1200080426&4294967295,U=R+(q<<12&4294967295|q>>>20),q=B+(L^U&(R^L))+F[6]+2821735955&4294967295,B=U+(q<<17&4294967295|q>>>15),q=L+(R^B&(U^R))+F[7]+4249261313&4294967295,L=B+(q<<22&4294967295|q>>>10),q=R+(U^L&(B^U))+F[8]+1770035416&4294967295,R=L+(q<<7&4294967295|q>>>25),q=U+(B^R&(L^B))+F[9]+2336552879&4294967295,U=R+(q<<12&4294967295|q>>>20),q=B+(L^U&(R^L))+F[10]+4294925233&4294967295,B=U+(q<<17&4294967295|q>>>15),q=L+(R^B&(U^R))+F[11]+2304563134&4294967295,L=B+(q<<22&4294967295|q>>>10),q=R+(U^L&(B^U))+F[12]+1804603682&4294967295,R=L+(q<<7&4294967295|q>>>25),q=U+(B^R&(L^B))+F[13]+4254626195&4294967295,U=R+(q<<12&4294967295|q>>>20),q=B+(L^U&(R^L))+F[14]+2792965006&4294967295,B=U+(q<<17&4294967295|q>>>15),q=L+(R^B&(U^R))+F[15]+1236535329&4294967295,L=B+(q<<22&4294967295|q>>>10),q=R+(B^U&(L^B))+F[1]+4129170786&4294967295,R=L+(q<<5&4294967295|q>>>27),q=U+(L^B&(R^L))+F[6]+3225465664&4294967295,U=R+(q<<9&4294967295|q>>>23),q=B+(R^L&(U^R))+F[11]+643717713&4294967295,B=U+(q<<14&4294967295|q>>>18),q=L+(U^R&(B^U))+F[0]+3921069994&4294967295,L=B+(q<<20&4294967295|q>>>12),q=R+(B^U&(L^B))+F[5]+3593408605&4294967295,R=L+(q<<5&4294967295|q>>>27),q=U+(L^B&(R^L))+F[10]+38016083&4294967295,U=R+(q<<9&4294967295|q>>>23),q=B+(R^L&(U^R))+F[15]+3634488961&4294967295,B=U+(q<<14&4294967295|q>>>18),q=L+(U^R&(B^U))+F[4]+3889429448&4294967295,L=B+(q<<20&4294967295|q>>>12),q=R+(B^U&(L^B))+F[9]+568446438&4294967295,R=L+(q<<5&4294967295|q>>>27),q=U+(L^B&(R^L))+F[14]+3275163606&4294967295,U=R+(q<<9&4294967295|q>>>23),q=B+(R^L&(U^R))+F[3]+4107603335&4294967295,B=U+(q<<14&4294967295|q>>>18),q=L+(U^R&(B^U))+F[8]+1163531501&4294967295,L=B+(q<<20&4294967295|q>>>12),q=R+(B^U&(L^B))+F[13]+2850285829&4294967295,R=L+(q<<5&4294967295|q>>>27),q=U+(L^B&(R^L))+F[2]+4243563512&4294967295,U=R+(q<<9&4294967295|q>>>23),q=B+(R^L&(U^R))+F[7]+1735328473&4294967295,B=U+(q<<14&4294967295|q>>>18),q=L+(U^R&(B^U))+F[12]+2368359562&4294967295,L=B+(q<<20&4294967295|q>>>12),q=R+(L^B^U)+F[5]+4294588738&4294967295,R=L+(q<<4&4294967295|q>>>28),q=U+(R^L^B)+F[8]+2272392833&4294967295,U=R+(q<<11&4294967295|q>>>21),q=B+(U^R^L)+F[11]+1839030562&4294967295,B=U+(q<<16&4294967295|q>>>16),q=L+(B^U^R)+F[14]+4259657740&4294967295,L=B+(q<<23&4294967295|q>>>9),q=R+(L^B^U)+F[1]+2763975236&4294967295,R=L+(q<<4&4294967295|q>>>28),q=U+(R^L^B)+F[4]+1272893353&4294967295,U=R+(q<<11&4294967295|q>>>21),q=B+(U^R^L)+F[7]+4139469664&4294967295,B=U+(q<<16&4294967295|q>>>16),q=L+(B^U^R)+F[10]+3200236656&4294967295,L=B+(q<<23&4294967295|q>>>9),q=R+(L^B^U)+F[13]+681279174&4294967295,R=L+(q<<4&4294967295|q>>>28),q=U+(R^L^B)+F[0]+3936430074&4294967295,U=R+(q<<11&4294967295|q>>>21),q=B+(U^R^L)+F[3]+3572445317&4294967295,B=U+(q<<16&4294967295|q>>>16),q=L+(B^U^R)+F[6]+76029189&4294967295,L=B+(q<<23&4294967295|q>>>9),q=R+(L^B^U)+F[9]+3654602809&4294967295,R=L+(q<<4&4294967295|q>>>28),q=U+(R^L^B)+F[12]+3873151461&4294967295,U=R+(q<<11&4294967295|q>>>21),q=B+(U^R^L)+F[15]+530742520&4294967295,B=U+(q<<16&4294967295|q>>>16),q=L+(B^U^R)+F[2]+3299628645&4294967295,L=B+(q<<23&4294967295|q>>>9),q=R+(B^(L|~U))+F[0]+4096336452&4294967295,R=L+(q<<6&4294967295|q>>>26),q=U+(L^(R|~B))+F[7]+1126891415&4294967295,U=R+(q<<10&4294967295|q>>>22),q=B+(R^(U|~L))+F[14]+2878612391&4294967295,B=U+(q<<15&4294967295|q>>>17),q=L+(U^(B|~R))+F[5]+4237533241&4294967295,L=B+(q<<21&4294967295|q>>>11),q=R+(B^(L|~U))+F[12]+1700485571&4294967295,R=L+(q<<6&4294967295|q>>>26),q=U+(L^(R|~B))+F[3]+2399980690&4294967295,U=R+(q<<10&4294967295|q>>>22),q=B+(R^(U|~L))+F[10]+4293915773&4294967295,B=U+(q<<15&4294967295|q>>>17),q=L+(U^(B|~R))+F[1]+2240044497&4294967295,L=B+(q<<21&4294967295|q>>>11),q=R+(B^(L|~U))+F[8]+1873313359&4294967295,R=L+(q<<6&4294967295|q>>>26),q=U+(L^(R|~B))+F[15]+4264355552&4294967295,U=R+(q<<10&4294967295|q>>>22),q=B+(R^(U|~L))+F[6]+2734768916&4294967295,B=U+(q<<15&4294967295|q>>>17),q=L+(U^(B|~R))+F[13]+1309151649&4294967295,L=B+(q<<21&4294967295|q>>>11),q=R+(B^(L|~U))+F[4]+4149444226&4294967295,R=L+(q<<6&4294967295|q>>>26),q=U+(L^(R|~B))+F[11]+3174756917&4294967295,U=R+(q<<10&4294967295|q>>>22),q=B+(R^(U|~L))+F[2]+718787259&4294967295,B=U+(q<<15&4294967295|q>>>17),q=L+(U^(B|~R))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(B+(q<<21&4294967295|q>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const L=R-this.blockSize,F=this.C;let B=this.h,U=0;for(;U<R;){if(B==0)for(;U<=L;)i(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<R;)if(F[B++]=P.charCodeAt(U++),B==this.blockSize){i(this,F),B=0;break}}else for(;U<R;)if(F[B++]=P[U++],B==this.blockSize){i(this,F),B=0;break}}this.h=B,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var L=P.length-8;L<P.length;++L)P[L]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,L=0;L<4;++L)for(let F=0;F<32;F+=8)P[R++]=this.g[L]>>>F&255;return P};function a(P,R){var L=u;return Object.prototype.hasOwnProperty.call(L,P)?L[P]:L[P]=R(P)}function l(P,R){this.h=R;const L=[];let F=!0;for(let B=P.length-1;B>=0;B--){const U=P[B]|0;F&&U==R||(L[B]=U,F=!1)}this.g=L}var u={};function d(P){return-128<=P&&P<128?a(P,function(R){return new l([R|0],R<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(f(-P));const R=[];let L=1;for(let F=0;P>=L;F++)R[F]=P/L|0,L*=4294967296;return new l(R,0)}function m(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return A(m(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=f(Math.pow(R,8));let F=p;for(let U=0;U<P.length;U+=8){var B=Math.min(8,P.length-U);const q=parseInt(P.substring(U,U+B),R);B<8?(B=f(Math.pow(R,B)),F=F.j(B).add(f(q))):(F=F.j(L),F=F.add(f(q)))}return F}var p=d(0),v=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-A(this).m();let P=0,R=1;for(let L=0;L<this.g.length;L++){const F=this.i(L);P+=(F>=0?F:4294967296+F)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(S(this))return"-"+A(this).toString(P);const R=f(Math.pow(P,6));var L=this;let F="";for(;;){const B=D(L,R).g;L=C(L,B.j(R));let U=((L.g.length>0?L.g[0]:L.h)>>>0).toString(P);if(L=B,E(L))return U+F;for(;U.length<6;)U="0"+U;F=U+F}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=C(this,P),S(P)?-1:E(P)?0:1};function A(P){const R=P.g.length,L=[];for(let F=0;F<R;F++)L[F]=~P.g[F];return new l(L,~P.h).add(v)}t.abs=function(){return S(this)?A(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),L=[];let F=0;for(let B=0;B<=R;B++){let U=F+(this.i(B)&65535)+(P.i(B)&65535),q=(U>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);F=q>>>16,U&=65535,q&=65535,L[B]=q<<16|U}return new l(L,L[L.length-1]&-2147483648?-1:0)};function C(P,R){return P.add(A(R))}t.j=function(P){if(E(this)||E(P))return p;if(S(this))return S(P)?A(this).j(A(P)):A(A(this).j(P));if(S(P))return A(this.j(A(P)));if(this.l(_)<0&&P.l(_)<0)return f(this.m()*P.m());const R=this.g.length+P.g.length,L=[];for(var F=0;F<2*R;F++)L[F]=0;for(F=0;F<this.g.length;F++)for(let B=0;B<P.g.length;B++){const U=this.i(F)>>>16,q=this.i(F)&65535,ge=P.i(B)>>>16,fe=P.i(B)&65535;L[2*F+2*B]+=q*fe,N(L,2*F+2*B),L[2*F+2*B+1]+=U*fe,N(L,2*F+2*B+1),L[2*F+2*B+1]+=q*ge,N(L,2*F+2*B+1),L[2*F+2*B+2]+=U*ge,N(L,2*F+2*B+2)}for(P=0;P<R;P++)L[P]=L[2*P+1]<<16|L[2*P];for(P=R;P<2*R;P++)L[P]=0;return new l(L,0)};function N(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function j(P,R){this.g=P,this.h=R}function D(P,R){if(E(R))throw Error("division by zero");if(E(P))return new j(p,p);if(S(P))return R=D(A(P),R),new j(A(R.g),A(R.h));if(S(R))return R=D(P,A(R)),new j(A(R.g),R.h);if(P.g.length>30){if(S(P)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var L=v,F=R;F.l(P)<=0;)L=V(L),F=V(F);var B=M(L,1),U=M(F,1);for(F=M(F,2),L=M(L,2);!E(F);){var q=U.add(F);q.l(P)<=0&&(B=B.add(L),U=q),F=M(F,1),L=M(L,1)}return R=C(P,B.j(R)),new j(B,R)}for(B=p;P.l(R)>=0;){for(L=Math.max(1,Math.floor(P.m()/R.m())),F=Math.ceil(Math.log(L)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),U=f(L),q=U.j(R);S(q)||q.l(P)>0;)L-=F,U=f(L),q=U.j(R);E(U)&&(U=v),B=B.add(U),P=C(P,q)}return new j(B,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),L=[];for(let F=0;F<R;F++)L[F]=this.i(F)&P.i(F);return new l(L,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),L=[];for(let F=0;F<R;F++)L[F]=this.i(F)|P.i(F);return new l(L,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),L=[];for(let F=0;F<R;F++)L[F]=this.i(F)^P.i(F);return new l(L,this.h^P.h)};function V(P){const R=P.g.length+1,L=[];for(let F=0;F<R;F++)L[F]=P.i(F)<<1|P.i(F-1)>>>31;return new l(L,P.h)}function M(P,R){const L=R>>5;R%=32;const F=P.g.length-L,B=[];for(let U=0;U<F;U++)B[U]=R>0?P.i(U+L)>>>R|P.i(U+L+1)<<32-R:P.i(U+L);return new l(B,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,E5=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,jo=l}).apply(typeof NN<"u"?NN:typeof self<"u"?self:typeof window<"u"?window:{});var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S5,Jf,A5,Xg,_1,T5,C5,I5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof bg=="object"&&bg];for(var T=0;T<y.length;++T){var O=y[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var O=r;y=y.split(".");for(var z=0;z<y.length-1;z++){var Q=y[z];if(!(Q in O))break e;O=O[Q]}y=y[y.length-1],z=O[y],T=T(z),T!=z&&T!=null&&e(O,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var O=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&O.push([z,T[z]]);return O}});var a=a||{},l=this||self;function u(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function d(y,T,O){return y.call.apply(y.bind,arguments)}function f(y,T,O){return f=d,f.apply(null,arguments)}function m(y,T){var O=Array.prototype.slice.call(arguments,1);return function(){var z=O.slice();return z.push.apply(z,arguments),y.apply(this,z)}}function p(y,T){function O(){}O.prototype=T.prototype,y.Z=T.prototype,y.prototype=new O,y.prototype.constructor=y,y.Ob=function(z,Q,ne){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return T.prototype[Q].apply(z,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function _(y){const T=y.length;if(T>0){const O=Array(T);for(let z=0;z<T;z++)O[z]=y[z];return O}return[]}function E(y,T){for(let z=1;z<arguments.length;z++){const Q=arguments[z];var O=typeof Q;if(O=O!="object"?O:Q?Array.isArray(Q)?"array":O:"null",O=="array"||O=="object"&&typeof Q.length=="number"){O=y.length||0;const ne=Q.length||0;y.length=O+ne;for(let ve=0;ve<ne;ve++)y[O+ve]=Q[ve]}else y.push(Q)}}class S{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(y){l.setTimeout(()=>{throw y},0)}function C(){var y=P;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class N{constructor(){this.h=this.g=null}add(T,O){const z=j.get();z.set(T,O),this.h?this.h.next=z:this.g=z,this.h=z}}var j=new S(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,P=new N,R=()=>{const y=Promise.resolve(void 0);V=()=>{y.then(L)}};function L(){for(var y;y=C();){try{y.h.call(y.g)}catch(O){A(O)}var T=j;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}M=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};l.addEventListener("test",O,T),l.removeEventListener("test",O,T)}catch{}return y})();function q(y){return/^[\s\xa0]*$/.test(y)}function ge(y,T){B.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(ge,B),ge.prototype.init=function(y,T){const O=this.type=y.type,z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(O=="mouseover"?T=y.fromElement:O=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(y,T,O,z,Q){this.listener=y,this.proxy=null,this.src=T,this.type=O,this.capture=!!z,this.ha=Q,this.key=++W,this.da=this.fa=!1}function re(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ue(y,T,O){for(const z in y)T.call(O,y[z],z,y)}function ye(y,T){for(const O in y)T.call(void 0,y[O],O,y)}function $(y){const T={};for(const O in y)T[O]=y[O];return T}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(y,T){let O,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(O in z)y[O]=z[O];for(let ne=0;ne<te.length;ne++)O=te[ne],Object.prototype.hasOwnProperty.call(z,O)&&(y[O]=z[O])}}function be(y){this.src=y,this.g={},this.h=0}be.prototype.add=function(y,T,O,z,Q){const ne=y.toString();y=this.g[ne],y||(y=this.g[ne]=[],this.h++);const ve=ke(y,T,z,Q);return ve>-1?(T=y[ve],O||(T.fa=!1)):(T=new ae(T,this.src,ne,!!z,Q),T.fa=O,y.push(T)),T};function Pe(y,T){const O=T.type;if(O in y.g){var z=y.g[O],Q=Array.prototype.indexOf.call(z,T,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(z,Q,1),ne&&(re(T),y.g[O].length==0&&(delete y.g[O],y.h--))}}function ke(y,T,O,z){for(let Q=0;Q<y.length;++Q){const ne=y[Q];if(!ne.da&&ne.listener==T&&ne.capture==!!O&&ne.ha==z)return Q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Vt={};function oe(y,T,O,z,Q){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)oe(y,T[ne],O,z,Q);return null}return O=Rs(O),y&&y[fe]?y.J(T,O,u(z)?!!z.capture:!1,Q):Be(y,T,O,!1,z,Q)}function Be(y,T,O,z,Q,ne){if(!T)throw Error("Invalid event type");const ve=u(Q)?!!Q.capture:!!Q;let Ue=Qt(y);if(Ue||(y[De]=Ue=new be(y)),O=Ue.add(T,O,z,ve,ne),O.proxy)return O;if(z=$e(),O.proxy=z,z.src=y,z.listener=O,y.addEventListener)U||(Q=ve),Q===void 0&&(Q=!1),y.addEventListener(T.toString(),z,Q);else if(y.attachEvent)y.attachEvent(Ke(T.toString()),z);else if(y.addListener&&y.removeListener)y.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return O}function $e(){function y(O){return T.call(y.src,y.listener,O)}const T=bn;return y}function he(y,T,O,z,Q){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)he(y,T[ne],O,z,Q);else z=u(z)?!!z.capture:!!z,O=Rs(O),y&&y[fe]?(y=y.i,ne=String(T).toString(),ne in y.g&&(T=y.g[ne],O=ke(T,O,z,Q),O>-1&&(re(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete y.g[ne],y.h--)))):y&&(y=Qt(y))&&(T=y.g[T.toString()],y=-1,T&&(y=ke(T,O,z,Q)),(O=y>-1?T[y]:null)&&Yt(O))}function Yt(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[fe])Pe(T.i,y);else{var O=y.type,z=y.proxy;T.removeEventListener?T.removeEventListener(O,z,y.capture):T.detachEvent?T.detachEvent(Ke(O),z):T.addListener&&T.removeListener&&T.removeListener(z),(O=Qt(T))?(Pe(O,y),O.h==0&&(O.src=null,T[De]=null)):re(y)}}}function Ke(y){return y in Vt?Vt[y]:Vt[y]="on"+y}function bn(y,T){if(y.da)y=!0;else{T=new ge(T,this);const O=y.listener,z=y.ha||y.src;y.fa&&Yt(y),y=O.call(z,T)}return y}function Qt(y){return y=y[De],y instanceof be?y:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rs(y){return typeof y=="function"?y:(y[Cr]||(y[Cr]=function(T){return y.handleEvent(T)}),y[Cr])}function tn(){F.call(this),this.i=new be(this),this.M=this,this.G=null}p(tn,F),tn.prototype[fe]=!0,tn.prototype.removeEventListener=function(y,T,O,z){he(this,y,T,O,z)};function xn(y,T){var O,z=y.G;if(z)for(O=[];z;z=z.G)O.push(z);if(y=y.M,z=T.type||T,typeof T=="string")T=new B(T,y);else if(T instanceof B)T.target=T.target||y;else{var Q=T;T=new B(z,y),pe(T,Q)}Q=!0;let ne,ve;if(O)for(ve=O.length-1;ve>=0;ve--)ne=T.g=O[ve],Q=Ds(ne,z,!0,T)&&Q;if(ne=T.g=y,Q=Ds(ne,z,!0,T)&&Q,Q=Ds(ne,z,!1,T)&&Q,O)for(ve=0;ve<O.length;ve++)ne=T.g=O[ve],Q=Ds(ne,z,!1,T)&&Q}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const O=y.g[T];for(let z=0;z<O.length;z++)re(O[z]);delete y.g[T],y.h--}}this.G=null},tn.prototype.J=function(y,T,O,z){return this.i.add(String(y),T,!1,O,z)},tn.prototype.K=function(y,T,O,z){return this.i.add(String(y),T,!0,O,z)};function Ds(y,T,O,z){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Q=!0;for(let ne=0;ne<T.length;++ne){const ve=T[ne];if(ve&&!ve.da&&ve.capture==O){const Ue=ve.listener,Zt=ve.ha||ve.src;ve.fa&&Pe(y.i,ve),Q=Ue.call(Zt,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function ib(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function qm(y){y.g=ib(()=>{y.g=null,y.i&&(y.i=!1,qm(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class ar extends F{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:qm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(y){F.call(this),this.h=y,this.g={}}p(Zo,F);var jd=[];function Rd(y){ue(y.g,function(T,O){this.g.hasOwnProperty(O)&&Yt(T)},y),y.g={}}Zo.prototype.N=function(){Zo.Z.N.call(this),Rd(this)},Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=l.JSON.stringify,ab=l.JSON.parse,Fm=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function $m(){}function Hm(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zn(){B.call(this,"d")}p(zn,B);function Kr(){B.call(this,"c")}p(Kr,B);var Xt={},Km=null;function Iu(){return Km=Km||new tn}Xt.Ia="serverreachability";function Gm(y){B.call(this,Xt.Ia,y)}p(Gm,B);function Fi(y){const T=Iu();xn(T,new Gm(T))}Xt.STAT_EVENT="statevent";function Jo(y,T){B.call(this,Xt.STAT_EVENT,y),this.stat=T}p(Jo,B);function nn(y){const T=Iu();xn(T,new Jo(T,y))}Xt.Ja="timingevent";function $i(y,T){B.call(this,Xt.Ja,y),this.size=T}p($i,B);function Hi(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function sb(y,T,O,z,Q,ne){y.info(function(){if(y.g)if(ne){var ve="",Ue=ne.split("&");for(let ot=0;ot<Ue.length;ot++){var Zt=Ue[ot].split("=");if(Zt.length>1){const Nt=Zt[0];Zt=Zt[1];const Qr=Nt.split("_");ve=Qr.length>=2&&Qr[1]=="type"?ve+(Nt+"="+Zt+"&"):ve+(Nt+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+T+`
`+O+`
`+ve})}function Wm(y,T,O,z,Q,ne,ve){y.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+T+`
`+O+`
`+ne+" "+ve})}function Ki(y,T,O,z){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+ob(y,O)+(z?" "+z:"")})}function el(y,T){y.info(function(){return"TIMEOUT: "+T})}vi.prototype.info=function(){};function ob(y,T){if(!y.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(y=0;y<ne.length;y++)if(Array.isArray(ne[y])){var O=ne[y];if(!(O.length<2)){var z=O[1];if(Array.isArray(z)&&!(z.length<1)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<z.length;ve++)z[ve]=""}}}}return ks(ne)}catch{return T}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kd;function nl(){}p(nl,$m),nl.prototype.g=function(){return new XMLHttpRequest},kd=new nl;function Pa(y){return encodeURIComponent(String(y))}function Ym(y){var T=1;y=y.split(":");const O=[];for(;T>0&&y.length;)O.push(y.shift()),T--;return y.length&&O.push(y.join(":")),O}function bi(y,T,O,z){this.j=y,this.i=T,this.l=O,this.S=z||1,this.V=new Zo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var rn={},In={};function Gi(y,T,O){y.M=1,y.A=rl(sn(T)),y.u=O,y.R=!0,Ou(y,null)}function Ou(y,T){y.F=Date.now(),Wi(y),y.B=sn(y.A);var O=y.B,z=y.S;Array.isArray(z)||(z=[String(z)]),Ru(O.i,"t",z),y.C=0,O=y.j.L,y.h=new xi,y.g=cp(y.j,O?T:null,!y.u),y.P>0&&(y.O=new ar(f(y.Y,y,y.g),y.P)),T=y.V,O=y.g,z=y.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(jd[0]=Q.toString()),Q=jd);for(let ne=0;ne<Q.length;ne++){const ve=oe(O,Q[ne],z||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Fi(),sb(y.i,y.v,y.B,y.l,y.S,y.u)}bi.prototype.ba=function(y){y=y.target;const T=this.O;T&&Ei(y)==3?T.j():this.Y(y)},bi.prototype.Y=function(y){try{if(y==this.g)e:{const Ue=Ei(this.g),Zt=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Un(this.g)))){this.K||Ue!=4||Zt==7||(Zt==8||ot<=0?Fi(3):Fi(2)),Yi(this);var T=this.g.ca();this.X=T;var O=lb(this);if(this.o=T==200,Wm(this.i,this.v,this.B,this.l,this.S,Ue,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Q=this.g;if((z=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(z)){var ne=z;break t}}ne=null}if(y=ne)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,y);else{this.o=!1,this.m=3,nn(12),Ir(this),Gr(this);break e}}if(this.R){y=!0;let Nt;for(;!this.K&&this.C<O.length;)if(Nt=Xm(this,O),Nt==In){Ue==4&&(this.m=4,nn(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==rn){this.m=4,nn(15),Ki(this.i,this.l,O,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,Nt,null),Qi(this,Nt);if(Qm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||O.length!=0||this.h.h||(this.m=1,nn(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,O,"[Invalid Chunked Response]"),Ir(this),Gr(this);else if(O.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Qd(ve),ve.P=!0,nn(11))}}else Ki(this.i,this.l,O,null),Qi(this,O);Ue==4&&Ir(this),this.o&&!this.K&&(Ue==4?sp(this.j,this):(this.o=!1,Wi(this)))}else Ra(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Ir(this),Gr(this)}}}catch{}};function lb(y){if(!Qm(y))return y.g.la();const T=Un(y.g);if(T==="")return"";let O="";const z=T.length,Q=Ei(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ir(y),Gr(y),"";y.h.i=new l.TextDecoder}for(let ne=0;ne<z;ne++)y.h.h=!0,O+=y.h.i.decode(T[ne],{stream:!(Q&&ne==z-1)});return T.length=0,y.h.g+=O,y.C=0,y.h.g}function Qm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Xm(y,T){var O=y.C,z=T.indexOf(`
`,O);return z==-1?In:(O=Number(T.substring(O,z)),isNaN(O)?rn:(z+=1,z+O>T.length?In:(T=T.slice(z,z+O),y.C=z+O,T)))}bi.prototype.cancel=function(){this.K=!0,Ir(this)};function Wi(y){y.T=Date.now()+y.H,Nu(y,y.H)}function Nu(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Hi(f(y.aa,y),T)}function Yi(y){y.D&&(l.clearTimeout(y.D),y.D=null)}bi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(el(this.i,this.B),this.M!=2&&(Fi(),nn(17)),Ir(this),this.m=2,Gr(this)):Nu(this,this.T-y)};function Gr(y){y.j.I==0||y.K||sp(y.j,y)}function Ir(y){Yi(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Rd(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Qi(y,T){try{var O=y.j;if(O.I!=0&&(O.g==y||Zi(O.h,y))){if(!y.L&&Zi(O.h,y)&&O.I==3){try{var z=O.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<y.F)Vu(O),Fs(O);else break e;cl(O),nn(18)}}else O.xa=Q[1],0<O.xa-O.K&&Q[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Hi(f(O.Va,O),6e3));Xi(O.h)<=1&&O.ta&&(O.ta=void 0)}else ia(O,11)}else if((y.L||O.g==y)&&Vu(O),!q(T))for(Q=O.Ba.g.parse(T),T=0;T<Q.length;T++){let ot=Q[T];const Nt=ot[0];if(!(Nt<=O.K))if(O.K=Nt,ot=ot[1],O.I==2)if(ot[0]=="c"){O.M=ot[1],O.ba=ot[2];const Qr=ot[3];Qr!=null&&(O.ka=Qr,O.j.info("VER="+O.ka));const aa=ot[4];aa!=null&&(O.za=aa,O.j.info("SVER="+O.za));const Si=ot[5];Si!=null&&typeof Si=="number"&&Si>0&&(z=1.5*Si,O.O=z,O.j.info("backChannelRequestTimeoutMs_="+z)),z=O;const Ai=y.g;if(Ai){const dl=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dl){var ne=z.h;ne.g||dl.indexOf("spdy")==-1&&dl.indexOf("quic")==-1&&dl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Vd(ne,ne.h),ne.h=null))}if(z.G){const Bu=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Bu&&(z.wa=Bu,ct(z.J,z.G,Bu))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-y.F,O.j.info("Handshake RTT: "+O.T+"ms")),z=O;var ve=y;if(z.na=up(z,z.L?z.ba:null,z.W),ve.L){Bd(z.h,ve);var Ue=ve,Zt=z.O;Zt&&(Ue.H=Zt),Ue.D&&(Yi(Ue),Wi(Ue)),z.g=ve}else ip(z);O.i.length>0&&ra(O)}else ot[0]!="stop"&&ot[0]!="close"||ia(O,7);else O.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ia(O,7):Wd(O):ot[0]!="noop"&&O.l&&O.l.qa(ot),O.A=0)}}Fi(4)}catch{}}var an=class{constructor(y,T){this.g=y,this.map=T}};function Md(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ld(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Xi(y){return y.h?1:y.g?y.g.size:0}function Zi(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Vd(y,T){y.g?y.g.add(T):y.h=T}function Bd(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}Md.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function zd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const O of y.g.values())T=T.concat(O.G);return T}return _(y.i)}var Zm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pu(y,T){if(y){y=y.split("&");for(let O=0;O<y.length;O++){const z=y[O].indexOf("=");let Q,ne=null;z>=0?(Q=y[O].substring(0,z),ne=y[O].substring(z+1)):Q=y[O],T(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Or(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Or?(this.l=y.l,On(this,y.j),this.o=y.o,this.g=y.g,Ms(this,y.u),this.h=y.h,Ud(this,np(y.i)),this.m=y.m):y&&(T=String(y).match(Zm))?(this.l=!1,On(this,T[1]||"",!0),this.o=Ji(T[2]||""),this.g=Ji(T[3]||"",!0),Ms(this,T[4]),this.h=Ji(T[5]||"",!0),Ud(this,T[6]||"",!0),this.m=Ji(T[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}Or.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(il(T,ju,!0),":");var O=this.g;return(O||T=="file")&&(y.push("//"),(T=this.o)&&y.push(il(T,ju,!0),"@"),y.push(Pa(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&y.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(il(O,O.charAt(0)=="/"?qd:Jm,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",il(O,ep)),y.join("")},Or.prototype.resolve=function(y){const T=sn(this);let O=!!y.j;O?On(T,y.j):O=!!y.o,O?T.o=y.o:O=!!y.g,O?T.g=y.g:O=y.u!=null;var z=y.h;if(O)Ms(T,y.u);else if(O=!!y.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Q=T.h.lastIndexOf("/");Q!=-1&&(z=T.h.slice(0,Q+1)+z)}if(Q=z,Q==".."||Q==".")z="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){z=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ve=0;ve<Q.length;){const Ue=Q[ve++];Ue=="."?z&&ve==Q.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&ve==Q.length&&ne.push("")):(ne.push(Ue),z=!0)}z=ne.join("/")}else z=Q}return O?T.h=z:O=y.i.toString()!=="",O?Ud(T,np(y.i)):O=!!y.m,O&&(T.m=y.m),T};function sn(y){return new Or(y)}function On(y,T,O){y.j=O?Ji(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Ms(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function Ud(y,T,O){T instanceof Vs?(y.i=T,Du(y.i,y.l)):(O||(T=il(T,Ls)),y.i=new Vs(T,y.l))}function ct(y,T,O){y.i.set(T,O)}function rl(y){return ct(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ji(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function il(y,T,O){return typeof y=="string"?(y=encodeURI(y).replace(T,pr),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var ju=/[#\/\?@]/g,Jm=/[#\?:]/g,qd=/[#\?]/g,Ls=/[#\?@]/g,ep=/#/g;function Vs(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function gr(y){y.g||(y.g=new Map,y.h=0,y.i&&Pu(y.i,function(T,O){y.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=Vs.prototype,t.add=function(y,T){gr(this),this.i=null,y=Bs(this,y);let O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(T),this.h+=1,this};function tp(y,T){gr(y),T=Bs(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Fd(y,T){return gr(y),T=Bs(y,T),y.g.has(T)}t.forEach=function(y,T){gr(this),this.g.forEach(function(O,z){O.forEach(function(Q){y.call(T,Q,z,this)},this)},this)};function $d(y,T){gr(y);let O=[];if(typeof T=="string")Fd(y,T)&&(O=O.concat(y.g.get(Bs(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)O=O.concat(y[T]);return O}t.set=function(y,T){return gr(this),this.i=null,y=Bs(this,y),Fd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=$d(this,y),y.length>0?String(y[0]):T):T};function Ru(y,T,O){tp(y,T),O.length>0&&(y.i=null,y.g.set(Bs(y,T),_(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var O=T[z];const Q=Pa(O);O=$d(this,O);for(let ne=0;ne<O.length;ne++){let ve=Q;O[ne]!==""&&(ve+="="+Pa(O[ne])),y.push(ve)}}return this.i=y.join("&")};function np(y){const T=new Vs;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function Bs(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Du(y,T){T&&!y.j&&(gr(y),y.i=null,y.g.forEach(function(O,z){const Q=z.toLowerCase();z!=Q&&(tp(this,z),Ru(this,Q,O))},y)),y.j=T}function _i(y,T){const O=new vi;if(l.Image){const z=new Image;z.onload=m(Wr,O,"TestLoadImage: loaded",!0,T,z),z.onerror=m(Wr,O,"TestLoadImage: error",!1,T,z),z.onabort=m(Wr,O,"TestLoadImage: abort",!1,T,z),z.ontimeout=m(Wr,O,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=y}else T(!1)}function Hd(y,T){const O=new vi,z=new AbortController,Q=setTimeout(()=>{z.abort(),Wr(O,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:z.signal}).then(ne=>{clearTimeout(Q),ne.ok?Wr(O,"TestPingServer: ok",!0,T):Wr(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),Wr(O,"TestPingServer: error",!1,T)})}function Wr(y,T,O,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(O)}catch{}}function zs(){this.g=new Fm}function ea(y){this.i=y.Sb||null,this.h=y.ab||!1}p(ea,$m),ea.prototype.g=function(){return new al(this.i,this.h)};function al(y,T){tn.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(al,tn),t=al.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,wi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ku(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function ku(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Us(this):wi(this),this.readyState==3&&ku(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Us(this))},t.Na=function(y){this.g&&(this.response=y,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(y){y.readyState=4,y.l=null,y.j=null,y.B=null,wi(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=T.next();return y.join(`\r
`)};function wi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Yr(y){let T="";return ue(y,function(O,z){T+=z,T+=":",T+=O,T+=`\r
`}),T}function sl(y,T,O){e:{for(z in O){var z=!1;break e}z=!0}z||(O=Yr(O),typeof y=="string"?O!=null&&Pa(O):ct(y,T,O))}function yt(y){tn.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(yt,tn);var ta=/^https?$/i,Kd=["POST","PUT"];t=yt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,O,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ne){ol(this,ne);return}if(y=O||"",O=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)O.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())O.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Kd,T,void 0)>=0)||z||Q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of O)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ne){ol(this,ne)}};function ol(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Gd(y),ja(y)}function Gd(y){y.A||(y.A=!0,xn(y,"complete"),xn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,xn(this,"complete"),xn(this,"abort"),ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(y){if(y.h&&typeof a<"u"){if(y.v&&Ei(y)==4)setTimeout(y.Ca.bind(y),0);else if(xn(y,"readystatechange"),Ei(y)==4){y.h=!1;try{const ne=y.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var z;if(z=ne===0){let ve=String(y.D).match(Zm)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),z=!ta.test(ve?ve.toLowerCase():"")}O=z}if(O)xn(y,"complete"),xn(y,"success");else{y.o=6;try{var Q=Ei(y)>2?y.g.statusText:""}catch{Q=""}y.l=Q+" ["+y.ca()+"]",Gd(y)}}finally{ja(y)}}}}function ja(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const O=y.g;y.g=null,T||xn(y,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),ab(T)}};function Un(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(y){const T={};y=(y.g&&Ei(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<y.length;z++){if(q(y[z]))continue;var O=Ym(y[z]);const Q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=T[Q]||[];T[Q]=ne,ne.push(O)}ye(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(y,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||T}function qs(y){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,y),this.Za=na("retryDelaySeedMs",1e4,y),this.Ta=na("forwardChannelMaxRetries",2,y),this.va=na("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Md(y&&y.concurrentRequestLimit),this.Ba=new zs,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(y,T,O,z){nn(0),this.W=y,this.H=T||{},O&&z!==void 0&&(this.H.OSID=O,this.H.OAID=z),this.F=this.X,this.J=up(this,null,this.W),ra(this)};function Wd(y){if(Mu(y),y.I==3){var T=y.V++,O=sn(y.J);if(ct(O,"SID",y.M),ct(O,"RID",T),ct(O,"TYPE","terminate"),ul(y,O),T=new bi(y,y.j,T),T.M=2,T.A=rl(sn(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=T.A,O=!0),O||(T.g=cp(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Wi(T)}lp(y)}function Fs(y){y.g&&(Qd(y),y.g.cancel(),y.g=null)}function Mu(y){Fs(y),y.v&&(l.clearTimeout(y.v),y.v=null),Vu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function ra(y){if(!Ld(y.h)&&!y.m){y.m=!0;var T=y.Ea;V||R(),M||(V(),M=!0),P.add(T,y),y.D=0}}function Lu(y,T){return Xi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Hi(f(y.Ea,y,T),op(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Q=new bi(this,this.j,y);let ne=this.o;if(this.U&&(ne?(ne=$(ne),pe(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var z=this.i[O];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=rp(this,Q,T),O=sn(this.J),ct(O,"RID",y),ct(O,"CVER",22),this.G&&ct(O,"X-HTTP-Session-Id",this.G),ul(this,O),ne&&(this.R?T="headers="+Pa(Yr(ne))+"&"+T:this.u&&sl(O,this.u,ne)),Vd(this.h,Q),this.Ra&&ct(O,"TYPE","init"),this.S?(ct(O,"$req",T),ct(O,"SID","null"),Q.U=!0,Gi(Q,O,null)):Gi(Q,O,T),this.I=2}}else this.I==3&&(y?Yd(this,y):this.i.length==0||Ld(this.h)||Yd(this))};function Yd(y,T){var O;T?O=T.l:O=y.V++;const z=sn(y.J);ct(z,"SID",y.M),ct(z,"RID",O),ct(z,"AID",y.K),ul(y,z),y.u&&y.o&&sl(z,y.u,y.o),O=new bi(y,y.j,O,y.D+1),y.u===null&&(O.J=y.o),T&&(y.i=T.G.concat(y.i)),T=rp(y,O,1e3),O.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Vd(y.h,O),Gi(O,z,T)}function ul(y,T){y.H&&ue(y.H,function(O,z){ct(T,z,O)}),y.l&&ue({},function(O,z){ct(T,z,O)})}function rp(y,T,O){O=Math.min(y.i.length,O);const z=y.l?f(y.l.Ka,y.l,y):null;e:{var Q=y.i;let Ue=-1;for(;;){const Zt=["count="+O];Ue==-1?O>0?(Ue=Q[0].g,Zt.push("ofs="+Ue)):Ue=0:Zt.push("ofs="+Ue);let ot=!0;for(let Nt=0;Nt<O;Nt++){var ne=Q[Nt].g;const Qr=Q[Nt].map;if(ne-=Ue,ne<0)Ue=Math.max(0,Q[Nt].g-100),ot=!1;else try{ne="req"+ne+"_"||"";try{var ve=Qr instanceof Map?Qr:Object.entries(Qr);for(const[aa,Si]of ve){let Ai=Si;u(Si)&&(Ai=ks(Si)),Zt.push(ne+aa+"="+encodeURIComponent(Ai))}}catch(aa){throw Zt.push(ne+"type="+encodeURIComponent("_badmap")),aa}}catch{z&&z(Qr)}}if(ot){ve=Zt.join("&");break e}}ve=void 0}return y=y.i.splice(0,O),T.G=y,ve}function ip(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;V||R(),M||(V(),M=!0),P.add(T,y),y.A=0}}function cl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Hi(f(y.Da,y),op(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,ap(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Hi(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Fs(this),ap(this))};function Qd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function ap(y){y.g=new bi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=sn(y.na);ct(T,"RID","rpc"),ct(T,"SID",y.M),ct(T,"AID",y.K),ct(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&ct(T,"TO",y.ia),ct(T,"TYPE","xmlhttp"),ul(y,T),y.u&&y.o&&sl(T,y.u,y.o),y.O&&(y.g.H=y.O);var O=y.g;y=y.ba,O.M=1,O.A=rl(sn(T)),O.u=null,O.R=!0,Ou(O,y)}t.Va=function(){this.C!=null&&(this.C=null,Fs(this),cl(this),nn(19))};function Vu(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function sp(y,T){var O=null;if(y.g==T){Vu(y),Qd(y),y.g=null;var z=2}else if(Zi(y.h,T))O=T.G,Bd(y.h,T),z=1;else return;if(y.I!=0){if(T.o)if(z==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var Q=y.D;z=Iu(),xn(z,new $i(z,O)),ra(y)}else ip(y);else if(Q=T.m,Q==3||Q==0&&T.X>0||!(z==1&&Lu(y,T)||z==2&&cl(y)))switch(O&&O.length>0&&(T=y.h,T.i=T.i.concat(O)),Q){case 1:ia(y,5);break;case 4:ia(y,10);break;case 3:ia(y,6);break;default:ia(y,2)}}}function op(y,T){let O=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(O*=2),O*T}function ia(y,T){if(y.j.info("Error code "+T),T==2){var O=f(y.bb,y),z=y.Ua;const Q=!z;z=new Or(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||On(z,"https"),rl(z),Q?_i(z.toString(),O):Hd(z.toString(),O)}else nn(2);y.I=0,y.l&&y.l.pa(T),lp(y),Mu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function lp(y){if(y.I=0,y.ja=[],y.l){const T=zd(y.h);(T.length!=0||y.i.length!=0)&&(E(y.ja,T),E(y.ja,y.i),y.h.i.length=0,_(y.i),y.i.length=0),y.l.oa()}}function up(y,T,O){var z=O instanceof Or?sn(O):new Or(O);if(z.g!="")T&&(z.g=T+"."+z.g),Ms(z,z.u);else{var Q=l.location;z=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Or(null);z&&On(ne,z),T&&(ne.g=T),Q&&Ms(ne,Q),O&&(ne.h=O),z=ne}return O=y.G,T=y.wa,O&&T&&ct(z,O,T),ct(z,"VER",y.ka),ul(y,z),z}function cp(y,T,O){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new yt(new ea({ab:O})):new yt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}t=dp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $s(){}$s.prototype.g=function(y,T){return new sr(y,T)};function sr(y,T){tn.call(this),this.g=new qs(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!q(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!q(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Da(this)}p(sr,tn),sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Wd(this.g)},sr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.v&&(O={},O.__data__=ks(y),y=O);T.i.push(new an(T.Ya++,y)),T.I==3&&ra(T)},sr.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,sr.Z.N.call(this)};function fp(y){zn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const O in T){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(fp,zn);function hp(){Kr.call(this),this.status=1}p(hp,Kr);function Da(y){this.g=y}p(Da,dp),Da.prototype.ra=function(){xn(this.g,"a")},Da.prototype.qa=function(y){xn(this.g,new fp(y))},Da.prototype.pa=function(y){xn(this.g,new hp)},Da.prototype.oa=function(){xn(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,I5=function(){return new $s},C5=function(){return Iu()},T5=Xt,_1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,Xg=tl,Dd.COMPLETE="complete",A5=Dd,Hm.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",tn.prototype.listen=tn.prototype.J,Jf=Hm,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,S5=yt}).apply(typeof bg<"u"?bg:typeof self<"u"?self:typeof window<"u"?window:{});class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");let vd="12.9.0";function QH(t){vd=t}const nu=new iS("@firebase/firestore");function Ac(){return nu.logLevel}function me(t,...e){if(nu.logLevel<=Xe.DEBUG){const n=e.map(yS);nu.debug(`Firestore (${vd}): ${t}`,...n)}}function ur(t,...e){if(nu.logLevel<=Xe.ERROR){const n=e.map(yS);nu.error(`Firestore (${vd}): ${t}`,...n)}}function Vo(t,...e){if(nu.logLevel<=Xe.WARN){const n=e.map(yS);nu.warn(`Firestore (${vd}): ${t}`,...n)}}function yS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,O5(t,r,n)}function O5(t,e,n){let r=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ur(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||O5(e,i,r)}function Ve(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ro{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class N5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class ZH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JH{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ro,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ro)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new N5(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class eK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function w1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return v_(i)===v_(a)?Le(i,a):v_(i)?1:-1}return Le(t.length,e.length)}const iK=55296,aK=57343;function v_(t){const e=t.charCodeAt(0);return e>=iK&&e<=aK}function Hc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function P5(t){return t+"\0"}const jN="__name__";class ha{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ha.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const r=ha.isNumericId(e),i=ha.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ha.extractNumericId(e).compare(ha.extractNumericId(n)):w1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class ut extends ha{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const sK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ha{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return sK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jN}static keyField(){return new Bt([jN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ut.fromString(e))}static fromName(e){return new we(ut.fromString(e).popFirst(5))}static empty(){return new we(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ut(e.slice()))}}function j5(t,e,n){if(!n)throw new xe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oK(t,e,n,r){if(e===!0&&r===!0)throw new xe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RN(t){if(!we.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DN(t){if(we.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $v(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$v(t);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function sm(t,e){if(!R5(t))throw new xe(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new xe(le.INVALID_ARGUMENT,n);return!0}const kN=-62135596800,MN=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MN);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kN)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MN}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sm(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:fn("string",mt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new mt(0,0))}static max(){return new je(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wh=-1;class Ay{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function E1(t){return t.fields.find((e=>e.kind===2))}function Nl(t){return t.fields.filter((e=>e.kind!==2))}Ay.UNKNOWN_ID=-1;class Zg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Eh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Eh(0,qr.min())}}function lK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new qr(i,we.empty(),e)}function D5(t){return new qr(t.readTime,t.key,wh)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(je.min(),we.empty(),wh)}static max(){return new qr(je.max(),we.empty(),wh)}}function bS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const k5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==k5)throw t;me("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++u,u===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}const Lr="SimpleDb";class Hv{static open(e,n,r,i){try{return new Hv(n,e.transaction(i,r))}catch(a){throw new ch(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ro,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ch(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=xS(r.target.error);this.S.reject(new ch(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(Lr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new cK(n)}}class Do{static delete(e){return me(Lr,"Removing database:",e),kl(P3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!z3())return!1;if(Do.F())return!0;const e=En(),n=Do.M(e),r=0<n&&n<10,i=L5(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Do.M(En())===12.2&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(me(Lr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;n(l)},i.onblocked=()=>{r(new ch(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ch(e,l))},i.onupgradeneeded=a=>{me(Lr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next((()=>{me(Lr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Hv.open(this.db,e,a?"readonly":"readwrite",r),d=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Y.reject(f)))).toPromise();return d.catch((()=>{})),await u.D,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(me(Lr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function L5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class uK{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return kl(this.U.delete())}}class ch extends xe{constructor(e,n){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Go(t){return t.name==="IndexedDbTransactionError"}class cK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(me(Lr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(me(Lr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kl(r)}add(e){return me(Lr,"ADD",this.store.name,e,e),kl(this.store.add(e))}get(e){return kl(this.store.get(e)).next((n=>(n===void 0&&(n=null),me(Lr,"GET",this.store.name,e,n),n)))}delete(e){return me(Lr,"DELETE",this.store.name,e),kl(this.store.delete(e))}count(){return me(Lr,"COUNT",this.store.name),kl(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Y(((l,u)=>{a.onerror=d=>{u(d.target.error)},a.onsuccess=d=>{l(d.target.result)}}))}{const a=this.cursor(r),l=[];return this.J(a,((u,d)=>{l.push(d)})).next((()=>l))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}X(e,n){me(Lr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((a,l,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=a=>{const l=xS(a.target.error);i(l)},n.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}J(e,n){const r=[];return new Y(((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new uK(u),f=n(u.primaryKey,u.value,d);if(f instanceof Y){const m=f.catch((p=>(d.done(),Y.reject(p))));r.push(m)}d.isDone?i():d.G===null?u.continue():u.continue(d.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kl(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xS(r.target.error);n(i)}}))}let LN=!1;function xS(t){const e=Do.M(En());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LN||(LN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const dh="IndexBackfiller";class dK{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){me(dh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();me(dh,`Documents written: ${n}`)}catch(n){Go(n)?me(dh,"Ignoring IndexedDB error during index backfill: ",n):await bu(n)}await this.re(6e4)}))}}class fK{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Y.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return me(dh,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,a))).next((u=>(me(dh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const l=D5(a);bS(l,r)>0&&(r=l)})),new qr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class di{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}di.ce=-1;const Kl=-1;function Kv(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function hK(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Ty="";function nr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VN(e)),e=mK(t.get(n),e);return VN(e)}function mK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Ty:n+="";break;default:n+=a}}return n}function VN(t){return t+Ty+""}function pa(t){const e=t.length;if(Oe(e>=2,64408,{path:t}),e===2)return Oe(t.charAt(0)===Ty&&t.charAt(1)==="",56145,{path:t}),ut.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const l=t.indexOf(Ty,a);switch((l<0||l>n)&&Te(50515,{path:t}),t.charAt(l+1)){case"":const u=t.substring(a,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=t.substring(a,l),i+="\0";break;case"":i+=t.substring(a,l+1);break;default:Te(61167,{path:t})}a=l+2}return new ut(r)}const Pl="remoteDocuments",om="owner",pc="owner",Ah="mutationQueues",pK="userId",Ni="mutations",BN="batchId",zl="userMutationsIndex",zN=["userId","batchId"];function Jg(t,e){return[t,nr(e)]}function V5(t,e,n){return[t,nr(e),n]}const gK={},Kc="documentMutations",Cy="remoteDocumentsV14",yK=["prefixPath","collectionGroup","readTime","documentId"],ey="documentKeyIndex",vK=["prefixPath","collectionGroup","documentId"],B5="collectionGroupIndex",bK=["collectionGroup","readTime","prefixPath","documentId"],Th="remoteDocumentGlobal",S1="remoteDocumentGlobalKey",Gc="targets",z5="queryTargetsIndex",xK=["canonicalId","targetId"],Wc="targetDocuments",_K=["targetId","path"],_S="documentTargetsIndex",wK=["path","targetId"],Iy="targetGlobalKey",Gl="targetGlobal",Ch="collectionParents",EK=["collectionId","parent"],Yc="clientMetadata",SK="clientId",Gv="bundles",AK="bundleId",Wv="namedQueries",TK="name",wS="indexConfiguration",CK="indexId",A1="collectionGroupIndex",IK="collectionGroup",fh="indexState",OK=["indexId","uid"],U5="sequenceNumberIndex",NK=["uid","sequenceNumber"],hh="indexEntries",PK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q5="documentKeyIndex",jK=["indexId","uid","orderedDocumentKey"],Yv="documentOverlays",RK=["userId","collectionPath","documentId"],T1="collectionPathOverlayIndex",DK=["userId","collectionPath","largestBatchId"],F5="collectionGroupOverlayIndex",kK=["userId","collectionGroup","largestBatchId"],ES="globals",MK="name",$5=[Ah,Ni,Kc,Pl,Gc,om,Gl,Wc,Yc,Th,Ch,Gv,Wv],LK=[...$5,Yv],H5=[Ah,Ni,Kc,Cy,Gc,om,Gl,Wc,Yc,Th,Ch,Gv,Wv,Yv],K5=H5,SS=[...K5,wS,fh,hh],VK=SS,G5=[...SS,ES],BK=G5;class C1 extends M5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Sn(t,e){const n=Ve(t);return Do.O(n.le,e)}function UN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xg(this.root,e,this.comparator,!0)}}class xg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Yn.RED,this.left=i??Yn.EMPTY,this.right=a??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Yn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qN(this.data.getIterator())}getIteratorFrom(e){return new qN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class qN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gc(t){return t.hasNext()?t.getNext():void 0}class wr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new wr([])}unionWith(e){let n=new gt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Y5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Y5("Invalid base64 string: "+a):a}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const zK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=zK.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}const Q5="server_timestamp",X5="__type__",Z5="__previous_value__",J5="__local_write_time__";function AS(t){return(t?.mapValue?.fields||{})[X5]?.stringValue===Q5}function Qv(t){const e=t.mapValue.fields[Z5];return AS(e)?Qv(e):e}function Ih(t){const e=fs(t.mapValue.fields[J5].timestampValue);return new mt(e.seconds,e.nanos)}class UK{constructor(e,n,r,i,a,l,u,d,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m,this.apiKey=p}}const Oy="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Oy}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Oy}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}function qK(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(t.options.projectId,e)}const TS="__type__",e4="__max__",Co={mapValue:{fields:{__type__:{stringValue:e4}}}},CS="__vector__",Qc="value",ty={nullValue:"NULL_VALUE"};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AS(t)?4:t4(t)?9007199254740991:Xv(t)?10:11:Te(28295,{value:t})}function Ea(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=fs(i.timestampValue),u=fs(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return hs(i.bytesValue).isEqual(hs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Rt(i.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Rt(i.integerValue)===Rt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Rt(i.doubleValue),u=Rt(a.doubleValue);return l===u?Sh(l)===Sh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(UN(l)!==UN(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ea(l[d],u[d])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function Oh(t,e){return(t.values||[]).find((n=>Ea(n,e)))!==void 0}function zo(t,e){if(t===e)return 0;const n=Bo(t),r=Bo(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Rt(a.integerValue||a.doubleValue),d=Rt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return FN(t.timestampValue,e.timestampValue);case 4:return FN(Ih(t),Ih(e));case 5:return w1(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=hs(a),d=hs(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Le(u[f],d[f]);if(m!==0)return m}return Le(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Le(Rt(a.latitude),Rt(l.latitude));return u!==0?u:Le(Rt(a.longitude),Rt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $N(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},f=u[Qc]?.arrayValue,m=d[Qc]?.arrayValue,p=Le(f?.values?.length||0,m?.values?.length||0);return p!==0?p:$N(f,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Co.mapValue&&l===Co.mapValue)return 0;if(a===Co.mapValue)return 1;if(l===Co.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const v=w1(d[p],m[p]);if(v!==0)return v;const _=zo(u[d[p]],f[m[p]]);if(_!==0)return _}return Le(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function FN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=fs(t),r=fs(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function $N(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=zo(n[i],r[i]);if(a)return a}return Le(n.length,r.length)}function Xc(t){return I1(t)}function I1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return hs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=I1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${I1(n.fields[l])}`;return i+"}"})(t.mapValue):Te(61005,{value:t})}function ny(t){switch(Bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qv(t);return e?16+ny(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ny(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Wo(r.fields,((a,l)=>{i+=a.length+ny(l)})),i})(t.mapValue);default:throw Te(13486,{value:t})}}function Nh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O1(t){return!!t&&"integerValue"in t}function Ph(t){return!!t&&"arrayValue"in t}function HN(t){return!!t&&"nullValue"in t}function KN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ry(t){return!!t&&"mapValue"in t}function Xv(t){return(t?.mapValue?.fields||{})[TS]?.stringValue===CS}function mh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return{...t}}function t4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e4}const n4={mapValue:{fields:{[TS]:{stringValue:CS},[Qc]:{arrayValue:{}}}}};function FK(t){return"nullValue"in t?ty:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nh(ru.empty(),we.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Xv(t)?n4:{mapValue:{}}:Te(35942,{value:t})}function $K(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nh(ru.empty(),we.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?n4:"mapValue"in t?Xv(t)?{mapValue:{}}:Co:Te(61959,{value:t})}function GN(t,e){const n=zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WN(t,e){const n=zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ry(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=mh(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ry(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ry(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new tr(mh(this.value))}}function r4(t){const e=[];return Wo(t.fields,((n,r)=>{const i=new Bt([n]);if(ry(r)){const a=r4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new wr(e)}class Gt{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Gt(e,0,je.min(),je.min(),je.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,je.min(),je.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,je.min(),je.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,n){this.position=e,this.inclusive=n}}function YN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),n.key):r=zo(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function QN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ea(t.position[n],e.position[n]))return!1;return!0}class Ny{constructor(e,n="asc"){this.field=e,this.dir=n}}function HK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class i4{}class Ze extends i4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KK(e,n,r):n==="array-contains"?new YK(e,r):n==="in"?new c4(e,r):n==="not-in"?new QK(e,r):n==="array-contains-any"?new XK(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GK(e,r):new WK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pt extends i4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pt(e,n)}matches(e){return Jc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jc(t){return t.op==="and"}function N1(t){return t.op==="or"}function IS(t){return a4(t)&&Jc(t)}function a4(t){for(const e of t.filters)if(e instanceof pt)return!1;return!0}function P1(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Xc(t.value);if(IS(t))return t.filters.map((e=>P1(e))).join(",");{const e=t.filters.map((n=>P1(n))).join(",");return`${t.op}(${e})`}}function s4(t,e){return t instanceof Ze?(function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Ea(r.value,i.value)})(t,e):t instanceof pt?(function(r,i){return i instanceof pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&s4(l,i.filters[u])),!0):!1})(t,e):void Te(19439)}function o4(t,e){const n=t.filters.concat(e);return pt.create(n,t.op)}function l4(t){return t instanceof Ze?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`})(t):t instanceof pt?(function(n){return n.op.toString()+" {"+n.getFilters().map(l4).join(" ,")+"}"})(t):"Filter"}class KK extends Ze{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class GK extends Ze{constructor(e,n){super(e,"in",n),this.keys=u4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WK extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=u4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u4(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class YK extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ph(n)&&Oh(n.arrayValue,this.value)}}class c4 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oh(this.value.arrayValue,n)}}class QK extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oh(this.value.arrayValue,n)}}class XK extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Oh(this.value.arrayValue,r)))}}class ZK{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function j1(t,e=null,n=[],r=[],i=null,a=null,l=null){return new ZK(t,e,n,r,i,a,l)}function iu(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>P1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Xc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Xc(r))).join(",")),e.Te=n}return e.Te}function lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QN(t.startAt,e.startAt)&&QN(t.endAt,e.endAt)}function Py(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function jy(t,e){return t.filters.filter((n=>n instanceof Ze&&n.field.isEqual(e)))}function XN(t,e,n){let r=ty,i=!0;for(const a of jy(t,e)){let l=ty,u=!0;switch(a.op){case"<":case"<=":l=FK(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,u=!1;break;case"!=":case"not-in":l=ty}GN({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];GN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZN(t,e,n){let r=Co,i=!0;for(const a of jy(t,e)){let l=Co,u=!0;switch(a.op){case">=":case">":l=$K(a.value),u=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,u=!1;break;case"!=":case"not-in":l=Co}WN({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];WN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class um{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JK(t,e,n,r,i,a,l,u){return new um(t,e,n,r,i,a,l,u)}function Zv(t){return new um(t)}function JN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eG(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function d4(t){return t.collectionGroup!==null}function ph(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new gt(Bt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ny(a,r))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Ny(Bt.keyField(),r))}return e.Ie}function hi(t){const e=Ve(t);return e.Ee||(e.Ee=tG(e,ph(t))),e.Ee}function tG(t,e){if(t.limitType==="F")return j1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ny(i.field,a)}));const n=t.endAt?new Zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zc(t.startAt.position,t.startAt.inclusive):null;return j1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function R1(t,e){const n=t.filters.concat([e]);return new um(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D1(t,e,n){return new um(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jv(t,e){return lm(hi(t),hi(e))&&t.limitType===e.limitType}function f4(t){return`${iu(hi(t))}|lt:${t.limitType}`}function Tc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>l4(i))).join(", ")}]`),Kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Xc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Xc(i))).join(",")),`Target(${r})`})(hi(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of ph(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const f=YN(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,ph(r),i)||r.endAt&&!(function(l,u,d){const f=YN(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,ph(r),i))})(t,e)}function nG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h4(t){return(e,n)=>{let r=!1;for(const i of ph(t)){const a=rG(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function rG(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?zo(d,f):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return W5(this.inner)}size(){return this.innerSize}}const iG=new Lt(we.comparator);function Br(){return iG}const m4=new Lt(we.comparator);function eh(...t){let e=m4;for(const n of t)e=e.insert(n.key,n);return e}function p4(t){let e=m4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ga(){return gh()}function g4(){return gh()}function gh(){return new Es((t=>t.toString()),((t,e)=>t.isEqual(e)))}const aG=new Lt(we.comparator),sG=new gt(we.comparator);function He(...t){let e=sG;for(const n of t)e=e.add(n);return e}const oG=new gt(Le);function lG(){return oG}function OS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function y4(t){return{integerValue:""+t}}function uG(t,e){return hK(e)?y4(e):OS(t,e)}class e0{constructor(){this._=void 0}}function cG(t,e,n){return t instanceof jh?(function(i,a){const l={fields:{[X5]:{stringValue:Q5},[J5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&AS(a)&&(a=Qv(a)),a&&(l.fields[Z5]=a),{mapValue:l}})(n,e):t instanceof ed?b4(t,e):t instanceof td?x4(t,e):(function(i,a){const l=v4(i,a),u=eP(l)+eP(i.Ae);return O1(l)&&O1(i.Ae)?y4(u):OS(i.serializer,u)})(t,e)}function dG(t,e,n){return t instanceof ed?b4(t,e):t instanceof td?x4(t,e):n}function v4(t,e){return t instanceof Rh?(function(r){return O1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class jh extends e0{}class ed extends e0{constructor(e){super(),this.elements=e}}function b4(t,e){const n=_4(e);for(const r of t.elements)n.some((i=>Ea(i,r)))||n.push(r);return{arrayValue:{values:n}}}class td extends e0{constructor(e){super(),this.elements=e}}function x4(t,e){let n=_4(e);for(const r of t.elements)n=n.filter((i=>!Ea(i,r)));return{arrayValue:{values:n}}}class Rh extends e0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eP(t){return Rt(t.integerValue||t.doubleValue)}function _4(t){return Ph(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fG{constructor(e,n){this.field=e,this.transform=n}}function hG(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ed&&i instanceof ed||r instanceof td&&i instanceof td?Hc(r.elements,i.elements,Ea):r instanceof Rh&&i instanceof Rh?Ea(r.Ae,i.Ae):r instanceof jh&&i instanceof jh})(t.transform,e.transform)}class mG{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class t0{}function w4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n0(t.key,cr.none()):new bd(t.key,t.data,cr.none());{const n=t.data,r=tr.empty();let i=new gt(Bt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ss(t.key,r,new wr(i.toArray()),cr.none())}}function pG(t,e,n){t instanceof bd?(function(i,a,l){const u=i.value.clone(),d=nP(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Ss?(function(i,a,l){if(!iy(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=nP(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(E4(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function yh(t,e,n,r){return t instanceof bd?(function(a,l,u,d){if(!iy(a.precondition,l))return u;const f=a.value.clone(),m=rP(a.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ss?(function(a,l,u,d){if(!iy(a.precondition,l))return u;const f=rP(a.fieldTransforms,d,l),m=l.data;return m.setAll(E4(a)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,u){return iy(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function gG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=v4(r.transform,i||null);a!=null&&(n===null&&(n=tr.empty()),n.set(r.field,a))}return n||null}function tP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hc(r,i,((a,l)=>hG(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bd extends t0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends t0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function E4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nP(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,dG(l,u,n[i]))}return r}function rP(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,cG(a,l,e))}return r}class n0 extends t0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S4 extends t0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&pG(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g4();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const d=w4(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,((n,r)=>tP(n,r)))&&Hc(this.baseMutations,e.baseMutations,((n,r)=>tP(n,r)))}}class PS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return aG})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new PS(e,n,r,i)}}class jS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yG{constructor(e,n){this.count=e,this.unchangedNames=n}}var dn,tt;function vG(t){switch(t){case le.OK:return Te(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function A4(t){if(t===void 0)return ur("GRPC error has no .code"),le.UNKNOWN;switch(t){case dn.OK:return le.OK;case dn.CANCELLED:return le.CANCELLED;case dn.UNKNOWN:return le.UNKNOWN;case dn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case dn.INTERNAL:return le.INTERNAL;case dn.UNAVAILABLE:return le.UNAVAILABLE;case dn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case dn.NOT_FOUND:return le.NOT_FOUND;case dn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case dn.ABORTED:return le.ABORTED;case dn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case dn.DATA_LOSS:return le.DATA_LOSS;default:return Te(39323,{code:t})}}(tt=dn||(dn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function bG(){return new TextEncoder}const xG=new jo([4294967295,4294967295],0);function iP(t){const e=bG().encode(t),n=new E5;return n.update(e),new Uint8Array(n.digest())}function aP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jo([n,r],0),new jo([i,a],0)]}class RS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new th(`Invalid padding: ${n}`);if(r<0)throw new th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new th(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new th(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(jo.fromNumber(r)));return i.compare(xG)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iP(e),[r,i]=aP(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new RS(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=iP(e),[r,i]=aP(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class r0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new r0(je.min(),i,new Lt(Le),Br(),He())}}class dm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dm(r,n,He(),He(),He())}}class ay{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class T4{constructor(e,n){this.targetId=e,this.Ce=n}}class C4{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sP{constructor(){this.ve=0,this.Fe=oP(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:a})}})),new dm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=oP()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _G{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.He=_g(),this.Je=_g(),this.Ze=new Lt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Py(a))if(r===0){const l=new we(a.path);this.et(n,l,Gt.newNoDocument(l,je.min()))}else Oe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=hs(r).toUint8Array()}catch(d){if(d instanceof Y5)return Vo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new RS(l,i,a)}catch(d){return Vo(d instanceof th?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Py(u.target)){const d=new we(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Gt.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=He();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new r0(e,n,this.Ze,this.je,r);return this.je=Br(),this.He=_g(),this.Je=_g(),this.Ze=new Lt(Le),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new sP,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new gt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new gt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _g(){return new Lt(we.comparator)}function oP(){return new Lt(we.comparator)}const wG={asc:"ASCENDING",desc:"DESCENDING"},EG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SG={and:"AND",or:"OR"};class AG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k1(t,e){return t.useProto3Json||Kv(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TG(t,e){return nd(t,e.toTimestamp())}function fr(t){return Oe(!!t,49232),je.fromTimestamp((function(n){const r=fs(n);return new mt(r.seconds,r.nanos)})(t))}function DS(t,e){return M1(t,e).canonicalString()}function M1(t,e){const n=(function(i){return new ut(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function O4(t){const e=ut.fromString(t);return Oe(V4(e),10190,{key:e.toString()}),e}function Ry(t,e){return DS(t.databaseId,e.path)}function Wl(t,e){const n=O4(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(j4(n))}function N4(t,e){return DS(t.databaseId,e)}function P4(t){const e=O4(t);return e.length===4?ut.emptyPath():j4(e)}function L1(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j4(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lP(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function CG(t,e,n){const r=Wl(t,e.name),i=fr(e.updateTime),a=e.createTime?fr(e.createTime):je.min(),l=new tr({mapValue:{fields:e.fields}}),u=Gt.newFoundDocument(r,i,a,l);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function IG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(Oe(m===void 0||typeof m=="string",58123),yn.fromBase64String(m||"")):(Oe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const m=f.code===void 0?le.UNKNOWN:A4(f.code);return new xe(m,f.message||"")})(l);n=new C4(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wl(t,r.document.name),a=fr(r.document.updateTime),l=r.document.createTime?fr(r.document.createTime):je.min(),u=new tr({mapValue:{fields:r.document.fields}}),d=Gt.newFoundDocument(i,a,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new ay(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wl(t,r.document),a=r.readTime?fr(r.readTime):je.min(),l=Gt.newNoDocument(i,a),u=r.removedTargetIds||[];n=new ay([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wl(t,r.document),a=r.removedTargetIds||[];n=new ay([],a,i,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new yG(i,a),u=r.targetId;n=new T4(u,l)}}return n}function Dy(t,e){let n;if(e instanceof bd)n={update:lP(t,e.key,e.value)};else if(e instanceof n0)n={delete:Ry(t,e.key)};else if(e instanceof Ss)n={update:lP(t,e.key,e.data),updateMask:DG(e.fieldMask)};else{if(!(e instanceof S4))return Te(16599,{dt:e.type});n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof jh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ed)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof td)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Te(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:TG(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(t,e.precondition)),n}function V1(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?cr.updateTime(fr(a.updateTime)):a.exists!==void 0?cr.exists(a.exists):cr.none()})(e.currentDocument):cr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let d=null;if("setToServerValue"in u)Oe(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new jh;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new ed(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new td(m)}else"increment"in u?d=new Rh(l,u.increment):Te(16584,{proto:u});const f=Bt.fromServerFormat(u.fieldPath);return new fG(f,d)})(t,i))):[];if(e.update){e.update.name;const i=Wl(t,e.update.name),a=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new wr(f.map((m=>Bt.fromServerFormat(m))))})(e.updateMask);return new Ss(i,a,l,n,r)}return new bd(i,a,n,r)}if(e.delete){const i=Wl(t,e.delete);return new n0(i,n)}if(e.verify){const i=Wl(t,e.verify);return new S4(i,n)}return Te(1463,{proto:e})}function OG(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?fr(i.updateTime):fr(a);return l.isEqual(je.min())&&(l=fr(a)),new mG(l,i.transformResults||[])})(n,e)))):[]}function R4(t,e){return{documents:[N4(t,e.path)]}}function D4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N4(t,i);const a=(function(f){if(f.length!==0)return L4(pt.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Cc(v.field),direction:PG(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=k1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function k4(t){let e=P4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const v=M4(p);return v instanceof pt&&IS(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(E){return new Ny(Ic(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,Kv(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(p){const v=!!p.before,_=p.values||[];return new Zc(_,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,_=p.values||[];return new Zc(_,v)})(n.endAt)),JK(e,i,l,a,u,"F",d,f)}function NG(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ic(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ic(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ic(n.unaryFilter.field);return Ze.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ic(n.unaryFilter.field);return Ze.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ze.create(Ic(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return pt.create(n.compositeFilter.filters.map((r=>M4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function PG(t){return wG[t]}function jG(t){return EG[t]}function RG(t){return SG[t]}function Cc(t){return{fieldPath:t.canonicalString()}}function Ic(t){return Bt.fromServerFormat(t.fieldPath)}function L4(t){return t instanceof Ze?(function(n){if(n.op==="=="){if(KN(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NAN"}};if(HN(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KN(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NAN"}};if(HN(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(n.field),op:jG(n.op),value:n.value}}})(t):t instanceof pt?(function(n){const r=n.getFilters().map((i=>L4(i)));return r.length===1?r[0]:{compositeFilter:{op:RG(n.op),filters:r}}})(t):Te(54877,{filter:t})}function DG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function V4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function B4(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ns{constructor(e,n,r,i,a=je.min(),l=je.min(),u=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class z4{constructor(e){this.yt=e}}function kG(t,e){let n;if(e.document)n=CG(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),i=su(e.noDocument.readTime);n=Gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=we.fromSegments(e.unknownDocument.path),i=su(e.unknownDocument.version);n=Gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new mt(i[0],i[1]);return je.fromTimestamp(a)})(e.readTime)),n}function uP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:Ry(a,l.key),fields:l.data.value.mapValue.fields,updateTime:nd(a,l.version.toTimestamp()),createTime:nd(a,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:au(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:au(e.version)}}return r}function ky(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function au(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function su(t){const e=new mt(t.seconds,t.nanoseconds);return je.fromTimestamp(e)}function Ml(t,e){const n=(e.baseMutations||[]).map((a=>V1(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const u=e.mutations[a+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>V1(t.yt,a))),i=mt.fromMillis(e.localWriteTimeMs);return new NS(e.batchId,i,n,r)}function nh(t){const e=su(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?su(t.lastLimboFreeSnapshotVersion):je.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const l=a.documents.length;return Oe(l===1,1966,{count:l}),hi(Zv(P4(a.documents[0])))})(t.query):(function(a){return hi(k4(a))})(t.query),new ns(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yn.fromBase64String(t.resumeToken))}function U4(t,e){const n=au(e.snapshotVersion),r=au(e.lastLimboFreeSnapshotVersion);let i;i=Py(e.target)?R4(t.yt,e.target):D4(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:iu(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function q4(t){const e=k4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D1(e,e.limit,"L"):e}function b_(t,e){return new jS(e.largestBatchId,V1(t.yt,e.overlayMutation))}function cP(t,e){const n=e.path.lastSegment();return[t,nr(e.path.popLast()),n]}function dP(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:au(r.readTime),documentKey:nr(r.documentKey.path),largestBatchId:r.largestBatchId}}class MG{getBundleMetadata(e,n){return fP(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:su(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return fP(e).put((function(i){return{bundleId:i.id,createTime:au(fr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return hP(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:q4(a.bundledQuery),readTime:su(a.readTime)}})(r)}))}saveNamedQuery(e,n){return hP(e).put((function(i){return{name:i.name,readTime:au(fr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function fP(t){return Sn(t,Gv)}function hP(t){return Sn(t,Wv)}class i0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new i0(e,r)}getOverlay(e,n){return Lf(e).get(cP(this.userId,n)).next((r=>r?b_(this.serializer,r):null))}getOverlays(e,n){const r=ga();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,l)=>{const u=new jS(n,l);i.push(this.bt(e,u))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(nr(l.getCollectionPath()))));const a=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Lf(e).X(T1,u))})),Y.waitFor(a)}getOverlaysForCollection(e,n,r){const i=ga(),a=nr(n),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Lf(e).H(T1,l).next((u=>{for(const d of u){const f=b_(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=ga();let l;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Lf(e).ee({index:F5,range:u},((d,f,m)=>{const p=b_(this.serializer,f);a.size()<i||p.largestBatchId===l?(a.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>a))}bt(e,n){return Lf(e).put((function(i,a,l){const[u,d,f]=cP(a,l.mutation.key);return{userId:a,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Dy(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function Lf(t){return Sn(t,Yv)}class LG{St(e){return Sn(e,ES)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?yn.fromUint8Array(r):yn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ll{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Sh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=fs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(hs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?t4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Xv(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Te(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Qc,a=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Rt(a)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),we.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ll.Wt=new Ll;const yc=255;function VG(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function mP(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const l=VG(255&r[a]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class BG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=mP(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=mP(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(yc),this.sn(255)}_n(){this.an(yc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===yc?(this.sn(yc),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===yc?(this.an(yc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zG{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class UG{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Vf{constructor(){this.cn=new BG,this.ascending=new zG(this.cn),this.descending=new UG(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Vl{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new Vl(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:sy(this.Tn),directionalValue:sy(this.In),orderedDocumentKey:sy(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function po(t,e){let n=t.hn-e.hn;return n!==0?n:(n=pP(t.Tn,e.Tn),n!==0?n:(n=pP(t.In,e.In),n!==0?n:we.comparator(t.Pn,e.Pn)))}function pP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function sy(t){return B3()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function gP(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class yP{constructor(e){this.Vn=new gt(((n,r)=>Bt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Oe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=E1(e);if(n!==void 0&&!this.pn(n))return!1;const r=Nl(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.pn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const u=this.Vn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[a];if(!this.yn(u,d)||!this.wn(this.dn[l++],d))return!1}++a}for(;a<r.length;++a){const u=r[a];if(l>=this.dn.length||!this.wn(this.dn[l++],u))return!1}return!0}bn(){if(this.fn)return null;let e=new gt(Bt.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Zg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Zg(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Zg(r.field,r.dir==="asc"?0:1)));return new Ay(Ay.UNKNOWN_ID,this.collectionId,n,Eh.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function F4(t){if(Oe(t instanceof Ze||t instanceof pt,20012),t instanceof Ze){if(t instanceof c4){const n=t.value.arrayValue?.values?.map((r=>Ze.create(t.field,"==",r)))||[];return pt.create(n,"or")}return t}const e=t.filters.map((n=>F4(n)));return pt.create(e,t.op)}function qG(t){if(t.getFilters().length===0)return[];const e=U1(F4(t));return Oe($4(e),7391),B1(e)||z1(e)?[e]:e.getFilters()}function B1(t){return t instanceof Ze}function z1(t){return t instanceof pt&&IS(t)}function $4(t){return B1(t)||z1(t)||(function(n){if(n instanceof pt&&N1(n)){for(const r of n.getFilters())if(!B1(r)&&!z1(r))return!1;return!0}return!1})(t)}function U1(t){if(Oe(t instanceof Ze||t instanceof pt,34018),t instanceof Ze)return t;if(t.filters.length===1)return U1(t.filters[0]);const e=t.filters.map((r=>U1(r)));let n=pt.create(e,t.op);return n=My(n),$4(n)?n:(Oe(n instanceof pt,64498),Oe(Jc(n),40251),Oe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>kS(r,i))))}function kS(t,e){let n;return Oe(t instanceof Ze||t instanceof pt,38388),Oe(e instanceof Ze||e instanceof pt,25473),n=t instanceof Ze?e instanceof Ze?(function(i,a){return pt.create([i,a],"and")})(t,e):vP(t,e):e instanceof Ze?vP(e,t):(function(i,a){if(Oe(i.filters.length>0&&a.filters.length>0,48005),Jc(i)&&Jc(a))return o4(i,a.getFilters());const l=N1(i)?i:a,u=N1(i)?a:i,d=l.filters.map((f=>kS(f,u)));return pt.create(d,"or")})(t,e),My(n)}function vP(t,e){if(Jc(e))return o4(e,t.getFilters());{const n=e.filters.map((r=>kS(t,r)));return pt.create(n,"or")}}function My(t){if(Oe(t instanceof Ze||t instanceof pt,11850),t instanceof Ze)return t;const e=t.getFilters();if(e.length===1)return My(e[0]);if(a4(t))return t;const n=e.map((i=>My(i))),r=[];return n.forEach((i=>{i instanceof Ze?r.push(i):i instanceof pt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:pt.create(r,t.op)}class FG{constructor(){this.Sn=new MS}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(qr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class MS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(ut.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(ut.comparator)).toArray()}}const bP="IndexedDbIndexManager",wg=new Uint8Array(0);class $G{constructor(e,n){this.databaseId=n,this.Dn=new MS,this.Cn=new Es((r=>iu(r)),((r,i)=>lm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const a={collectionId:r,parent:nr(i)};return xP(e).put(a)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[P5(n),""],!1,!0);return xP(e).H(i).next((a=>{for(const l of a){if(l.collectionId!==n)break;r.push(pa(l.parent))}return r}))}addFieldIndex(e,n){const r=Bf(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const l=bc(e);return a.next((u=>{l.put(dP(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=Bf(e),i=bc(e),a=vc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Bf(e),r=vc(e),i=bc(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return Y.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new yP(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=vc(e);let i=!0;const a=new Map;return Y.forEach(this.vn(n),(l=>this.Fn(e,l).next((u=>{i&&(i=!!u),a.set(l,u)})))).next((()=>{if(i){let l=He();const u=[];return Y.forEach(a,((d,f)=>{me(bP,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(d)} to execute ${iu(n)}`);const m=(function(j,D){const V=E1(D);if(V===void 0)return null;for(const M of jy(j,V.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null})(f,d),p=(function(j,D){const V=new Map;for(const M of Nl(D))for(const P of jy(j,M.fieldPath))switch(P.op){case"==":case"in":V.set(M.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return V.set(M.fieldPath.canonicalString(),P.value),Array.from(V.values())}return null})(f,d),v=(function(j,D){const V=[];let M=!0;for(const P of Nl(D)){const R=P.kind===0?XN(j,P.fieldPath,j.startAt):ZN(j,P.fieldPath,j.startAt);V.push(R.value),M&&(M=R.inclusive)}return new Zc(V,M)})(f,d),_=(function(j,D){const V=[];let M=!0;for(const P of Nl(D)){const R=P.kind===0?ZN(j,P.fieldPath,j.endAt):XN(j,P.fieldPath,j.endAt);V.push(R.value),M&&(M=R.inclusive)}return new Zc(V,M)})(f,d),E=this.Mn(d,f,v),S=this.Mn(d,f,_),A=this.xn(d,f,p),C=this.On(d.indexId,m,E,v.inclusive,S,_.inclusive,A);return Y.forEach(C,(N=>r.Z(N,n.limit).next((j=>{j.forEach((D=>{const V=we.fromSegments(D.documentKey);l.has(V)||(l=l.add(V),u.push(V))}))}))))})).next((()=>u))}return Y.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=qG(pt.create(e.filters,"and")).map((r=>j1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,a,l,u){const d=(n!=null?n.length:1)*Math.max(r.length,a.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const v=n?this.Nn(n[p/f]):wg,_=this.Bn(e,v,r[p%f],i),E=this.Ln(e,v,a[p%f],l),S=u.map((A=>this.Bn(e,v,A,!0)));m.push(...this.createRange(_,E,S))}return m}Bn(e,n,r,i){const a=new Vl(e,we.empty(),n,r);return i?a:a.En()}Ln(e,n,r,i){const a=new Vl(e,we.empty(),n,r);return i?a.En():a}Fn(e,n){const r=new yP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let l=null;for(const u of a)r.gn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,n){let r=2;const i=this.vn(n);return Y.forEach(i,(a=>this.Fn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new gt(Bt.comparator),m=!1;for(const p of d.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:f=f.add(v.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new Vf;for(const i of Nl(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const l=r.ln(i.kind);Ll.Wt.Dt(a,l)}return r.un()}Nn(e){const n=new Vf;return Ll.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Vf;return Ll.Wt.Dt(Nh(this.databaseId,n),r.ln((function(a){const l=Nl(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Vf);let a=0;for(const l of Nl(e)){const u=r[a++];for(const d of i)if(this.qn(n,l.fieldPath)&&Ph(u))i=this.Un(i,l,u);else{const f=d.ln(l.kind);Ll.Wt.Dt(u,f)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Vf;d.seed(u.un()),Ll.Wt.Dt(l,d.ln(n.kind)),a.push(d)}return a}qn(e,n){return!!e.filters.find((r=>r instanceof Ze&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Bf(e),i=bc(e);return(n?r.H(A1,IDBKeyRange.bound(n,n)):r.H()).next((a=>{const l=[];return Y.forEach(a,(u=>i.get([u.indexId,this.uid]).next((d=>{l.push((function(m,p){const v=p?new Eh(p.sequenceNumber,new qr(su(p.readTime),new we(pa(p.documentKey)),p.largestBatchId)):Eh.empty(),_=m.fields.map((([E,S])=>new Zg(Bt.fromServerFormat(E),S)));return new Ay(m.indexId,m.collectionGroup,_,v)})(u,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Le(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Bf(e),a=bc(e);return this.Wn(e).next((l=>i.H(A1,IDBKeyRange.bound(n,n)).next((u=>Y.forEach(u,(d=>a.put(dP(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,a)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Y.forEach(u,(d=>this.Qn(e,i,d).next((f=>{const m=this.Gn(a,d);return f.isEqual(m)?Y.resolve():this.zn(e,a,d,f,m)})))))))}))}jn(e,n,r,i){return vc(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return vc(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=vc(e);let a=new gt(po);return i.ee({index:q5,range:IDBKeyRange.only([r.indexId,this.uid,sy(this.Kn(r,n))])},((l,u)=>{a=a.add(new Vl(r.indexId,n,gP(u.arrayValue),gP(u.directionalValue)))})).next((()=>a))}Gn(e,n){let r=new gt(po);const i=this.kn(n,e);if(i==null)return r;const a=E1(n);if(a!=null){const l=e.data.field(a.fieldPath);if(Ph(l))for(const u of l.arrayValue.values||[])r=r.add(new Vl(n.indexId,e.key,this.Nn(u),i))}else r=r.add(new Vl(n.indexId,e.key,wg,i));return r}zn(e,n,r,i,a){me(bP,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,v){const _=d.getIterator(),E=f.getIterator();let S=gc(_),A=gc(E);for(;S||A;){let C=!1,N=!1;if(S&&A){const j=m(S,A);j<0?N=!0:j>0&&(C=!0)}else S!=null?N=!0:C=!0;C?(p(A),A=gc(E)):N?(v(S),S=gc(_)):(S=gc(_),A=gc(E))}})(i,a,po,(u=>{l.push(this.jn(e,n,r,u))}),(u=>{l.push(this.Hn(e,n,r,u))})),Y.waitFor(l)}Wn(e){let n=1;return bc(e).ee({index:U5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,u)=>po(l,u))).filter(((l,u,d)=>!u||po(l,d[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=po(l,e),d=po(l,n);if(u===0)i[0]=e.En();else if(u>0&&d<0)i.push(l),i.push(l.En());else if(d>0)break}i.push(n);const a=[];for(let l=0;l<i.length;l+=2){if(this.Jn(i[l],i[l+1]))return[];const u=i[l].An(this.uid,wg,we.empty()),d=i[l+1].An(this.uid,wg,we.empty());a.push(IDBKeyRange.bound(u,d))}return a}Jn(e,n){return po(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(_P)}getMinOffset(e,n){return Y.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Te(44426))))).next(_P)}}function xP(t){return Sn(t,Ch)}function vc(t){return Sn(t,hh)}function Bf(t){return Sn(t,wS)}function bc(t){return Sn(t,fh)}function _P(t){Oe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;bS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qr(e.readTime,e.documentKey,n)}const wP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H4=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function K4(t,e,n){const r=t.store(Ni),i=t.store(Kc),a=[],l=IDBKeyRange.only(n.batchId);let u=0;const d=r.ee({range:l},((m,p,v)=>(u++,v.delete())));a.push(d.next((()=>{Oe(u===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=V5(e,m.key.path,n.batchId);a.push(i.delete(p)),f.push(m.key)}return Y.waitFor(a).next((()=>f))}function Ly(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te(14731);e=t.noDocument}return JSON.stringify(e).length}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(H4,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class a0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Oe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new a0(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return go(e).ee({index:zl,range:r},((i,a,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Oc(e),l=go(e);return l.add({}).next((u=>{Oe(typeof u=="number",49019);const d=new NS(u,n,r,i),f=(function(_,E,S){const A=S.baseMutations.map((N=>Dy(_.yt,N))),C=S.mutations.map((N=>Dy(_.yt,N)));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:A,mutations:C}})(this.serializer,this.userId,d),m=[];let p=new gt(((v,_)=>Le(v.canonicalString(),_.canonicalString())));for(const v of i){const _=V5(this.userId,v.key.path,u);p=p.add(v.key.path.popLast()),m.push(l.put(f)),m.push(a.put(_,gK))}return p.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[u]=d.keys()})),Y.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return go(e).get(n).next((r=>r?(Oe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ml(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?Y.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return go(e).ee({index:zl,range:i},((l,u,d)=>{u.userId===this.userId&&(Oe(u.batchId>=r,47524,{Yn:r}),a=Ml(this.serializer,u)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Kl;return go(e).ee({index:zl,range:n,reverse:!0},((i,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Kl],[this.userId,Number.POSITIVE_INFINITY]);return go(e).H(zl,n).next((r=>r.map((i=>Ml(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Jg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Oc(e).ee({range:i},((l,u,d)=>{const[f,m,p]=l,v=pa(m);if(f===this.userId&&n.path.isEqual(v))return go(e).get(p).next((_=>{if(!_)throw Te(61480,{er:l,batchId:p});Oe(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:p}),a.push(Ml(this.serializer,_))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Le);const i=[];return n.forEach((a=>{const l=Jg(this.userId,a.path),u=IDBKeyRange.lowerBound(l),d=Oc(e).ee({range:u},((f,m,p)=>{const[v,_,E]=f,S=pa(_);v===this.userId&&a.path.isEqual(S)?r=r.add(E):p.done()}));i.push(d)})),Y.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Jg(this.userId,r),l=IDBKeyRange.lowerBound(a);let u=new gt(Le);return Oc(e).ee({range:l},((d,f,m)=>{const[p,v,_]=d,E=pa(v);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(u=u.add(_)):m.done()})).next((()=>this.tr(e,u)))}tr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(go(e).get(a).next((l=>{if(l===null)throw Te(35274,{batchId:a});Oe(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(Ml(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return K4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Oc(e).ee({range:r},((a,l,u)=>{if(a[0]===this.userId){const d=pa(a[1]);i.push(d)}else u.done()})).next((()=>{Oe(i.length===0,56720,{rr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return G4(e,this.userId,n)}ir(e){return W4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Kl,lastStreamToken:""}))}}function G4(t,e,n){const r=Jg(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Oc(t).ee({range:a,Y:!0},((u,d,f)=>{const[m,p,v]=u;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function go(t){return Sn(t,Ni)}function Oc(t){return Sn(t,Kc)}function W4(t){return Sn(t,Ah)}class ou{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ou(0)}static ar(){return new ou(-1)}}class HG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new ou(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>je.fromTimestamp(new mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>xc(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Oe(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return xc(e).ee(((l,u)=>{const d=nh(u);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>Y.waitFor(a))).next((()=>i))}forEachTarget(e,n){return xc(e).ee(((r,i)=>{const a=nh(i);n(a)}))}ur(e){return EP(e).get(Iy).next((n=>(Oe(n!==null,2888),n)))}cr(e,n){return EP(e).put(Iy,n)}lr(e,n){return xc(e).put(U4(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=iu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return xc(e).ee({range:i,index:z5},((l,u,d)=>{const f=nh(u);lm(n,f.target)&&(a=f,d.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=Ao(e);return n.forEach((l=>{const u=nr(l.path);i.push(a.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ao(e);return Y.forEach(n,(a=>{const l=nr(a.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=Ao(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ao(e);let a=He();return i.ee({range:r,Y:!0},((l,u,d)=>{const f=pa(l[1]),m=new we(f);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=nr(n.path),i=IDBKeyRange.bound([r],[P5(r)],!1,!0);let a=0;return Ao(e).ee({index:_S,Y:!0,range:i},(([l,u],d,f)=>{l!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return xc(e).get(n).next((r=>r?nh(r):null))}}function xc(t){return Sn(t,Gc)}function EP(t){return Sn(t,Gl)}function Ao(t){return Sn(t,Wc)}const SP="LruGarbageCollector",KG=1048576;function AP([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class GG{constructor(e){this.Pr=e,this.buffer=new gt(AP),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(SP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?me(SP,"Ignoring IndexedDB error during garbage collection: ",n):await bu(n)}await this.Ar(3e5)}))}}class WG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(di.ce);const r=new GG(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(wP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wP):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Ac()<=Xe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Q4(t,e){return new WG(t,e)}class YG{constructor(e,n){this.db=e,this.garbageCollector=Q4(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return Eg(e,r)}removeReference(e,n,r){return Eg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Eg(e,n)}wr(e,n){return(function(i,a){let l=!1;return W4(i).te((u=>G4(i,u,a).next((d=>(d&&(l=!0),Y.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.yr(e,((l,u)=>{if(u<=n){const d=this.wr(e,l).next((f=>{if(!f)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,je.min()),Ao(e).delete((function(p){return[0,nr(p.path)]})(l)))))}));i.push(d)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Eg(e,n)}yr(e,n){const r=Ao(e);let i,a=di.ce;return r.ee({index:_S},(([l,u],{path:d,sequenceNumber:f})=>{l===0?(a!==di.ce&&n(new we(pa(i)),a),a=f,i=d):a=di.ce})).next((()=>{a!==di.ce&&n(new we(pa(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eg(t,e){return Ao(t).put((function(r,i){return{targetId:0,path:nr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class X4{constructor(){this.changes=new Es((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Cl(e).put(r)}removeEntry(e,n,r){return Cl(e).delete((function(a,l){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ky(l),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return Cl(e).ee({index:ey,range:IDBKeyRange.only(zf(n))},((i,a)=>{r=this.Sr(n,a)})).next((()=>r))}Dr(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return Cl(e).ee({index:ey,range:IDBKeyRange.only(zf(n))},((i,a)=>{r={document:this.Sr(n,a),size:Ly(a)}})).next((()=>r))}getEntries(e,n){let r=Br();return this.Cr(e,n,((i,a)=>{const l=this.Sr(i,a);r=r.insert(i,l)})).next((()=>r))}vr(e,n){let r=Br(),i=new Lt(we.comparator);return this.Cr(e,n,((a,l)=>{const u=this.Sr(a,l);r=r.insert(a,u),i=i.insert(a,Ly(l))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new gt(IP);n.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(zf(i.first()),zf(i.last())),l=i.getIterator();let u=l.getNext();return Cl(e).ee({index:ey,range:a},((d,f,m)=>{const p=we.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&IP(u,p)<0;)r(u,null),u=l.getNext();u&&u.isEqual(p)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.j(zf(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const l=n.path,u=[l.popLast().toArray(),l.lastSegment(),ky(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cl(e).H(IDBKeyRange.bound(u,d,!0)).next((f=>{a?.incrementDocumentReadCount(f.length);let m=Br();for(const p of f){const v=this.Sr(we.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(cm(n,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=Br();const l=CP(n,r),u=CP(n,qr.max());return Cl(e).ee({index:B5,range:IDBKeyRange.bound(l,u,!0)},((d,f,m)=>{const p=this.Sr(we.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new XG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return TP(e).get(S1).next((n=>(Oe(!!n,20021),n)))}br(e,n){return TP(e).put(S1,n)}Sr(e,n){if(n){const r=kG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(je.min())))return r}return Gt.newInvalidDocument(e)}}function Z4(t){return new QG(t)}class XG extends X4{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Es((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new gt(((a,l)=>Le(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const u=this.Or.get(a);if(n.push(this.Mr.removeEntry(e,a,u.readTime)),l.isValidDocument()){const d=uP(this.Mr.serializer,l);i=i.add(a.path.popLast());const f=Ly(d);r+=f-u.size,n.push(this.Mr.addEntry(e,a,d))}else if(r-=u.size,this.trackRemovals){const d=uP(this.Mr.serializer,l.convertToNoDocument(je.min()));n.push(this.Mr.addEntry(e,a,d))}})),i.forEach((a=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Mr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((a,l)=>{this.Or.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function TP(t){return Sn(t,Th)}function Cl(t){return Sn(t,Cy)}function zf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function CP(t,e){const n=e.documentKey.path.toArray();return[t,ky(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function IP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Le(n[a],r[a]),i)return i;return i=Le(n.length,r.length),i||(i=Le(n[n.length-2],r[r.length-2]),i||Le(n[n.length-1],r[r.length-1]))}class ZG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class J4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&yh(r.mutation,i,wr.empty(),mt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const i=ga();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=eh();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Br();const l=gh(),u=(function(){return gh()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ss)?a=a.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),yh(m.mutation,f,m.mutation.getFieldMask(),mt.now())):l.set(f.key,wr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>u.set(f,new ZG(m,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=gh();let i=new Lt(((l,u)=>l-u)),a=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||wr.empty();m=u.applyToLocalView(f,m),r.set(d,m);const p=(i.get(u.batchId)||He()).add(d);i=i.insert(u.batchId,p)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,p=g4();m.forEach((v=>{if(!a.has(v)){const _=w4(n.get(v),r.get(v));_!==null&&p.set(v,_),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return eG(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(ga());let u=wh,d=a;return l.next((f=>Y.forEach(f,((m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,He()))).next((m=>({batchId:u,changes:p4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let i=eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=eh();return this.indexManager.getCollectionParents(e,a).next((u=>Y.forEach(u,(d=>{const f=(function(p,v){return new um(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Gt.newInvalidDocument(m)))}));let u=eh();return l.forEach(((d,f)=>{const m=a.get(d);m!==void 0&&yh(m.mutation,f,wr.empty(),mt.now()),cm(n,f)&&(u=u.insert(d,f))})),u}))}}class JG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:q4(i.bundledQuery),readTime:fr(i.readTime)}})(n)),Y.resolve()}}class eW{constructor(){this.overlays=new Lt(we.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=ga(),a=n.length+1,l=new we(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Lt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=ga(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=ga(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>u.set(f,m))),!(u.size()>=i)););return Y.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new jS(n,r));let a=this.Lr.get(n);a===void 0&&(a=He(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class tW{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}class LS{constructor(){this.kr=new gt(Rn.Kr),this.qr=new gt(Rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Rn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new we(new ut([])),r=new Rn(n,e),i=new Rn(n,e+1),a=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new we(new ut([])),r=new Rn(n,e),i=new Rn(n,e+1);let a=He();return this.qr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Rn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return we.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||we.comparator(e.key,n.key)}}class nW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new gt(Rn.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NS(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Jr=this.Jr.add(new Rn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Kl:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),i=new Rn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);a.push(u)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Le);return n.forEach((i=>{const a=new Rn(i,0),l=new Rn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(u=>{r=r.add(u.Hr)}))})),Y.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new Rn(new we(a),0);let u=new gt(Le);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Hr)),!0)}),l),Y.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Oe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Y.forEach(n.mutations,(i=>{const a=new Rn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Rn(n,0),i=this.Jr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rW{constructor(e){this.ti=e,this.docs=(function(){return new Lt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Gt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Br();const l=n.path,u=new we(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||bS(D5(m),r)<=0||(i.has(m.key)||cm(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ni(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iW(this)}getSize(e){return Y.resolve(this.size)}}class iW extends X4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class aW{constructor(e){this.persistence=e,this.ri=new Es((n=>iu(n)),lm),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new LS,this.targetCount=0,this.oi=ou._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ou(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}class VS{constructor(e,n){this._i={},this.overlays={},this.ai=new di(0),this.ui=!1,this.ui=!0,this.ci=new tW,this.referenceDelegate=e(this),this.li=new aW(this),this.indexManager=new FG,this.remoteDocumentCache=(function(i){return new rW(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new z4(n),this.Pi=new JG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new nW(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new sW(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return Y.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class sW extends M5{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Ri=new LS,this.Ai=null}static Vi(e){return new s0(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(r=>{const i=we.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,je.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vy{constructor(e,n){this.persistence=e,this.fi=new Es((r=>nr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Q4(this,n)}static Vi(e,n){return new Vy(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Y.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,a.removeEntry(l,je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ny(e.data.value)),n}wr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class oW{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Hv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(om)})(e),(function(d){d.createObjectStore(Ah,{keyPath:pK}),d.createObjectStore(Ni,{keyPath:BN,autoIncrement:!0}).createIndex(zl,zN,{unique:!0}),d.createObjectStore(Kc)})(e),OP(e),(function(d){d.createObjectStore(Pl)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(Wc),d.deleteObjectStore(Gc),d.deleteObjectStore(Gl)})(e),OP(e)),l=l.next((()=>(function(d){const f=d.store(Gl),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return f.put(Iy,m)})(a)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(Ni).H().next((p=>{d.deleteObjectStore(Ni),d.createObjectStore(Ni,{keyPath:BN,autoIncrement:!0}).createIndex(zl,zN,{unique:!0});const v=f.store(Ni),_=p.map((E=>v.put(E)));return Y.waitFor(_)}))})(e,a)))),l=l.next((()=>{(function(d){d.createObjectStore(Yc,{keyPath:SK})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.gi(a)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Th)})(e),this.pi(a))))),r<7&&i>=7&&(l=l.next((()=>this.yi(a)))),r<8&&i>=8&&(l=l.next((()=>this.wi(e,a)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.bi(a)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Gv,{keyPath:AK})})(e),(function(d){d.createObjectStore(Wv,{keyPath:TK})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(Yv,{keyPath:RK});f.createIndex(T1,DK,{unique:!1}),f.createIndex(F5,kK,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(Cy,{keyPath:yK});f.createIndex(ey,vK),f.createIndex(B5,bK)})(e))).next((()=>this.Si(e,a))).next((()=>e.deleteObjectStore(Pl)))),r<14&&i>=14&&(l=l.next((()=>this.Di(e,a)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(wS,{keyPath:CK,autoIncrement:!0}).createIndex(A1,IK,{unique:!1}),d.createObjectStore(fh,{keyPath:OK}).createIndex(U5,NK,{unique:!1}),d.createObjectStore(hh,{keyPath:PK}).createIndex(q5,jK,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(fh).clear()})).next((()=>{n.objectStore(hh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(ES,{keyPath:MK})})(e)}))),r<18&&i>=18&&B3()&&(l=l.next((()=>{n.objectStore(fh).clear()})).next((()=>{n.objectStore(hh).clear()}))),l}pi(e){let n=0;return e.store(Pl).ee(((r,i)=>{n+=Ly(i)})).next((()=>{const r={byteSize:n};return e.store(Th).put(S1,r)}))}gi(e){const n=e.store(Ah),r=e.store(Ni);return n.H().next((i=>Y.forEach(i,(a=>{const l=IDBKeyRange.bound([a.userId,Kl],[a.userId,a.lastAcknowledgedBatchId]);return r.H(zl,l).next((u=>Y.forEach(u,(d=>{Oe(d.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Ml(this.serializer,d);return K4(e,a.userId,f).next((()=>{}))}))))}))))}yi(e){const n=e.store(Wc),r=e.store(Pl);return e.store(Gl).get(Iy).next((i=>{const a=[];return r.ee(((l,u)=>{const d=new ut(l),f=(function(p){return[0,nr(p)]})(d);a.push(n.get(f).next((m=>m?Y.resolve():(p=>n.put({targetId:0,path:nr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Y.waitFor(a)))}))}wi(e,n){e.createObjectStore(Ch,{keyPath:EK});const r=n.store(Ch),i=new MS,a=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:nr(d)})}};return n.store(Pl).ee({Y:!0},((l,u)=>{const d=new ut(l);return a(d.popLast())})).next((()=>n.store(Kc).ee({Y:!0},(([l,u,d],f)=>{const m=pa(u);return a(m.popLast())}))))}bi(e){const n=e.store(Gc);return n.ee(((r,i)=>{const a=nh(i),l=U4(this.serializer,a);return n.put(l)}))}Si(e,n){const r=n.store(Pl),i=[];return r.ee(((a,l)=>{const u=n.store(Cy),d=(function(p){return p.document?new we(ut.fromString(p.document.name).popFirst(5)):p.noDocument?we.fromSegments(p.noDocument.path):p.unknownDocument?we.fromSegments(p.unknownDocument.path):Te(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))})).next((()=>Y.waitFor(i)))}Di(e,n){const r=n.store(Ni),i=Z4(this.serializer),a=new VS(s0.Vi,this.serializer.yt);return r.H().next((l=>{const u=new Map;return l.forEach((d=>{let f=u.get(d.userId)??He();Ml(this.serializer,d).keys().forEach((m=>f=f.add(m))),u.set(d.userId,f)})),Y.forEach(u,((d,f)=>{const m=new Wn(f),p=i0.wt(this.serializer,m),v=a.getIndexManager(m),_=a0.wt(m,this.serializer,v,a.referenceDelegate);return new J4(i,_,p,v).recalculateAndSaveOverlaysForDocumentKeys(new C1(n,di.ce),d).next()}))}))}}function OP(t){t.createObjectStore(Wc,{keyPath:_K}).createIndex(_S,wK,{unique:!0}),t.createObjectStore(Gc,{keyPath:"targetId"}).createIndex(z5,xK,{unique:!0}),t.createObjectStore(Gl)}const yo="IndexedDbPersistence",x_=18e5,__=5e3,w_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lW="main";class BS{constructor(e,n,r,i,a,l,u,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=a,this.window=l,this.document=u,this.Fi=f,this.Mi=m,this.xi=p,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!BS.v())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YG(this,i),this.Ki=n+lW,this.serializer=new z4(d),this.qi=new Do(this.Ki,this.xi,new oW(this.serializer)),this.ci=new LG,this.li=new HG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Z4(this.serializer),this.Pi=new MG,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,m===!1&&ur(yo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,w_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new di(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Sg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Go(e))return me(yo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(yo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Uf(e).get(pc).next((n=>Y.resolve(this.Xi(n))))}Yi(e){return Sg(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,x_)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Sn(n,Yc);return r.H().next((i=>{const a=this.ns(i,x_),l=i.filter((u=>a.indexOf(u)===-1));return Y.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Y.resolve(!0):Uf(e).get(pc).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,__)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,w_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sg(e).H().next((r=>this.ns(r,__).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(a||l&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&me(yo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[om,Yc],(e=>{const n=new C1(e,di.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Sg(e).H().next((n=>this.ns(n,x_).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return a0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $G(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return i0.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){me(yo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(d){return d===18?BK:d===17?G5:d===16?VK:d===15?SS:d===14?K5:d===13?H5:d===12?LK:d===11?$5:void Te(60245)})(this.xi);let l;return this.qi.runTransaction(e,i,a,(u=>(l=new C1(u,this.ai?this.ai.next():di.ce),n==="readwrite-primary"?this.ji(l).next((d=>!!d||this.Hi(l))).next((d=>{if(!d)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new xe(le.FAILED_PRECONDITION,k5);return r(l)})).next((d=>this.Zi(l).next((()=>d)))):this.Ps(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Ps(e){return Uf(e).get(pc).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,__)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,w_)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uf(e).put(pc,n)}static v(){return Do.v()}Ji(e){const n=Uf(e);return n.get(pc).next((r=>this.Xi(r)?(me(yo,"Releasing primary lease."),n.delete(pc)):Y.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ur(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;V3()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return me(yo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ur(yo,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uf(t){return Sn(t,om)}function Sg(t){return Sn(t,Yc)}function uW(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class zS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=He(),i=He();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zS(e,n.fromCache,r,i)}}class cW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return V3()?8:L5(En())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new cW;return this.ys(e,n,l).next((u=>{if(a.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ac()<=Xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ac()<=Xe.DEBUG&&me("QueryEngine","Query:",Tc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ac()<=Xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):Y.resolve())}gs(e,n){if(JN(n))return Y.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=D1(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=He(...a);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(n,u);return this.Ss(n,f,l,d.readTime)?this.gs(e,D1(n,null,"F")):this.Ds(e,f,n,d)}))))})))))}ps(e,n,r,i){return JN(n)||i.isEqual(je.min())?Y.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,i)?Y.resolve(null):(Ac()<=Xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tc(n)),this.Ds(e,l,n,lK(i,wh)).next((u=>u)))}))}bs(e,n){let r=new gt(h4(e));return n.forEach(((i,a)=>{cm(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Ac()<=Xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Tc(n)),this.fs.getDocumentsMatchingQuery(e,n,qr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const US="LocalStore",dW=3e8;class fW{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Lt(Le),this.Fs=new Es((a=>iu(a)),lm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function tL(t,e,n,r){return new fW(t,e,n,r)}async function nL(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=He();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function hW(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,m){const p=f.batch,v=p.keys();let _=Y.resolve();return v.forEach((E=>{_=_.next((()=>m.getEntry(d,E))).next((S=>{const A=f.docVersions.get(E);Oe(A!==null,48541),S.version.compareTo(A)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=He();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function rL(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mW(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;u.push(n.li.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.li.addMatchingKeys(a,m.addedDocuments,p))));let _=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(yn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(S,A,C){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=dW?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,_,m)&&u.push(n.li.updateTargetData(a,_))}));let d=Br(),f=He();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(pW(a,l,e.documentUpdates).next((m=>{d=m.Bs,f=m.Ls}))),!r.isEqual(je.min())){const m=n.li.getLastRemoteSnapshotVersion(a).next((p=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return Y.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.vs=i,a)))}function pW(t,e,n){let r=He(),i=He();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Br();return n.forEach(((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(je.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):me(US,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Bs:l,Ls:i}}))}function gW(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Kl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function yW(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new ns(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function q1(t,e,n){const r=Ve(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Go(l))throw l;me(US,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function NP(t,e,n){const r=Ve(t);let i=je.min(),a=He();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=Ve(d),v=p.Fs.get(m);return v!==void 0?Y.resolve(p.vs.get(v)):p.li.getTargetData(f,m)})(r,l,hi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?a:He()))).next((u=>(vW(r,nG(e),u),{documents:u,ks:a})))))}function vW(t,e,n){let r=t.Ms.get(e)||je.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class PP{constructor(){this.activeTargetIds=lG()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iL{constructor(){this.vo=new PP,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new PP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bW{Mo(e){}shutdown(){}}const jP="ConnectivityMonitor";class RP{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(jP,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(jP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ag=null;function F1(){return Ag===null?Ag=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ag++,"0x"+Ag.toString(16)}const E_="RestConnection",xW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _W{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Oy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const l=F1(),u=this.Qo(e,n.toUriEncodedString());me(E_,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,i,a);const{host:f}=new URL(u),m=pd(f);return this.zo(e,u,d,r,m).then((p=>(me(E_,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Vo(E_,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,a,l){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=xW[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class wW{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xn="WebChannelConnection",qf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Mc extends _W{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Mc.c_){const e=C5();qf(e,T5.STAT_EVENT,(n=>{n.stat===_1.PROXY?me(Xn,"STAT_EVENT: detected buffering proxy"):n.stat===_1.NOPROXY&&me(Xn,"STAT_EVENT: detected no buffering proxy")})),Mc.c_=!0}}zo(e,n,r,i,a){const l=F1();return new Promise(((u,d)=>{const f=new S5;f.setWithCredentials(!0),f.listenOnce(A5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Xg.NO_ERROR:const p=f.getResponseJson();me(Xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case Xg.TIMEOUT:me(Xn,`RPC '${e}' ${l} timed out`),d(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Xg.HTTP_ERROR:const v=f.getStatus();if(me(Xn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const S=(function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(N)>=0?N:le.UNKNOWN})(E.status);d(new xe(S,E.message))}else d(new xe(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{me(Xn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);me(Xn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=F1(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");me(Xn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=l.createWebChannel(f,u);this.I_(m);let p=!1,v=!1;const _=new wW({Ho:E=>{v?me(Xn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(me(Xn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),me(Xn,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Jo:()=>m.close()});return qf(m,Jf.EventType.OPEN,(()=>{v||(me(Xn,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),qf(m,Jf.EventType.CLOSE,(()=>{v||(v=!0,me(Xn,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(m))})),qf(m,Jf.EventType.ERROR,(E=>{v||(v=!0,Vo(Xn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.o_(new xe(le.UNAVAILABLE,"The operation could not be completed")))})),qf(m,Jf.EventType.MESSAGE,(E=>{if(!v){const S=E.data[0];Oe(!!S,16349);const A=S,C=A?.error||A[0]?.error;if(C){me(Xn,`RPC '${e}' stream ${i} received error:`,C);const N=C.status;let j=(function(M){const P=dn[M];if(P!==void 0)return A4(P)})(N),D=C.message;N==="NOT_FOUND"&&D.includes("database")&&D.includes("does not exist")&&D.includes(this.databaseId.database)&&Vo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),j===void 0&&(j=le.INTERNAL,D="Unknown error status: "+N+" with message "+C.message),v=!0,_.o_(new xe(j,D)),m.close()}else me(Xn,`RPC '${e}' stream ${i} received:`,S),_.__(S)}})),Mc.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return I5()}}function EW(t){return new Mc(t)}function SW(){return typeof window<"u"?window:null}function oy(){return typeof document<"u"?document:null}function o0(t){return new AG(t,!0)}Mc.c_=!1;class aL{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const DP="PersistentStream";class sL{constructor(e,n,r,i,a,l,u,d){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(DP,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(DP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AW extends sL{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IG(this.serializer,e),r=(function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?fr(l.readTime):je.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=L1(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=Py(d)?{documents:R4(a,d)}:{query:D4(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=I4(a,l.resumeToken);const f=k1(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=nd(a,l.snapshotVersion.toTimestamp());const f=k1(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=NG(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=L1(this.serializer),n.removeTarget=e,this.K_(n)}}class TW extends sL{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OG(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=L1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Dy(this.serializer,r)))};this.K_(n)}}class CW{}class IW extends CW{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,M1(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(le.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,M1(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OW(t,e,n,r){return new IW(t,e,n,r)}class NW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lu="RemoteStore";class PW{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{xu(this)&&(me(lu,"Restarting streams for network reachability change."),await(async function(d){const f=Ve(d);f.Ea.add(4),await fm(f),f.Va.set("Unknown"),f.Ea.delete(4),await l0(f)})(this))}))})),this.Va=new NW(r,i)}}async function l0(t){if(xu(t))for(const e of t.Ra)await e(!0)}async function fm(t){for(const e of t.Ra)await e(!1)}function oL(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),HS(n)?$S(n):xd(n).O_()&&FS(n,e))}function qS(t,e){const n=Ve(t),r=xd(n);n.Ia.delete(e),r.O_()&&lL(n,e),n.Ia.size===0&&(r.O_()?r.L_():xu(n)&&n.Va.set("Unknown"))}function FS(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xd(t).Z_(e)}function lL(t,e){t.da.$e(e),xd(t).X_(e)}function $S(t){t.da=new _G({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xd(t).start(),t.Va.ua()}function HS(t){return xu(t)&&!xd(t).x_()&&t.Ia.size>0}function xu(t){return Ve(t).Ea.size===0}function uL(t){t.da=void 0}async function jW(t){t.Va.set("Online")}async function RW(t){t.Ia.forEach(((e,n)=>{FS(t,e)}))}async function DW(t,e){uL(t),HS(t)?(t.Va.ha(e),$S(t)):t.Va.set("Unknown")}async function kW(t,e,n){if(t.Va.set("Online"),e instanceof C4&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){me(lu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await By(t,r)}else if(e instanceof ay?t.da.Xe(e):e instanceof T4?t.da.st(e):t.da.tt(e),!n.isEqual(je.min()))try{const r=await rL(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.da.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(f);m&&a.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(yn.EMPTY_BYTE_STRING,m.snapshotVersion)),lL(a,d);const p=new ns(m.target,d,f,m.sequenceNumber);FS(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){me(lu,"Failed to raise snapshot:",r),await By(t,r)}}async function By(t,e,n){if(!Go(e))throw e;t.Ea.add(1),await fm(t),t.Va.set("Offline"),n||(n=()=>rL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(lu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await l0(t)}))}function cL(t,e){return e().catch((n=>By(t,n,e)))}async function hm(t){const e=Ve(t),n=Uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kl;for(;MW(e);)try{const i=await gW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,LW(e,i)}catch(i){await By(e,i)}dL(e)&&fL(e)}function MW(t){return xu(t)&&t.Ta.length<10}function LW(t,e){t.Ta.push(e);const n=Uo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function dL(t){return xu(t)&&!Uo(t).x_()&&t.Ta.length>0}function fL(t){Uo(t).start()}async function VW(t){Uo(t).ra()}async function BW(t){const e=Uo(t);for(const n of t.Ta)e.ea(n.mutations)}async function zW(t,e,n){const r=t.Ta.shift(),i=PS.from(r,e,n);await cL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await hm(t)}async function UW(t,e){e&&Uo(t).Y_&&await(async function(r,i){if((function(l){return vG(l)&&l!==le.ABORTED})(i.code)){const a=r.Ta.shift();Uo(r).B_(),await cL(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await hm(r)}})(t,e),dL(t)&&fL(t)}async function kP(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),me(lu,"RemoteStore received new credentials");const r=xu(n);n.Ea.add(3),await fm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await l0(n)}async function qW(t,e){const n=Ve(t);e?(n.Ea.delete(2),await l0(n)):e||(n.Ea.add(2),await fm(n),n.Va.set("Unknown"))}function xd(t){return t.ma||(t.ma=(function(n,r,i){const a=Ve(n);return a.sa(),new AW(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:jW.bind(null,t),Yo:RW.bind(null,t),t_:DW.bind(null,t),J_:kW.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),HS(t)?$S(t):t.Va.set("Unknown")):(await t.ma.stop(),uL(t))}))),t.ma}function Uo(t){return t.fa||(t.fa=(function(n,r,i){const a=Ve(n);return a.sa(),new TW(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VW.bind(null,t),t_:UW.bind(null,t),ta:BW.bind(null,t),na:zW.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await hm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(lu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class KS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new KS(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GS(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Go(t))return new xe(le.UNAVAILABLE,`${e}: ${t}`);throw t}class Lc{static emptySet(e){return new Lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=eh(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class MP{constructor(){this.ga=new Lt(we.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rd{constructor(e,n,r,i,a,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new rd(e,n,Lc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class FW{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $W{constructor(){this.queries=LP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ve(n),a=i.queries;i.queries=LP(),a.forEach(((l,u)=>{for(const d of u.ba)d.onError(r)}))})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function LP(){return new Es((t=>f4(t)),Jv)}async function HW(t,e){const n=Ve(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new FW,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=GS(l,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&WS(n)}async function KW(t,e){const n=Ve(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GW(t,e){const n=Ve(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.ba)u.Fa(i)&&(r=!0);l.wa=i}}r&&WS(n)}function WW(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function WS(t){t.Ca.forEach((e=>{e.next()}))}var $1,VP;(VP=$1||($1={})).Ma="default",VP.Cache="cache";class YW{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$1.Cache}}class hL{constructor(e){this.key=e}}class mL{constructor(e){this.key=e}}class QW{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=h4(e),this.tu=new Lc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new MP,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),_=cm(this.query,p)?p:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;v&&_?v.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),A=!0):this.su(v,_)||(r.track({type:2,doc:_}),A=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(u=!0)):!v&&_?(r.track({type:0,doc:_}),A=!0):v&&!_&&(r.track({type:1,doc:v}),A=!0,(d||f)&&(u=!0)),A&&(_?(l=l.add(_),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Ss:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,E){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:A})}};return S(_)-S(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Ya.size===0&&this.current&&!i?1:0,f=d!==this.Xa;return this.Xa=d,l.length!==0||f?{snapshot:new rd(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MP,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new mL(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new hL(r))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const YS="SyncEngine";class XW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZW{constructor(e){this.key=e,this.hu=!1}}class JW{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Es((u=>f4(u)),Jv),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(we.comparator),this.Au=new Map,this.Vu=new LS,this.du={},this.mu=new Map,this.fu=ou.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eY(t,e,n=!0){const r=xL(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await pL(r,e,n,!0),i}async function tY(t,e){const n=xL(t);await pL(n,e,!0,!1)}async function pL(t,e,n,r){const i=await yW(t.localStore,hi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await nY(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&oL(t.remoteStore,i),u}async function nY(t,e,n,r,i){t.pu=(p,v,_)=>(async function(S,A,C,N){let j=A.view.ru(C);j.Ss&&(j=await NP(S.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,j))));const D=N&&N.targetChanges.get(A.targetId),V=N&&N.targetMismatches.get(A.targetId)!=null,M=A.view.applyChanges(j,S.isPrimaryClient,D,V);return zP(S,A.targetId,M.au),M.snapshot})(t,p,v,_);const a=await NP(t.localStore,e,!0),l=new QW(e,a.ks),u=l.ru(a.documents),d=dm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,d);zP(t,n,f.au);const m=new XW(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function rY(t,e,n){const r=Ve(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Jv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qS(r.remoteStore,i.targetId),H1(r,i.targetId)})).catch(bu)):(H1(r,i.targetId),await q1(r.localStore,i.targetId,!0))}async function iY(t,e){const n=Ve(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qS(n.remoteStore,r.targetId))}async function aY(t,e,n){const r=_L(t);try{const i=await(function(l,u){const d=Ve(l),f=mt.now(),m=u.reduce(((_,E)=>_.add(E.key)),He());let p,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Br(),S=He();return d.xs.getEntries(_,m).next((A=>{E=A,E.forEach(((C,N)=>{N.isValidDocument()||(S=S.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,E))).next((A=>{p=A;const C=[];for(const N of u){const j=gG(N,p.get(N.key).overlayedDocument);j!=null&&C.push(new Ss(N.key,j,r4(j.value.mapValue),cr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,C,u)})).next((A=>{v=A;const C=A.applyToLocalDocumentSet(p,S);return d.documentOverlayCache.saveOverlays(_,A.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:p4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let f=l.du[l.currentUser.toKey()];f||(f=new Lt(Le)),f=f.insert(u,d),l.du[l.currentUser.toKey()]=f})(r,i.batchId,n),await mm(r,i.changes),await hm(r.remoteStore)}catch(i){const a=GS(i,"Failed to persist write");n.reject(a)}}async function gL(t,e){const n=Ve(t);try{const r=await mW(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Oe(l.hu,14607):i.removedDocuments.size>0&&(Oe(l.hu,42227),l.hu=!1))})),await mm(n,r,e)}catch(r){await bu(r)}}function BP(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ve(l);d.onlineState=u;let f=!1;d.queries.forEach(((m,p)=>{for(const v of p.ba)v.va(u)&&(f=!0)})),f&&WS(d)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sY(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Lt(we.comparator);l=l.insert(a,Gt.newNoDocument(a,je.min()));const u=He().add(a),d=new r0(je.min(),new Map,new Lt(Le),l,u);await gL(r,d),r.Ru=r.Ru.remove(a),r.Au.delete(e),QS(r)}else await q1(r.localStore,e,!1).then((()=>H1(r,e,n))).catch(bu)}async function oY(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await hW(n.localStore,e);vL(n,r,null),yL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mm(n,i)}catch(i){await bu(i)}}async function lY(t,e,n){const r=Ve(t);try{const i=await(function(l,u){const d=Ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next((p=>(Oe(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);vL(r,e,n),yL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mm(r,i)}catch(i){await bu(i)}}function yL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vL(t,e,n){const r=Ve(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function H1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||bL(t,r)}))}function bL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qS(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),QS(t))}function zP(t,e,n){for(const r of n)r instanceof hL?(t.Vu.addReference(r.key,e),uY(t,r)):r instanceof mL?(me(YS,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||bL(t,r.key)):Te(19791,{wu:r})}function uY(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(me(YS,"New document in limbo: "+n),t.Eu.add(r),QS(t))}function QS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(ut.fromString(e)),r=t.fu.next();t.Au.set(r,new ZW(n)),t.Ru=t.Ru.insert(n,r),oL(t.remoteStore,new ns(hi(Zv(n.path)),r,"TargetPurposeLimboResolution",di.ce))}}async function mm(t,e,n){const r=Ve(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=zS.Es(d.targetId,f);a.push(m)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(d,f){const m=Ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(f,(v=>Y.forEach(v.Ts,(_=>m.persistence.referenceDelegate.addReference(p,v.targetId,_))).next((()=>Y.forEach(v.Is,(_=>m.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))))))}catch(p){if(!Go(p))throw p;me(US,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const _=m.vs.get(v),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);m.vs=m.vs.insert(v,S)}}})(r.localStore,a))}async function cY(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){me(YS,"User change. New user:",e.toKey());const r=await nL(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new xe(le.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mm(n,r.Ns)}}function dY(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let i=He();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function xL(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sY.bind(null,e),e.Pu.J_=GW.bind(null,e.eventManager),e.Pu.yu=WW.bind(null,e.eventManager),e}function _L(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lY.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=o0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tL(this.persistence,new eL,e.initialUser,this.serializer)}Cu(e){return new VS(s0.Vi,this.serializer)}Du(e){return new iL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class fY extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Vy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Y4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new VS((r=>Vy.Vi(r,n)),this.serializer)}}class hY extends Dh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await _L(this.xu.syncEngine),await hm(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return tL(this.persistence,new eL,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Y4(r,e.asyncQueue,n)}Mu(e,n){const r=new fK(n,this.persistence);return new dK(e.asyncQueue,r)}Cu(e){const n=uW(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new BS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,SW(),oy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new iL}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cY.bind(null,this.syncEngine),await qW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $W})()}createDatastore(e){const n=o0(e.databaseInfo.databaseId),r=EW(e.databaseInfo);return OW(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new PW(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>BP(this.syncEngine,n,0)),(function(){return RP.v()?new RP:new bW})())}createSyncEngine(e,n){return(function(i,a,l,u,d,f,m){const p=new JW(i,a,l,u,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);me(lu,"RemoteStore shutting down."),r.Ea.add(5),await fm(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zy.provider={build:()=>new zy};class mY{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qo="FirestoreClient";class pY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Wn.UNAUTHENTICATED,this.clientId=vS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{me(qo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me(qo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=GS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function S_(t,e){t.asyncQueue.verifyOperationInProgress(),me(qo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await nL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gY(t);me(qo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>kP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>kP(e.remoteStore,i))),t._onlineComponents=e}async function gY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(qo,"Using user provided OfflineComponentProvider");try{await S_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await S_(t,new Dh)}}else me(qo,"Using default OfflineComponentProvider"),await S_(t,new fY(void 0));return t._offlineComponents}async function wL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(qo,"Using user provided OnlineComponentProvider"),await UP(t,t._uninitializedComponentsProvider._online)):(me(qo,"Using default OnlineComponentProvider"),await UP(t,new zy))),t._onlineComponents}function yY(t){return wL(t).then((e=>e.syncEngine))}async function qP(t){const e=await wL(t),n=e.eventManager;return n.onListen=eY.bind(null,e.syncEngine),n.onUnlisten=rY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iY.bind(null,e.syncEngine),n}function vY(t,e,n,r){const i=new mY(r),a=new YW(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>HW(await qP(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>KW(await qP(t),a)))}}function bY(t,e){const n=new Ro;return t.asyncQueue.enqueueAndForget((async()=>aY(await yY(t),e,n))),n.promise}function EL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const xY="ComponentProvider",FP=new Map;function _Y(t,e,n,r,i){return new UK(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,EL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const SL="firestore.googleapis.com",$P=!0;class HP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SL,this.ssl=$P}else this.host=e.host,this.ssl=e.ssl??$P;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KG)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XH;switch(r.type){case"firstParty":return new tK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=FP.get(n);r&&(me(xY,"Removing Datastore"),FP.delete(n),r.terminate())})(this),Promise.resolve()}}function wY(t,e,n,r={}){t=ss(t,u0);const i=pd(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(k3(`https://${u}`),M3("Firestore",!0)),a.host!==SL&&a.host!==u&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:r};if(!Jl(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Wn.MOCK_USER;else{f=EF(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wn(p)}t._authCredentials=new ZH(new N5(f,m))}}class _d{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _d(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(sm(n,hn._jsonSchema))return new hn(e,r||null,new we(ut.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:fn("string",hn._jsonSchemaVersion),referencePath:fn("string")};class ko extends _d{constructor(e,n,r){super(e,n,Zv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new we(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function KP(t,e,...n){if(t=Mn(t),j5("collection","path",e),t instanceof u0){const r=ut.fromString(e,...n);return DN(r),new ko(t,null,r)}{if(!(t instanceof hn||t instanceof ko))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return DN(r),new ko(t.firestore,null,r)}}function K1(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=vS.newId()),j5("doc","path",e),t instanceof u0){const r=ut.fromString(e,...n);return RN(r),new hn(t,null,new we(r))}{if(!(t instanceof hn||t instanceof ko))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return RN(r),new hn(t.firestore,t instanceof ko?t.converter:null,new we(r))}}const GP="AsyncQueue";class WP{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aL(this,"async_queue_retry"),this._c=()=>{const r=oy();r&&me(GP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ro;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;me(GP,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",YP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=KS.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Te(47125,{Pc:YP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uu extends u0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WP(e),this._firestoreClient=void 0,await e}}}function EY(t,e){const n=typeof t=="object"?t:$3(),r=typeof t=="string"?t:Oy,i=sS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=_F("firestore");a&&wY(i,...a)}return i}function AL(t){if(t._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TL(t),t._firestoreClient}function TL(t){const e=t._freezeSettings(),n=_Y(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}function SY(t,e){Vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return AY(t,zy.provider,{build:r=>new hY(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function AY(t,e,n){if((t=ss(t,uu))._firestoreClient||t._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new xe(le.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},TL(t)}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(yn.fromBase64String(e))}catch(n){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sm(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:fn("string",ci._jsonSchemaVersion),bytes:fn("string")};class XS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ZS{constructor(e){this._methodName=e}}class xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xa._jsonSchemaVersion}}static fromJSON(e){if(sm(e,xa._jsonSchema))return new xa(e.latitude,e.longitude)}}xa._jsonSchemaVersion="firestore/geoPoint/1.0",xa._jsonSchema={type:fn("string",xa._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sm(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new xe(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:fn("string",Li._jsonSchemaVersion),vectorValues:fn("object")};const TY=/^__.*__$/;class CY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new bd(e,this.data,n,this.fieldTransforms)}}class CL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:t})}}class JS{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new JS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(IL(this.dataSource)&&TY.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class IY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||o0(e)}createContext(e,n,r,i=!1){return new JS({dataSource:e,methodName:n,targetDoc:r,path:Bt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eA(t){const e=t._freezeSettings(),n=o0(t._databaseId);return new IY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OY(t,e,n,r,i,a={}){const l=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);tA("Data must be an object, but it was:",l,r);const u=OL(r,l);let d,f;if(a.merge)d=new wr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const v=kh(e,p,n);if(!l.contains(v))throw new xe(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);jL(m,v)||m.push(v)}d=new wr(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new CY(new tr(u),d,f)}class c0 extends ZS{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c0}}function NY(t,e,n,r){const i=t.createContext(1,e,n);tA("Data must be an object, but it was:",i,r);const a=[],l=tr.empty();Wo(r,((d,f)=>{const m=PL(e,d,n);f=Mn(f);const p=i.childContextForFieldPath(m);if(f instanceof c0)a.push(m);else{const v=pm(f,p);v!=null&&(a.push(m),l.set(m,v))}}));const u=new wr(a);return new CL(l,u,i.fieldTransforms)}function PY(t,e,n,r,i,a){const l=t.createContext(1,e,n),u=[kh(e,r,n)],d=[i];if(a.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(kh(e,a[v])),d.push(a[v+1]);const f=[],m=tr.empty();for(let v=u.length-1;v>=0;--v)if(!jL(f,u[v])){const _=u[v];let E=d[v];E=Mn(E);const S=l.childContextForFieldPath(_);if(E instanceof c0)f.push(_);else{const A=pm(E,S);A!=null&&(f.push(_),m.set(_,A))}}const p=new wr(f);return new CL(m,p,l.fieldTransforms)}function jY(t,e,n,r=!1){return pm(n,t.createContext(r?4:3,e))}function pm(t,e){if(NL(t=Mn(t)))return tA("Unsupported field value:",e,t),OL(t,e);if(t instanceof ZS)return(function(r,i){if(!IL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let d=pm(u,i.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mt.fromDate(r);return{timestampValue:nd(i.serializer,a)}}if(r instanceof mt){const a=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(i.serializer,a)}}if(r instanceof xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:I4(i.serializer,r._byteString)};if(r instanceof hn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:DS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Li)return(function(l,u){const d=l instanceof Li?l.toArray():l;return{mapValue:{fields:{[TS]:{stringValue:CS},[Qc]:{arrayValue:{values:d.map((m=>{if(typeof m!="number")throw u.createError("VectorValues must only contain numeric values.");return OS(u.serializer,m)}))}}}}}})(r,i);if(B4(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${$v(r)}`)})(t,e)}function OL(t,e){const n={};return W5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,((r,i)=>{const a=pm(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function NL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof xa||t instanceof ci||t instanceof hn||t instanceof ZS||t instanceof Li||B4(t))}function tA(t,e,n){if(!NL(n)||!R5(n)){const r=$v(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function kh(t,e,n){if((e=Mn(e))instanceof XS)return e._internalPath;if(typeof e=="string")return PL(t,e);throw Uy("Field path arguments must be of type string or ",t,!1,void 0,n)}const RY=new RegExp("[~\\*/\\[\\]]");function PL(t,e,n){if(e.search(RY)>=0)throw Uy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new XS(...e.split("."))._internalPath}catch{throw Uy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uy(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new xe(le.INVALID_ARGUMENT,u+t+d)}function jL(t,e){return t.some((n=>n.isEqual(e)))}class DY{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Qc].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Li(n)}convertGeoPoint(e){return new xa(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const n=fs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Oe(V4(r),9688,{name:e});const i=new ru(r.get(1),r.get(3)),a=new we(r.popFirst(5));return i.isEqual(n)||ur(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class RL extends DY{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}const QP="@firebase/firestore",XP="4.11.0";function ZP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class DL{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kY extends DL{data(){return super.data()}}function MY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nA{}class LY extends nA{}function VY(t,e,...n){let r=[];e instanceof nA&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof iA)).length,u=a.filter((d=>d instanceof rA)).length;if(l>1||l>0&&u>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class rA extends LY{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rA(e,n,r)}_apply(e){const n=this._parse(e);return kL(e._query,n),new _d(e.firestore,e.converter,R1(e._query,n))}_parse(e){const n=eA(e.firestore);return(function(a,l,u,d,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ej(p,m);const E=[];for(const S of p)E.push(JP(d,a,S));v={arrayValue:{values:E}}}else v=JP(d,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ej(p,m),v=jY(u,l,p,m==="in"||m==="not-in");return Ze.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class iA extends nA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)kL(l,d),l=R1(l,d)})(e._query,n),new _d(e.firestore,e.converter,R1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JP(t,e,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d4(e)&&n.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!we.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nh(t,new we(r))}if(n instanceof hn)return Nh(t,n._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$v(n)}.`)}function ej(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kL(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BY(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends DL{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ly(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:fn("string",Yl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class ly extends Yl{data(e={}){return super.data(e)}}class Vc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ly(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new ly(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new ly(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:zY(u.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}Vc._jsonSchemaVersion="firestore/querySnapshot/1.0",Vc._jsonSchema={type:fn("string",Vc._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};function UY(t,e,n,...r){t=ss(t,hn);const i=ss(t.firestore,uu),a=eA(i);let l;return l=typeof(e=Mn(e))=="string"||e instanceof XS?PY(a,"updateDoc",t._key,e,n,r):NY(a,"updateDoc",t._key,e),aA(i,[l.toMutation(t._key,cr.exists(!0))])}function qY(t){return aA(ss(t.firestore,uu),[new n0(t._key,cr.none())])}function FY(t,e){const n=ss(t.firestore,uu),r=K1(t),i=BY(t.converter,e),a=eA(t.firestore);return aA(n,[OY(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function $Y(t,...e){t=Mn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ZP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZP(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,l,u;if(t instanceof hn)l=ss(t.firestore,uu),u=Zv(t._key.path),a={next:f=>{e[r]&&e[r](HY(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ss(t,_d);l=ss(f.firestore,uu),u=f._query;const m=new RL(l);a={next:p=>{e[r]&&e[r](new Vc(l,m,f,p))},error:e[r+1],complete:e[r+2]},MY(t._query)}const d=AL(l);return vY(d,u,i,a)}function aA(t,e){const n=AL(t);return bY(n,e)}function HY(t,e,n){const r=n.docs.get(e._key),i=new RL(t);return new Yl(t,i,e._key,r,new rh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){QH(gd),Fc(new eu("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new uu(new JH(r.getProvider("auth-internal")),new nK(l,r.getProvider("app-check-internal")),qK(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Po(QP,XP,e),Po(QP,XP,"esm2020")})();const G1={apiKey:"AIzaSyDbbehDF6_YNmneul-0dRM7wm91YRXd4Jg",authDomain:"mydata-baf75.firebaseapp.com",projectId:"mydata-baf75",storageBucket:"mydata-baf75.firebasestorage.app",messagingSenderId:"78949271165",appId:"1:78949271165:web:b70f5c652d112c641c5314"},KY=()=>{const e=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(n=>!G1[n]||G1[n]===`your-${n.toLowerCase()}-here`);if(e.length>0)throw new Error(`Missing Firebase configuration: ${e.join(", ")}. Please check your .env.local file and ensure all VITE_FIREBASE_* variables are set.`)};KY();const ML=F3(G1),A_=KH(ML),ih=EY(ML);SY(ih).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open. Persistence can only be enabled in one tab at a time."):t.code==="unimplemented"?console.warn("Firestore persistence failed: Browser does not support offline persistence."):console.error("Firestore persistence error:",t)});const LL=w.createContext(void 0);function GY({children:t}){const[e,n]=w.useState(null),[r,i]=w.useState(!0),[a,l]=w.useState(null);w.useEffect(()=>{const m=D$(A_,p=>{n(p),i(!1)},p=>{console.error("Auth state change error:",p),l("Erro ao verificar autenticao"),i(!1)});return()=>m()},[]);const f={user:e,loading:r,error:a,signInWithGoogle:async()=>{l(null);try{const m=new Za;await tH(A_,m)}catch(m){const p=WY(m);throw l(p),console.error("Google sign-in error:",m),m}},signOut:async()=>{l(null);try{await k$(A_)}catch(m){throw l("Erro ao fazer logout"),console.error("Sign-out error:",m),m}}};return g.jsx(LL.Provider,{value:f,children:t})}function WY(t){if(typeof t=="object"&&t!==null&&"code"in t)switch(t.code){case"auth/popup-closed-by-user":return"Login cancelado pelo usurio";case"auth/cancelled-popup-request":return"Solicitao de login cancelada";case"auth/popup-blocked":return"Popup bloqueado pelo navegador. Por favor, permita popups para este site.";case"auth/account-exists-with-different-credential":return"J existe uma conta com este email usando outro mtodo de login";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";default:return"Erro ao fazer login com Google"}return"Erro ao fazer login com Google"}function Na(){const t=w.useContext(LL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function vo({children:t}){const{user:e,loading:n}=Na(),r=Oa();return n?g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-[oklch(0.6489_0.2370_26.9728)]"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Carregando..."})]})}):e?g.jsx(g.Fragment,{children:t}):g.jsx(w3,{to:"/login",state:{from:r},replace:!0})}function YY({children:t}){return g.jsx("div",{className:"flex min-h-svh flex-col bg-surface text-on-surface",children:g.jsx("main",{className:"mx-auto w-full max-w-3xl flex-1 px-4 py-6 pb-28",children:t})})}const QY=[{id:"today",label:"Hoje",icon:""},{id:"week",label:"Semana",icon:""},{id:"shopping",label:"Compras",icon:""},{id:"finance",label:"Finanas",icon:""},{id:"training",label:"Treino",icon:""},{id:"history",label:"Histrico",icon:""}];function XY({active:t,onChange:e}){return g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-gray-200 bg-white/95 pb-safe backdrop-blur-sm",children:g.jsx("div",{className:"mx-auto flex h-16 max-w-3xl items-center justify-around px-2",children:QY.map(n=>{const r=t===n.id;return g.jsxs("button",{onClick:()=>e(n.id),className:`flex flex-1 flex-col items-center justify-center gap-1 rounded-xl py-1 transition-all active:scale-95 ${r?"text-primary-600":"text-gray-400 hover:text-gray-600"}`,children:[g.jsx("div",{className:`flex h-8 w-14 items-center justify-center rounded-full transition-colors ${r?"bg-primary-100":"bg-transparent"}`,children:g.jsx("span",{className:"text-xl leading-none",children:n.icon})}),g.jsx("span",{className:`text-[10px] font-medium ${r?"font-bold":""}`,children:n.label})]},n.id)})})})}const ZY="modulepreload",JY=function(t){return"/mealsMe/"+t},tj={},eQ=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=f(n.map(m=>{if(m=JY(m),m in tj)return;tj[m]=!0;const p=m.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":ZY,p||(_.as="script"),_.crossOrigin="",_.href=m,d&&_.setAttribute("nonce",d),document.head.appendChild(_),p)return new Promise((E,S)=>{_.addEventListener("load",E),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function tQ(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:l}=t;let u,d;const f=async(p=!0)=>{await d};async function m(){if("serviceWorker"in navigator){if(u=await eQ(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/mealsMe/sw.js",{scope:"/mealsMe/",type:"classic"})).catch(p=>{l?.(p)}),!u)return;u.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),u.addEventListener("installed",p=>{p.isUpdate||r?.()}),u.register({immediate:e}).then(p=>{a?a("/mealsMe/sw.js",p):i?.(p)}).catch(p=>{l?.(p)})}}return d=m(),f}function nQ(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:l}=t,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[p]=w.useState(()=>tQ({immediate:e,onOfflineReady(){m(!0),r?.()},onNeedRefresh(){d(!0),n?.()},onRegistered:i,onRegisteredSW:a,onRegisterError:l}));return{needRefresh:[u,d],offlineReady:[f,m],updateServiceWorker:p}}function rQ(){const{offlineReady:[t,e],needRefresh:[n,r],updateServiceWorker:i}=nQ(),a=()=>{e(!1),r(!1)};return!t&&!n?null:g.jsxs("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm rounded-lg bg-primary-800 p-4 text-white shadow-lg",children:[g.jsx("p",{className:"text-sm",children:t?"App pronto para uso offline!":"Nova versao disponivel."}),g.jsxs("div",{className:"mt-3 flex gap-2",children:[n&&g.jsx("button",{onClick:()=>i(!0),className:"rounded-md bg-white px-3 py-1.5 text-xs font-medium text-primary-800 hover:bg-primary-50",children:"Atualizar"}),g.jsx("button",{onClick:a,className:"rounded-md border border-white/30 px-3 py-1.5 text-xs font-medium hover:bg-white/10",children:"Fechar"})]})]})}function iQ(t){const e=new Date,n=e.getHours(),r=e.getMinutes(),i=6,a=22,l=a-i;if(n<i)return 0;if(n>=a)return t;const u=n-i,d=r,f=u*60+d,m=l*60,p=f/m;return Math.round(t*p)}function aQ({currentMl:t,targetMl:e,onAdd:n}){const[r,i]=w.useState(!1),a=Math.min(100,Math.round(t/e*100)),l=(t/1e3).toFixed(1),u=iQ(e),d=Math.round(u/e*100),f=t-u,m=f>300,p=f<-300,v=()=>a>=100?"from-green-500 to-emerald-600":m?"from-emerald-500 to-green-600":p?"from-orange-500 to-red-500":a>=70?"from-blue-500 to-blue-600":a>=40?"from-sky-500 to-blue-500":"from-amber-500 to-orange-500",_=()=>a>=100?"Meta completa! ":m?`Adiantado ${(Math.abs(f)/1e3).toFixed(1)}L`:p?`Atrasado ${(Math.abs(f)/1e3).toFixed(1)}L`:"No ritmo!";return g.jsxs(g.Fragment,{children:[r&&g.jsx("div",{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>i(!1)}),g.jsxs("div",{className:"fixed bottom-20 right-4 z-50 flex flex-col items-end gap-2",children:[r&&g.jsxs("div",{className:"flex flex-col gap-3 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g.jsxs("div",{className:"rounded-xl bg-white p-3.5 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-blue-500",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs",children:[g.jsx("span",{className:"text-gray-600",children:"Agora:"}),g.jsxs("span",{className:"font-bold text-gray-900",children:[l,"L / ",(e/1e3).toFixed(1),"L"]})]}),g.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs",children:[g.jsx("span",{className:"text-gray-600",children:"Esperado:"}),g.jsxs("span",{className:"font-bold text-blue-600",children:[(u/1e3).toFixed(1),"L (",d,"%)"]})]})]})]}),g.jsxs("div",{className:`mt-2.5 flex items-center justify-center gap-1.5 rounded-lg px-2 py-1.5 text-center text-xs font-bold ${m?"bg-emerald-100 text-emerald-700":p?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}`,children:[m&&g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M7 14l5-5 5 5z"})}),p&&g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M7 10l5 5 5-5z"})}),!m&&!p&&a<100&&g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M9 12l3 3 3-3M9 8l3 3 3-3",opacity:"0.5"})}),a>=100&&g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),g.jsx("span",{children:_()})]})]}),g.jsx("button",{onClick:()=>{n(200),i(!1)},className:"group flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg transition-all active:scale-95 hover:shadow-xl",children:g.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[g.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:g.jsx("path",{d:"M12 5v14M5 12h14"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"200ml"})]})}),g.jsx("button",{onClick:()=>{n(300),i(!1)},className:"group flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-blue-600 to-blue-700 text-white shadow-lg transition-all active:scale-95 hover:shadow-xl",children:g.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[g.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:g.jsx("path",{d:"M12 5v14M5 12h14"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"300ml"})]})}),g.jsx("button",{onClick:()=>{n(500),i(!1)},className:"group flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-blue-700 to-indigo-700 text-white shadow-lg transition-all active:scale-95 hover:shadow-xl",children:g.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[g.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:g.jsx("path",{d:"M12 5v14M5 12h14"})}),g.jsx("span",{className:"text-[10px] font-bold",children:"500ml"})]})})]}),g.jsxs("button",{onClick:()=>i(!r),className:`relative flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br shadow-xl transition-transform active:scale-95 ${v()}`,children:[g.jsxs("svg",{className:"absolute inset-0 h-16 w-16 -rotate-90",viewBox:"0 0 64 64",children:[g.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"white",strokeOpacity:"0.2",strokeWidth:"4"}),g.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"white",strokeOpacity:"0.5",strokeWidth:"2",strokeDasharray:`${d/100*175.93} 175.93`,className:"transition-all duration-300"}),g.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"white",strokeWidth:"4",strokeDasharray:`${a/100*175.93} 175.93`,strokeLinecap:"round",className:"transition-all duration-300"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[g.jsx("svg",{className:"h-7 w-7",viewBox:"0 0 24 24",fill:"white",children:g.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),g.jsxs("span",{className:"text-[10px] font-bold leading-none text-white",children:[l,"L"]})]}),m&&g.jsx("div",{className:"absolute -top-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full bg-emerald-500 shadow-md",children:g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"white",children:g.jsx("path",{d:"M7 14l5-5 5 5z"})})}),p&&g.jsx("div",{className:"absolute -top-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full bg-rose-500 shadow-md",children:g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"white",children:g.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})]})]})}const sQ={weekday:1,label:"Segunda-feira",shortLabel:"SEG",dayType:"training",training:"Upper A",targets:{kcal:2450,protein:160,carbs:290,fat:72,fiber:30},waterLiters:3,meals:[{id:"seg-pre",name:"Pre-Treino",time:"06:15",foods:[{name:"Banana media",quantity:"120g",tags:[""]},{name:"Cafe preto sem acucar",quantity:"200mL"}],macros:{kcal:105,protein:1,carbs:27,fat:0,fiber:3}},{id:"seg-cafe",name:"Cafe / Pos-Treino",time:"08:30",supplements:["D3+K2","Complexo B","Mg Dimalato","Creatina 5g"],foods:[{name:"3 ovos inteiros mexidos",quantity:"180g",tags:["",""]},{name:"2 fatias pao integral",quantity:"50g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Queijo minas",quantity:"30g",tags:[""]},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"1/2 abacate",quantity:"50g polpa",tags:[""]},{name:"Creatina no leite",quantity:"5g"}],macros:{kcal:620,protein:42,carbs:52,fat:28,fiber:7}},{id:"seg-lanche-m",name:"Lanche da Manha",time:"10:30",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:["",""]},{name:"Aveia em flocos",quantity:"30g",tags:[""]},{name:"Castanhas-do-para",quantity:"2 unidades"},{name:"Castanhas de caju",quantity:"5 unidades",tags:[""]},{name:"1/2 maca com casca",quantity:"80g",tags:[""]}],macros:{kcal:310,protein:14,carbs:32,fat:14,fiber:5}},{id:"seg-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Peito de frango grelhado",quantity:"150g"},{name:"Arroz integral cozido",quantity:"150g",tags:[""]},{name:"Brocolis no vapor",quantity:"100g",tags:[""]},{name:"Cenoura ralada",quantity:"80g"},{name:"Feijao carioca",quantity:"50g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada verde (alface, rucula)",quantity:"100g",tags:[""]},{name:"Semente de linhaca",quantity:"10g",tags:[""]}],macros:{kcal:650,protein:50,carbs:68,fat:16,fiber:12}},{id:"seg-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"Pao integral",quantity:"25g",tags:[""]},{name:"Pasta de amendoim (sem acucar)",quantity:"32g",tags:[""]},{name:"Banana media",quantity:"120g",tags:[""]}],macros:{kcal:310,protein:13,carbs:36,fat:14,fiber:5}},{id:"seg-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Sardinha em lata (com espinhas)",quantity:"125g",tags:["",""]},{name:"Batata-doce cozida",quantity:"120g",tags:[""]},{name:"Couve refogada com alho",quantity:"100g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada de tomate",quantity:"100g"}],macros:{kcal:460,protein:25,carbs:38,fat:22,fiber:6}}]},oQ={weekday:2,label:"Terca-feira",shortLabel:"TER",dayType:"training",training:"Lower A",targets:{kcal:2450,protein:160,carbs:290,fat:72,fiber:30},waterLiters:3,meals:[{id:"ter-pre",name:"Pre-Treino",time:"06:15",foods:[{name:"Aveia em flocos com agua quente",quantity:"30g",tags:[""]},{name:"Mel",quantity:"7g"}],macros:{kcal:140,protein:4,carbs:27,fat:2,fiber:2}},{id:"ter-cafe",name:"Cafe / Pos-Treino",time:"08:30",supplements:["D3+K2","Complexo B","Mg Dimalato","Creatina 5g"],foods:[{name:"Omelete (3 ovos + queijo minas + espinafre)",quantity:"~250g",tags:[""]},{name:"2 fatias pao integral",quantity:"50g",tags:[""]},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]}],macros:{kcal:620,protein:40,carbs:50,fat:28,fiber:5}},{id:"ter-lanche-m",name:"Lanche da Manha",time:"10:30",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:[""]},{name:"Granola sem acucar",quantity:"20g",tags:[""]},{name:"Kiwi",quantity:"100g",tags:[""]},{name:"Nozes",quantity:"5 unidades",tags:[""]}],macros:{kcal:300,protein:14,carbs:30,fat:14,fiber:4}},{id:"ter-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Tilapia/merluza grelhada",quantity:"150g",tags:["",""]},{name:"Arroz integral cozido",quantity:"150g",tags:[""]},{name:"Abobora cabotia assada",quantity:"100g",tags:[""]},{name:"Vagem no vapor",quantity:"80g"},{name:"Lentilha cozida",quantity:"50g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada mista",quantity:"120g"}],macros:{kcal:640,protein:48,carbs:70,fat:14,fiber:11}},{id:"ter-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"2 ovos cozidos",quantity:"~120g"},{name:"Pao integral",quantity:"25g",tags:[""]},{name:"Pera media",quantity:"150g",tags:[""]}],macros:{kcal:270,protein:15,carbs:30,fat:10,fiber:4}},{id:"ter-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Carne moida magra (patinho) refogada",quantity:"150g"},{name:"Batata-doce cozida",quantity:"120g",tags:[""]},{name:"Brocolis no vapor",quantity:"100g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Tomate",quantity:"80g"}],macros:{kcal:480,protein:38,carbs:38,fat:18,fiber:6}}]},lQ={weekday:3,label:"Quarta-feira",shortLabel:"QUA",dayType:"rest",targets:{kcal:2100,protein:160,carbs:203,fat:72,fiber:30},waterLiters:2.5,meals:[{id:"qua-cafe",name:"Cafe da Manha",time:"07:30",supplements:["D3+K2","Complexo B","Mg Dimalato"],foods:[{name:"Tapioca (2 discos finos)",quantity:"40g goma",tags:[""]},{name:"2 ovos mexidos (recheio)",quantity:"~120g"},{name:"Queijo minas ralado",quantity:"30g",tags:[""]},{name:"Tomate fatiado",quantity:"~50g"},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"Azeite nos ovos",quantity:"13mL",tags:[""]}],macros:{kcal:480,protein:28,carbs:40,fat:22,fiber:3}},{id:"qua-lanche-m",name:"Lanche da Manha",time:"10:00",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:[""]},{name:"Aveia em flocos",quantity:"30g",tags:[""]},{name:"Semente de chia",quantity:"10g",tags:[""]},{name:"Morangos",quantity:"80g",tags:[""]}],macros:{kcal:280,protein:14,carbs:32,fat:11,fiber:7}},{id:"qua-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"File de frango grelhado",quantity:"150g"},{name:"Arroz integral",quantity:"120g",tags:[""]},{name:"Couve refogada com alho",quantity:"100g",tags:[""]},{name:"Beterraba cozida",quantity:"80g",tags:[""]},{name:"Grao-de-bico cozido",quantity:"50g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada verde",quantity:"100g"},{name:"Semente de linhaca",quantity:"10g",tags:[""]}],macros:{kcal:600,protein:48,carbs:60,fat:16,fiber:11}},{id:"qua-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"Mix frutas secas e oleaginosas",quantity:"30g",tags:[""]},{name:"Pao integral",quantity:"25g"},{name:"Ricota",quantity:"30g",tags:[""]}],macros:{kcal:250,protein:12,carbs:30,fat:10,fiber:3}},{id:"qua-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Sardinha em lata (com espinhas)",quantity:"125g",tags:["",""]},{name:"Salada de folhas verdes",quantity:"150g",tags:[""]},{name:"Tomate cereja",quantity:"80g"},{name:"Pepino",quantity:"50g"},{name:"Grao-de-bico (sobra almoco)",quantity:"80g",tags:[""]},{name:"Azeite + limao",quantity:"13mL",tags:[""]},{name:"Abobora assada",quantity:"100g",tags:[""]}],macros:{kcal:490,protein:30,carbs:35,fat:24,fiber:8}}]},uQ={weekday:4,label:"Quinta-feira",shortLabel:"QUI",dayType:"training",training:"Upper B",targets:{kcal:2450,protein:160,carbs:290,fat:72,fiber:30},waterLiters:3,meals:[{id:"qui-pre",name:"Pre-Treino",time:"06:15",foods:[{name:"Banana media",quantity:"120g",tags:[""]},{name:"Cafe preto sem acucar",quantity:"200mL"}],macros:{kcal:105,protein:1,carbs:27,fat:0,fiber:3}},{id:"qui-cafe",name:"Cafe / Pos-Treino",time:"08:30",supplements:["D3+K2","Complexo B","Mg Dimalato","Creatina 5g"],foods:[{name:"Mingau de aveia (aveia + leite + banana + canela)",quantity:"~350mL",tags:["",""]},{name:"2 ovos cozidos",quantity:"~120g"},{name:"Queijo minas",quantity:"30g",tags:[""]},{name:"Pasta de amendoim",quantity:"16g",tags:[""]}],macros:{kcal:630,protein:38,carbs:70,fat:22,fiber:6}},{id:"qui-lanche-m",name:"Lanche da Manha",time:"10:30",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:[""]},{name:"Aveia em flocos",quantity:"30g",tags:[""]},{name:"Amendoas",quantity:"8 unidades",tags:[""]},{name:"1/2 mamao papaya",quantity:"150g"}],macros:{kcal:320,protein:14,carbs:38,fat:12,fiber:5}},{id:"qui-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Alcatra grelhada",quantity:"150g"},{name:"Arroz integral cozido",quantity:"150g",tags:[""]},{name:"Brocolis no vapor",quantity:"100g",tags:[""]},{name:"Feijao preto",quantity:"50g",tags:[""]},{name:"Cenoura ralada",quantity:"80g"},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada verde",quantity:"100g"}],macros:{kcal:660,protein:50,carbs:70,fat:16,fiber:10}},{id:"qui-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"Vitamina (leite + banana + aveia + cacau)",quantity:"~350mL",tags:["",""]}],macros:{kcal:240,protein:12,carbs:36,fat:6,fiber:3}},{id:"qui-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Frango desfiado",quantity:"130g"},{name:"Pure de batata-doce",quantity:"100g",tags:[""]},{name:"Couve refogada",quantity:"100g",tags:[""]},{name:"Tomate",quantity:"80g"},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]}],macros:{kcal:450,protein:35,carbs:35,fat:16,fiber:5}}]},cQ={weekday:5,label:"Sexta-feira",shortLabel:"SEX",dayType:"training",training:"Lower B",targets:{kcal:2450,protein:160,carbs:290,fat:72,fiber:30},waterLiters:3,meals:[{id:"sex-pre",name:"Pre-Treino",time:"06:15",foods:[{name:"2 torradas integrais finas",quantity:"20g",tags:[""]},{name:"Mel",quantity:"7g"}],macros:{kcal:95,protein:2,carbs:20,fat:1,fiber:1}},{id:"sex-cafe",name:"Cafe / Pos-Treino",time:"08:30",supplements:["D3+K2","Complexo B","Mg Dimalato","Creatina 5g"],foods:[{name:"Panqueca proteica (3 ovos + aveia + banana + canela)",quantity:"~300g"},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"Queijo minas",quantity:"30g",tags:[""]},{name:"Azeite (frigideira)",quantity:"13mL",tags:[""]}],macros:{kcal:600,protein:38,carbs:58,fat:24,fiber:4}},{id:"sex-lanche-m",name:"Lanche da Manha",time:"10:30",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:[""]},{name:"Aveia em flocos",quantity:"30g",tags:[""]},{name:"Castanhas-do-para",quantity:"2 unidades"},{name:"Laranja inteira",quantity:"150g"}],macros:{kcal:300,protein:14,carbs:36,fat:12,fiber:5}},{id:"sex-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],note:"Opcao FORA: restaurante por quilo (regra 1/3 proteina, 1/3 carbo, 1/3 vegetal)",foods:[{name:"Proteina grelhada (frango/peixe/carne)",quantity:"~150g"},{name:"Arroz (integral se tiver)",quantity:"~150g",tags:[""]},{name:"Feijao",quantity:"~50g",tags:[""]},{name:"Vegetais variados",quantity:"~150g"},{name:"Azeite por cima",quantity:"~13mL",tags:[""]}],macros:{kcal:670,protein:45,carbs:70,fat:20,fiber:8}},{id:"sex-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"Pao integral",quantity:"25g",tags:[""]},{name:"Pasta de amendoim (sem acucar)",quantity:"32g",tags:[""]},{name:"Banana media",quantity:"120g",tags:[""]}],macros:{kcal:310,protein:13,carbs:36,fat:14,fiber:5}},{id:"sex-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"Peito de frango grelhado",quantity:"150g"},{name:"Pure de mandioquinha",quantity:"120g",tags:[""]},{name:"Brocolis no vapor",quantity:"100g",tags:[""]},{name:"Tomate",quantity:"80g"},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]}],macros:{kcal:460,protein:38,carbs:40,fat:16,fiber:5}}]},dQ={weekday:6,label:"Sabado",shortLabel:"SAB",dayType:"rest",targets:{kcal:2100,protein:160,carbs:203,fat:72,fiber:30},waterLiters:2.5,meals:[{id:"sab-cafe",name:"Cafe da Manha",time:"08:00",supplements:["D3+K2","Complexo B","Mg Dimalato"],foods:[{name:"Crepioca (2 ovos + tapioca)",quantity:"~200g"},{name:"Queijo minas (recheio)",quantity:"30g",tags:[""]},{name:"Tomate fatiado",quantity:"~50g"},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"1/2 abacate",quantity:"50g polpa",tags:[""]}],macros:{kcal:450,protein:28,carbs:30,fat:24,fiber:2}},{id:"sab-lanche-m",name:"Lanche da Manha",time:"10:30",foods:[{name:"Smoothie (iogurte + banana + morangos + chia + aveia)",quantity:"~350mL",tags:["",""]}],macros:{kcal:260,protein:12,carbs:32,fat:10,fiber:6}},{id:"sab-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],foods:[{name:"File de salmao grelhado",quantity:"150g",tags:["",""]},{name:"Arroz integral cozido",quantity:"150g",tags:[""]},{name:"Espinafre refogado",quantity:"100g",tags:[""]},{name:"Feijao carioca",quantity:"50g",tags:[""]},{name:"Cenoura",quantity:"80g"},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]},{name:"Salada verde",quantity:"100g"}],macros:{kcal:650,protein:48,carbs:62,fat:20,fiber:8}},{id:"sab-lanche-t",name:"Lanche da Tarde",time:"15:30",foods:[{name:"Mix trail (castanhas + uva-passa + amendoas)",quantity:"30g",tags:[""]},{name:"Pao integral",quantity:"25g"},{name:"Ricota",quantity:"30g",tags:[""]}],macros:{kcal:260,protein:10,carbs:30,fat:12,fiber:3}},{id:"sab-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],note:"Sopa de legumes com frango",foods:[{name:"Frango desfiado",quantity:"120g"},{name:"Batata-doce em cubos",quantity:"80g",tags:[""]},{name:"Cenoura em cubos",quantity:"80g"},{name:"Abobrinha em cubos",quantity:"80g"},{name:"Brocolis",quantity:"50g",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]}],macros:{kcal:400,protein:32,carbs:30,fat:14,fiber:6}}]},fQ={weekday:0,label:"Domingo",shortLabel:"DOM",dayType:"rest",targets:{kcal:2100,protein:160,carbs:203,fat:72,fiber:30},waterLiters:2.5,meals:[{id:"dom-cafe",name:"Cafe da Manha",time:"08:00",supplements:["D3+K2","Complexo B","Mg Dimalato"],foods:[{name:"3 ovos mexidos (com tomate e espinafre)",quantity:"~200g",tags:[""]},{name:"2 fatias pao integral",quantity:"50g",tags:[""]},{name:"Queijo minas",quantity:"30g",tags:[""]},{name:"Leite integral",quantity:"200mL",tags:[""]},{name:"Azeite extra virgem",quantity:"13mL",tags:[""]}],macros:{kcal:520,protein:35,carbs:40,fat:24,fiber:4}},{id:"dom-lanche-m",name:"Lanche da Manha",time:"10:00",foods:[{name:"Iogurte natural integral",quantity:"170g",tags:[""]},{name:"Aveia em flocos",quantity:"30g",tags:[""]},{name:"Castanhas-do-para",quantity:"2 unidades"},{name:"1/2 manga",quantity:"100g"}],macros:{kcal:310,protein:14,carbs:38,fat:12,fiber:4}},{id:"dom-almoco",name:"Almoco",time:"12:30",supplements:["Omega-3 1g","Calcio Citrato 250mg"],note:"Opcao FORA: restaurante/churrascaria  priorizar proteina magra + salada",foods:[{name:"Proteina (picanha magra, fraldinha, frango)",quantity:"~150g"},{name:"Arroz + feijao (porcao moderada)",quantity:"~150g",tags:[""]},{name:"Salada do buffet (folhas, brocolis, beterraba)",quantity:"~200g",tags:[""]}],macros:{kcal:700,protein:50,carbs:60,fat:24,fiber:6}},{id:"dom-lanche-t",name:"Lanche da Tarde",time:"15:30",isOptional:!0,note:"Se estiver satisfeito do almoco fora, pode pular",foods:[{name:"Banana media",quantity:"120g",tags:[""]},{name:"Amendoas",quantity:"10 unidades",tags:[""]}],macros:{kcal:200,protein:5,carbs:30,fat:8,fiber:3}},{id:"dom-jantar",name:"Jantar",time:"19:00",supplements:["Zinco 30mg (18:30)","Omega-3 1g","Calcio Citrato 250mg"],note:"Jantar leve para compensar almoco fora",foods:[{name:"Sardinha em lata (ou 2 ovos cozidos)",quantity:"125g",tags:["",""]},{name:"Salada grande (folhas + tomate + pepino + cenoura)",quantity:"200g",tags:[""]},{name:"Azeite + limao",quantity:"13mL",tags:[""]}],macros:{kcal:380,protein:28,carbs:15,fat:22,fiber:5}}]},VL=[fQ,sQ,oQ,lQ,uQ,cQ,dQ],sA=t=>VL[t.getDay()],qy=[{id:"colageno-vitc",name:"Colageno 10g + Vit C 500mg",time:"06:00",withMeal:"Jejum (com agua)",note:"Tomar em jejum para maximizar absorcao"},{id:"d3-k2",name:"Vitamina D3 4000UI + K2 200ug",time:"~06:30",withMeal:"Cafe da manha (com gordura)",note:"Lipossoluveis  precisam de gordura"},{id:"complexo-b",name:"Complexo B Ativo",time:"~06:30",withMeal:"Cafe da manha",note:"Estimulante  tomar de manha"},{id:"mg-dimalato",name:"Magnesio Dimalato 300mg",time:"~06:30",withMeal:"Cafe da manha",note:"Forma energizante  ideal pela manha"},{id:"omega3-almoco",name:"Omega-3 1g EPA+DHA",time:"~12:30",withMeal:"Almoco (com gordura)"},{id:"calcio-almoco",name:"Calcio Citrato 250mg",time:"~12:30",withMeal:"Almoco"},{id:"zinco",name:"Zinco 30mg",time:"18:30",withMeal:"30 min antes do jantar (estomago vazio)",note:"Separar do calcio"},{id:"omega3-jantar",name:"Omega-3 1g EPA+DHA",time:"~19:00",withMeal:"Jantar (com gordura)"},{id:"calcio-jantar",name:"Calcio Citrato 250mg",time:"~19:00",withMeal:"Jantar"},{id:"mg-glicinato",name:"Magnesio Glicinato 200mg",time:"21:00",withMeal:"Antes de dormir",note:"Forma calmante  melhora sono"},{id:"creatina",name:"Creatina 5g",time:"Pos-treino",withMeal:"Shake pos-treino ou refeicao",note:"Dia off: tomar com almoco ou jantar"}],uy="mealsme_",T_=t=>`${uy}${t}`,Tg={get(t){try{const e=localStorage.getItem(T_(t));return e===null?null:JSON.parse(e)}catch{return null}},set(t,e){try{return localStorage.setItem(T_(t),JSON.stringify(e)),!0}catch{return!1}},remove(t){localStorage.removeItem(T_(t))},clear(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n?.startsWith(uy)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))},keys(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n?.startsWith(uy)&&t.push(n.slice(uy.length))}return t}};function gm(t,e){const[n,r]=w.useState(()=>{const l=Tg.get(t);return l!==null?l:(Tg.set(t,e),e)}),i=w.useCallback(l=>{r(u=>{const d=l instanceof Function?l(u):l;return Tg.set(t,d),d})},[t]),a=w.useCallback(()=>{Tg.remove(t),r(e)},[t,e]);return[n,i,a]}const Mh=t=>t.toISOString().slice(0,10),hQ=()=>new Date,BL=()=>Mh(hQ()),mQ=t=>{const e=t.getDay(),n=new Date(t);return n.setDate(t.getDate()-e),Array.from({length:7},(r,i)=>{const a=new Date(n);return a.setDate(n.getDate()+i),a})},pQ=(t,e)=>Mh(t)===Mh(e),bo={date:"",checkedFoods:{},checkedSupplements:[],waterMl:0},gQ=t=>`progress_${t}`;function d0(t){const e=t??BL(),[n,r]=gm(gQ(e),{...bo,date:e}),i=n.date===e?n:{...bo,date:e},a=w.useCallback((j,D)=>{r(V=>{const M=V.date===e?V:{...bo,date:e},P=M.checkedFoods[j]??[],R=String(D),F=P.includes(R)?P.filter(B=>B!==R):[...P,R];return{...M,checkedFoods:{...M.checkedFoods,[j]:F}}})},[r,e]),l=w.useCallback((j,D)=>(i.checkedFoods[j]??[]).includes(String(D)),[i.checkedFoods]),u=w.useCallback(j=>{r(D=>{const V=D.date===e?D:{...bo,date:e},M=V.checkedSupplements.includes(j);return{...V,checkedSupplements:M?V.checkedSupplements.filter(P=>P!==j):[...V.checkedSupplements,j]}})},[r,e]),d=w.useCallback(j=>i.checkedSupplements.includes(j),[i.checkedSupplements]),f=w.useCallback(j=>{r(D=>{const V=D.date===e?D:{...bo,date:e};return{...V,waterMl:Math.max(0,V.waterMl+j)}})},[r,e]),m=w.useCallback((j,D)=>{const V=(i.checkedFoods[j]??[]).length;return D===0?0:Math.round(V/D*100)},[i.checkedFoods]),p=w.useCallback((j,D,V)=>{r(M=>{const P=M.date===e?M:{...bo,date:e},R={status:D,timestamp:Date.now(),...V?.postponedTo&&{postponedTo:V.postponedTo},...V?.note&&{note:V.note}};return{...P,mealActivities:{...P.mealActivities??{},[j]:R}}})},[r,e]),v=w.useCallback(j=>i.mealActivities?.[j],[i.mealActivities]),_=w.useCallback((j,D,V)=>{r(M=>{const P=M.date===e?M:{...bo,date:e},R={status:D,timestamp:Date.now(),...V?.postponedTo&&{postponedTo:V.postponedTo},...V?.note&&{note:V.note}};return{...P,supplementActivities:{...P.supplementActivities??{},[j]:R}}})},[r,e]),E=w.useCallback(j=>i.supplementActivities?.[j],[i.supplementActivities]),S=w.useCallback((j,D)=>{r(V=>{const M=V.date===e?V:{...bo,date:e},P={status:j,timestamp:Date.now(),...D?.postponedTo&&{postponedTo:D.postponedTo},...D?.note&&{note:D.note}};return{...M,trainingActivity:P}})},[r,e]),A=w.useCallback(()=>i.trainingActivity,[i.trainingActivity]),C=Object.values(i.checkedFoods).reduce((j,D)=>j+D.length,0),N=i.checkedSupplements.length;return{progress:i,toggleFood:a,isFoodChecked:l,toggleSupplement:u,isSupplementChecked:d,addWater:f,getMealProgress:m,setMealActivity:p,getMealActivity:v,setSupplementActivity:_,getSupplementActivity:E,setTrainingActivity:S,getTrainingActivity:A,totalFoodsChecked:C,totalSupplementsChecked:N}}function yQ({plan:t,overallPercent:e}){const n=t.dayType==="training";return g.jsxs("div",{className:"mb-6 rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.label}),g.jsx("div",{className:"mt-1 flex items-center gap-2",children:g.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-bold ${n?"bg-orange-100 text-orange-700":"bg-sky-100 text-sky-700"}`,children:n?`Treino: ${t.training}`:"Descanso"})})]}),g.jsxs("div",{className:"flex flex-col items-center rounded-xl bg-gray-50 px-3 py-2",children:[g.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[e,"%"]}),g.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide",children:"Concluido"})]})]}),g.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2",children:[{label:"Kcal",value:`${t.targets.kcal}`,color:"bg-gray-100 text-gray-700"},{label:"Prot",value:`${t.targets.protein}g`,color:"bg-red-50 text-red-700"},{label:"Carb",value:`${t.targets.carbs}g`,color:"bg-amber-50 text-amber-700"},{label:"Gord",value:`${t.targets.fat}g`,color:"bg-blue-50 text-blue-700"}].map(r=>g.jsxs("div",{className:`flex flex-col items-center justify-center rounded-xl py-2 ${r.color}`,children:[g.jsx("span",{className:"text-[10px] font-bold uppercase opacity-70",children:r.label}),g.jsx("span",{className:"text-sm font-bold",children:r.value})]},r.label))})]})}function oA({percent:t,size:e=48,strokeWidth:n=4,label:r}){const i=(e-n)/2,a=2*Math.PI*i,l=a-Math.min(t,100)/100*a,u=t>=100?"text-primary-500":t>=50?"text-primary-400":"text-gray-300";return g.jsxs("div",{className:"relative inline-flex items-center justify-center",style:{width:e,height:e},children:[g.jsxs("svg",{width:e,height:e,className:"-rotate-90",children:[g.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",stroke:"currentColor",strokeWidth:n,className:"text-gray-100"}),g.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",stroke:"currentColor",strokeWidth:n,strokeDasharray:a,strokeDashoffset:l,strokeLinecap:"round",className:`transition-all duration-500 ${u}`})]}),r&&g.jsx("span",{className:"absolute text-[10px] font-semibold text-on-surface-muted",children:r})]})}function vQ({meal:t,isFoodChecked:e,onToggleFood:n,progress:r,activityState:i,onSetActivity:a}){const[l,u]=w.useState(!1),d=r===100;return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${d?"border-primary-200 bg-primary-50/50":"border-gray-200 bg-white"}`,children:[g.jsxs("button",{onClick:()=>u(!l),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx(oA,{percent:r,size:40,strokeWidth:3}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-semibold text-on-surface",children:t.name}),t.isOptional&&g.jsx("span",{className:"rounded-sm bg-amber-100 px-1.5 py-0.5 text-[10px] font-medium text-amber-700",children:"opcional"})]}),g.jsx("span",{className:"text-xs text-on-surface-muted",children:t.time})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-xs font-medium text-on-surface-muted",children:[t.macros.kcal," kcal"]}),g.jsxs("div",{className:"mt-0.5 flex gap-1.5 text-[10px] text-on-surface-muted",children:[g.jsxs("span",{children:["P:",t.macros.protein,"g"]}),g.jsxs("span",{children:["C:",t.macros.carbs,"g"]}),g.jsxs("span",{children:["G:",t.macros.fat,"g"]})]})]}),g.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&g.jsxs("div",{className:"border-t border-gray-100 px-4 pb-4 pt-2",children:[t.note&&g.jsx("p",{className:"mb-3 rounded-lg bg-amber-50 px-3 py-2 text-xs text-amber-700",children:t.note}),t.supplements&&t.supplements.length>0&&g.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:t.supplements.map(f=>g.jsxs("span",{className:"rounded-md bg-purple-100 px-2 py-0.5 text-[10px] font-medium text-purple-700",children:[" ",f]},f))}),g.jsx("ul",{className:"space-y-2",children:t.foods.map((f,m)=>{const p=e(t.id,m);return g.jsx("li",{children:g.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-xl bg-gray-50/50 p-3 transition-colors active:bg-gray-100",children:[g.jsx("input",{type:"checkbox",checked:p,onChange:()=>n(t.id,m),className:"h-6 w-6 shrink-0 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:`text-sm font-medium ${p?"text-gray-400 line-through":"text-gray-900"}`,children:f.name}),f.tags&&f.tags.length>0&&g.jsx("div",{className:"flex gap-1",children:f.tags.map(v=>g.jsx("span",{className:"text-xs",children:v},v))})]}),g.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:f.quantity})]})]})},m)})}),i&&i.status!=="pending"&&g.jsx("div",{className:"mt-3 rounded-lg bg-gray-50 px-3 py-2",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.status==="completed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-green-600",children:""}),g.jsx("span",{className:"font-medium text-green-700",children:"Feito"})]}),i.status==="skipped"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-amber-600",children:""}),g.jsx("span",{className:"font-medium text-amber-700",children:"Pulado"})]}),i.status==="postponed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-blue-600",children:""}),g.jsx("span",{className:"font-medium text-blue-700",children:"Adiado"})]}),i.status==="missed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-red-600",children:""}),g.jsx("span",{className:"font-medium text-red-700",children:"Perdido"})]})]})}),g.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[g.jsxs("button",{onClick:()=>a(t.id,"completed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${i?.status==="completed"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Feito"]}),g.jsxs("button",{onClick:()=>a(t.id,"skipped"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${i?.status==="skipped"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Pular"]}),g.jsxs("button",{onClick:()=>a(t.id,"postponed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${i?.status==="postponed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Adiar"]})]})]})]})}function bQ({supplement:t,isChecked:e,onToggle:n,activityState:r,onSetActivity:i}){const[a,l]=w.useState(!1);return g.jsx("li",{children:g.jsxs("div",{className:"overflow-hidden rounded-xl bg-purple-50/50 transition-colors",children:[g.jsxs("label",{className:"flex cursor-pointer items-center gap-3 p-3 transition-colors active:bg-purple-100",children:[g.jsx("input",{type:"checkbox",checked:e,onChange:()=>n(t.id),className:"h-6 w-6 shrink-0 rounded border-purple-300 text-purple-600 focus:ring-purple-500"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`block text-sm font-medium ${e?"text-purple-300 line-through":"text-purple-900"}`,children:t.name}),g.jsxs("div",{className:"mt-0.5 flex items-center gap-2 text-xs text-purple-700/70",children:[g.jsx("span",{children:t.time}),g.jsx("span",{children:""}),g.jsx("span",{children:t.withMeal})]})]}),g.jsx("button",{onClick:u=>{u.preventDefault(),l(!a)},className:"ml-auto",children:g.jsx("svg",{className:`h-4 w-4 text-purple-400 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a&&g.jsxs("div",{className:"border-t border-purple-100 px-3 pb-3 pt-2",children:[r&&r.status!=="pending"&&g.jsx("div",{className:"mb-3 rounded-lg bg-white px-3 py-2",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.status==="completed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-green-600",children:""}),g.jsx("span",{className:"font-medium text-green-700",children:"Feito"})]}),r.status==="skipped"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-amber-600",children:""}),g.jsx("span",{className:"font-medium text-amber-700",children:"Pulado"})]}),r.status==="postponed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-blue-600",children:""}),g.jsx("span",{className:"font-medium text-blue-700",children:"Adiado"})]}),r.status==="missed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-red-600",children:""}),g.jsx("span",{className:"font-medium text-red-700",children:"Perdido"})]})]})}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("button",{onClick:()=>i(t.id,"completed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${r?.status==="completed"?"border-green-500 bg-green-50 text-green-700":"border-purple-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Feito"]}),g.jsxs("button",{onClick:()=>i(t.id,"skipped"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${r?.status==="skipped"?"border-amber-500 bg-amber-50 text-amber-700":"border-purple-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Pular"]}),g.jsxs("button",{onClick:()=>i(t.id,"postponed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${r?.status==="postponed"?"border-blue-500 bg-blue-50 text-blue-700":"border-purple-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Adiar"]})]})]})]})})}function xQ({isSupplementChecked:t,onToggle:e,checkedCount:n,getActivity:r,onSetActivity:i}){const a=qy.length,l=Math.round(n/a*100);return g.jsxs("div",{className:"rounded-xl border border-purple-200 bg-purple-50/50 p-4",children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsx("span",{className:"text-sm font-semibold text-purple-800",children:"Suplementos"})]}),g.jsxs("span",{className:"text-xs font-medium text-purple-600",children:[n,"/",a," (",l,"%)"]})]}),g.jsx("ul",{className:"space-y-2",children:qy.map(u=>g.jsx(bQ,{supplement:u,isChecked:t(u.id),onToggle:e,activityState:r(u.id),onSetActivity:i},u.id))})]})}const _Q=[200,300,500];function wQ({currentMl:t,targetLiters:e,onAdd:n}){const r=e*1e3,i=Math.min(Math.round(t/r*100),100),a=Math.max(0,r-t);return g.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"Agua"})]}),g.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[(t/1e3).toFixed(1),"L / ",e,"L"]})]}),g.jsx("div",{className:"mb-3 h-3 overflow-hidden rounded-full bg-blue-100",children:g.jsx("div",{className:"h-full rounded-full bg-blue-500 transition-all duration-500",style:{width:`${i}%`}})}),g.jsx("div",{className:"flex items-center justify-between gap-3",children:g.jsx("div",{className:"flex flex-1 gap-2",children:_Q.map(l=>g.jsxs("button",{onClick:()=>n(l),className:"flex-1 rounded-xl bg-blue-500 py-3 text-sm font-bold text-white shadow-sm transition-transform active:scale-95 active:bg-blue-600",children:["+",l]},l))})}),g.jsxs("div",{className:"mt-3 flex items-center justify-between px-1",children:[a>0?g.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Faltam ",(a/1e3).toFixed(1),"L para a meta"]}):g.jsx("span",{className:"text-xs font-bold text-emerald-600",children:" Meta atingida!"}),t>0&&g.jsx("button",{onClick:()=>n(-200),className:"text-xs font-medium text-blue-400 hover:text-blue-600 active:text-blue-700",children:"Desfazer (-200mL)"})]})]})}function EQ(){const t=sA(new Date),e=d0(),n=t.meals.reduce((u,d)=>u+d.foods.length,0),r=qy.length,i=n+r,a=e.totalFoodsChecked+e.totalSupplementsChecked,l=i===0?0:Math.round(a/i*100);return g.jsxs("div",{className:"space-y-4 pb-4",children:[g.jsx(yQ,{plan:t,overallPercent:l}),g.jsxs("section",{children:[g.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-lg font-bold text-gray-900",children:[g.jsx("span",{children:""})," Refeicoes (",t.meals.length,")"]}),g.jsxs("div",{className:"mb-4 flex flex-wrap gap-2 rounded-xl bg-gray-50 p-3 text-xs text-gray-500",children:[g.jsxs("span",{className:"flex items-center gap-1 rounded bg-white px-2 py-1 shadow-sm",children:[g.jsx("span",{className:"text-yellow-500",children:""})," Osso/Calcio"]}),g.jsxs("span",{className:"flex items-center gap-1 rounded bg-white px-2 py-1 shadow-sm",children:[g.jsx("span",{className:"text-red-500",children:""})," Cardio/Omega-3"]}),g.jsxs("span",{className:"flex items-center gap-1 rounded bg-white px-2 py-1 shadow-sm",children:[g.jsx("span",{className:"text-amber-500",children:""})," Baixo IG"]})]}),g.jsx("div",{className:"space-y-4",children:t.meals.map(u=>g.jsx(vQ,{meal:u,isFoodChecked:e.isFoodChecked,onToggleFood:e.toggleFood,progress:e.getMealProgress(u.id,u.foods.length),activityState:e.getMealActivity(u.id),onSetActivity:e.setMealActivity},u.id))})]}),g.jsx("section",{children:g.jsx(xQ,{isSupplementChecked:e.isSupplementChecked,onToggle:e.toggleSupplement,checkedCount:e.totalSupplementsChecked,getActivity:e.getSupplementActivity,onSetActivity:e.setSupplementActivity})}),g.jsx("section",{children:g.jsx(wQ,{currentMl:e.progress.waterMl,targetLiters:t.waterLiters,onAdd:e.addWater})})]})}function SQ({date:t,isToday:e}){const n=Mh(t),r=sA(t),i=d0(n),a=r.meals.reduce((v,_)=>v+_.foods.length,0),l=qy.length,u=a+l,d=i.totalFoodsChecked+i.totalSupplementsChecked,f=u===0?0:Math.round(d/u*100),m=Math.min(Math.round(i.progress.waterMl/(r.waterLiters*1e3)*100),100),p=r.dayType==="training";return g.jsxs("div",{className:`rounded-2xl border p-4 transition-all ${e?"border-primary-400 bg-primary-50 ring-4 ring-primary-100":"border-gray-200 bg-white hover:border-gray-300"}`,children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-base font-bold text-gray-900",children:r.shortLabel}),e&&g.jsx("span",{className:"rounded-full bg-primary-600 px-2 py-0.5 text-[10px] font-bold text-white shadow-sm",children:"HOJE"})]}),g.jsx("div",{className:"mt-1 flex items-center gap-2",children:g.jsx("span",{className:`flex items-center gap-1.5 rounded-md px-2 py-0.5 text-xs font-semibold ${p?"bg-orange-100 text-orange-700":"bg-sky-100 text-sky-700"}`,children:p?" Treino":" Descanso"})})]}),g.jsx(oA,{percent:f,size:52,strokeWidth:5,label:`${f}%`})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-center",children:[g.jsxs("div",{className:"rounded-xl bg-gray-50 p-2",children:[g.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[i.totalFoodsChecked,g.jsx("span",{className:"text-gray-400",children:"/"}),a]}),g.jsx("div",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide",children:"Refeic."})]}),g.jsxs("div",{className:"rounded-xl bg-purple-50 p-2",children:[g.jsxs("div",{className:"text-sm font-bold text-purple-700",children:[i.totalSupplementsChecked,g.jsx("span",{className:"text-purple-300",children:"/"}),l]}),g.jsx("div",{className:"text-[10px] font-medium text-purple-600 uppercase tracking-wide",children:"Suplem."})]}),g.jsxs("div",{className:"rounded-xl bg-blue-50 p-2",children:[g.jsxs("div",{className:"text-sm font-bold text-blue-700",children:[m,"%"]}),g.jsx("div",{className:"text-[10px] font-medium text-blue-600 uppercase tracking-wide",children:"Agua"})]})]})]})}function AQ(){const t=new Date,e=mQ(t),n=VL.reduce((r,i)=>({kcal:r.kcal+i.targets.kcal,protein:r.protein+i.targets.protein}),{kcal:0,protein:0});return g.jsxs("div",{className:"space-y-4 pb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-on-surface",children:"Semana"}),g.jsxs("p",{className:"mt-1 text-xs text-on-surface-muted",children:["Meta semanal: ",n.kcal.toLocaleString()," kcal  ",n.protein,"g proteina"]})]}),g.jsx("div",{className:"grid gap-3",children:e.map(r=>g.jsx(SQ,{date:r,isToday:pQ(r,t)},Mh(r)))}),g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsx("h3",{className:"mb-2 text-sm font-semibold text-on-surface",children:"Legenda"}),g.jsxs("div",{className:"space-y-1 text-xs text-on-surface-muted",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-orange-400"}),g.jsx("span",{children:"Dia de Treino (4x/sem)  2,450 kcal"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-sky-400"}),g.jsx("span",{children:"Dia de Descanso (3x/sem)  2,100 kcal"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Osteoprotecao"}),g.jsx("span",{children:""}),g.jsx("span",{children:"Cardioprotecao (HDL)"}),g.jsx("span",{children:""}),g.jsx("span",{children:"LOW GI"})]})]})]})]})}const Bc=[{id:"proteinas",name:"Proteinas",icon:"",color:"text-red-800",bgColor:"bg-red-50/50",borderColor:"border-red-200",accentColor:"accent-red-500",items:[{id:"p1",name:"Peito de frango",amount:1.5,unit:"kg",costMin:25,costMax:35,note:"Proteina magra principal"},{id:"p2",name:"Ovos (bandeja 30)",amount:30,unit:"un",costMin:20,costMax:28,note:"3/dia = 21/sem + extras"},{id:"p3",name:"Sardinha em lata (azeite)",amount:3,unit:"latas",costMin:18,costMax:24,note:"Calcio + omega-3 + vit D"},{id:"p4",name:"Carne moida (patinho)",amount:500,unit:"g",costMin:20,costMax:25,note:"Ferro heme + B12"},{id:"p5",name:"Alcatra",amount:300,unit:"g",costMin:25,costMax:30,note:"Variacao carne vermelha"},{id:"p6",name:"Tilapia/merluza (file)",amount:300,unit:"g",costMin:15,costMax:20,note:"Peixe branco magro"},{id:"p7",name:"Salmao",amount:200,unit:"g",costMin:20,costMax:30,note:"Omega-3 premium (1x/sem)"},{id:"p8",name:"Iogurte natural integral",amount:2,unit:"potes",costMin:16,costMax:24,note:"Probiotico + calcio diario"},{id:"p9",name:"Leite integral",amount:3,unit:"L",costMin:15,costMax:20,note:"Calcio diario"},{id:"p10",name:"Queijo minas frescal",amount:300,unit:"g",costMin:12,costMax:18,note:"Calcio + proteina"},{id:"p11",name:"Ricota",amount:200,unit:"g",costMin:8,costMax:12,note:"Variacao de laticinios"}]},{id:"carboidratos",name:"Carboidratos",icon:"",color:"text-amber-800",bgColor:"bg-amber-50/50",borderColor:"border-amber-200",accentColor:"accent-amber-500",items:[{id:"c1",name:"Arroz integral",amount:1,unit:"kg",costMin:8,costMax:12,note:"Base de carbo LOW GI"},{id:"c2",name:"Pao integral (forma)",amount:2,unit:"pct",costMin:14,costMax:20,note:"Pratico, fibras"},{id:"c3",name:"Aveia em flocos",amount:500,unit:"g",costMin:6,costMax:10,note:"Beta-glucana, cafe, lanches"},{id:"c4",name:"Batata-doce",amount:1,unit:"kg",costMin:5,costMax:8,note:"Carbo complexo, versatil"},{id:"c5",name:"Mandioquinha",amount:300,unit:"g",costMin:4,costMax:6,note:"Variacao de carbo"},{id:"c6",name:"Feijao carioca",amount:500,unit:"g",costMin:5,costMax:7,note:"Fibra + proteina vegetal"},{id:"c7",name:"Lentilha",amount:300,unit:"g",costMin:6,costMax:8,note:"Variacao de leguminosa"},{id:"c8",name:"Grao-de-bico",amount:300,unit:"g",costMin:6,costMax:8,note:"Variacao de leguminosa"},{id:"c9",name:"Tapioca (goma)",amount:500,unit:"g",costMin:5,costMax:8,note:"Opcao sem gluten"},{id:"c10",name:"Granola sem acucar",amount:200,unit:"g",costMin:8,costMax:12,note:"Variacao no lanche"}]},{id:"frutas",name:"Frutas",icon:"",color:"text-pink-800",bgColor:"bg-pink-50/50",borderColor:"border-pink-200",accentColor:"accent-pink-500",items:[{id:"f1",name:"Banana (cacho)",amount:12,unit:"un",costMin:6,costMax:10},{id:"f2",name:"Maca",amount:3,unit:"un",costMin:5,costMax:8},{id:"f3",name:"Laranja",amount:3,unit:"un",costMin:3,costMax:5},{id:"f4",name:"Mamao papaya",amount:1,unit:"un",costMin:4,costMax:7},{id:"f5",name:"Morango (bandeja)",amount:1,unit:"bdj",costMin:6,costMax:10},{id:"f6",name:"Kiwi",amount:2,unit:"un",costMin:4,costMax:6},{id:"f7",name:"Pera",amount:2,unit:"un",costMin:4,costMax:6},{id:"f8",name:"Abacate",amount:2,unit:"un",costMin:4,costMax:8},{id:"f9",name:"Manga",amount:1,unit:"un",costMin:3,costMax:5},{id:"f10",name:"Limao",amount:5,unit:"un",costMin:2,costMax:3}]},{id:"vegetais",name:"Vegetais e Verduras",icon:"",color:"text-emerald-800",bgColor:"bg-emerald-50/50",borderColor:"border-emerald-200",accentColor:"accent-emerald-500",items:[{id:"v1",name:"Brocolis",amount:500,unit:"g",costMin:8,costMax:12},{id:"v2",name:"Couve (maco)",amount:2,unit:"macos",costMin:4,costMax:6},{id:"v3",name:"Espinafre",amount:200,unit:"g",costMin:4,costMax:6},{id:"v4",name:"Cenoura",amount:500,unit:"g",costMin:3,costMax:5},{id:"v5",name:"Tomate",amount:1,unit:"kg",costMin:6,costMax:10},{id:"v6",name:"Alface",amount:2,unit:"pes",costMin:4,costMax:6},{id:"v7",name:"Rucula",amount:1,unit:"maco",costMin:3,costMax:5},{id:"v8",name:"Pepino",amount:3,unit:"un",costMin:3,costMax:5},{id:"v9",name:"Vagem",amount:200,unit:"g",costMin:4,costMax:6},{id:"v10",name:"Abobrinha",amount:2,unit:"un",costMin:3,costMax:5},{id:"v11",name:"Abobora cabotia",amount:500,unit:"g",costMin:3,costMax:5},{id:"v12",name:"Beterraba",amount:300,unit:"g",costMin:3,costMax:4},{id:"v13",name:"Cebola",amount:500,unit:"g",costMin:3,costMax:5},{id:"v14",name:"Alho",amount:2,unit:"cab",costMin:3,costMax:5}]},{id:"gorduras",name:"Gorduras e Oleaginosas",icon:"",color:"text-yellow-800",bgColor:"bg-yellow-50/50",borderColor:"border-yellow-200",accentColor:"accent-yellow-600",items:[{id:"g1",name:"Azeite extra virgem",amount:170,unit:"mL",costMin:10,costMax:15,note:"500mL rende ~3 sem"},{id:"g2",name:"Pasta de amendoim sem acucar",amount:170,unit:"g",costMin:6,costMax:8,note:"500g rende ~3 sem"},{id:"g3",name:"Castanha-do-para",amount:50,unit:"g",costMin:5,costMax:8},{id:"g4",name:"Castanha de caju",amount:50,unit:"g",costMin:5,costMax:8},{id:"g5",name:"Amendoas",amount:50,unit:"g",costMin:5,costMax:8},{id:"g6",name:"Nozes",amount:30,unit:"g",costMin:4,costMax:6},{id:"g7",name:"Semente de linhaca",amount:100,unit:"g",costMin:3,costMax:5},{id:"g8",name:"Semente de chia",amount:50,unit:"g",costMin:4,costMax:6},{id:"g9",name:"Uva-passa/damasco seco",amount:50,unit:"g",costMin:3,costMax:5}]},{id:"temperos",name:"Temperos e Outros",icon:"",color:"text-stone-800",bgColor:"bg-stone-50/50",borderColor:"border-stone-200",accentColor:"accent-stone-500",items:[{id:"t1",name:"Mel",amount:250,unit:"g",costMin:3,costMax:5,note:"Dura ~1 mes"},{id:"t2",name:"Canela em po",amount:30,unit:"g",costMin:1,costMax:2,note:"Beneficio insulinico"},{id:"t3",name:"Cacau em po",amount:50,unit:"g",costMin:2,costMax:3,note:"Flavonoides, HDL"},{id:"t4",name:"Oregano, pimenta, salsinha",amount:1,unit:"kit",costMin:3,costMax:5,note:"Temperos naturais"},{id:"t5",name:"Cafe em po",amount:250,unit:"g",costMin:5,costMax:8,note:"Cafeina = performance"}]}],TQ=(t,e)=>`${t}${e}`,zL=t=>t.items.reduce((e,n)=>({min:e.min+n.costMin,max:e.max+n.costMax}),{min:0,max:0}),CQ=()=>Bc.reduce((t,e)=>{const n=zL(e);return{min:t.min+n.min,max:t.max+n.max}},{min:0,max:0}),zc=(t,e)=>Math.max(0,t-e),Ff={weekKey:"",inventory:{},bought:[]},IQ=()=>{const t=new Date,e=new Date(t);return e.setDate(t.getDate()-t.getDay()),e.toISOString().slice(0,10)};function OQ(){const t=IQ(),[e,n]=gm(`shopping_${t}`,{...Ff,weekKey:t}),r=e.weekKey===t?e:{...Ff,weekKey:t},i=w.useCallback((E,S)=>{n(A=>{const C=A.weekKey===t?A:{...Ff,weekKey:t};return{...C,inventory:{...C.inventory,[E]:Math.max(0,S)}}})},[n,t]),a=w.useCallback(E=>r.inventory[E]??0,[r.inventory]),l=w.useCallback(E=>{n(S=>{const A=S.weekKey===t?S:{...Ff,weekKey:t},C=A.bought.includes(E);return{...A,bought:C?A.bought.filter(N=>N!==E):[...A.bought,E]}})},[n,t]),u=w.useCallback(E=>r.bought.includes(E),[r.bought]),d=w.useCallback((E,S)=>{const A=r.inventory[E]??0;return zc(S,A)>0},[r.inventory]),f=Bc.reduce((E,S)=>{const A=S.items.filter(C=>{const N=r.inventory[C.id]??0;return zc(C.amount,N)>0}).length;return E+A},0),m=r.bought.length,p=Bc.reduce((E,S)=>E+S.items.length,0),v=Bc.reduce((E,S)=>{const A=S.items.filter(C=>{const N=r.inventory[C.id]??0;return zc(C.amount,N)===0||r.bought.includes(C.id)}).length;return E+A},0),_=w.useCallback(()=>{n({...Ff,weekKey:t})},[n,t]);return{progress:r,setInventory:i,getInventory:a,toggleBought:l,isBought:u,needsToBuy:d,totalItemsToBuy:f,totalItemsBought:m,totalItems:p,itemsCovered:v,resetAll:_}}function NQ({item:t,inventory:e,bought:n,accentColor:r,onSetInventory:i,onToggleBought:a}){const l=zc(t.amount,e),u=l===0,d=u||n,f=()=>i(t.id,(e||0)+1),m=()=>i(t.id,Math.max(0,(e||0)-1));return g.jsx("li",{className:`rounded-xl border border-transparent px-3 py-3 transition-colors ${d?"bg-primary-50/30":"bg-white hover:border-gray-100"}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[!u&&g.jsx("input",{type:"checkbox",checked:n,onChange:()=>a(t.id),className:`mt-0.5 h-6 w-6 shrink-0 rounded border-gray-300 ${r} focus:ring-opacity-50`}),u&&g.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-emerald-100 text-emerald-600",children:""}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:`block text-sm font-medium ${d?"text-gray-400 line-through":"text-gray-900"}`,children:t.name}),t.note&&g.jsx("p",{className:"mt-0.5 text-xs text-gray-500",children:t.note})]}),!u&&g.jsx("span",{className:"shrink-0 rounded bg-orange-50 px-2 py-1 text-xs font-bold text-orange-700",children:TQ(l,t.unit)}),u&&g.jsx("span",{className:"shrink-0 text-xs font-medium text-emerald-600",children:"OK"})]}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-gray-50 p-1",children:[g.jsx("span",{className:"pl-1 text-[10px] font-bold uppercase text-gray-400",children:"Tenho:"}),g.jsx("button",{onClick:m,className:"flex h-8 w-8 items-center justify-center rounded-md bg-white text-gray-500 shadow-sm active:bg-gray-100",children:"-"}),g.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 shadow-sm rounded-md h-8 border border-gray-100",children:[g.jsx("input",{type:"number",min:0,step:"any",value:e||"",placeholder:"0",onChange:p=>i(t.id,parseFloat(p.target.value)||0),className:"w-10 text-center text-sm font-bold text-gray-900 focus:outline-none"}),g.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:t.unit})]}),g.jsx("button",{onClick:f,className:"flex h-8 w-8 items-center justify-center rounded-md bg-white text-gray-500 shadow-sm active:bg-gray-100",children:"+"})]}),g.jsxs("div",{className:"text-right text-[10px] text-gray-400",children:["R$",t.costMin,"-",t.costMax]})]})]})]})})}function PQ({category:t,getInventory:e,onSetInventory:n,isBought:r,onToggleBought:i}){const[a,l]=w.useState(!0),u=t.items.filter(v=>{const _=e(v.id);return zc(v.amount,_)===0||r(v.id)}).length,d=t.items.length,f=Math.round(u/d*100),m=zL(t),p=u===d;return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${p?"border-primary-200 bg-primary-50/50":`${t.borderColor} ${t.bgColor}`}`,children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx("span",{className:"text-xl",children:t.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`text-sm font-semibold ${t.color}`,children:t.name}),g.jsxs("div",{className:"mt-0.5 text-[10px] text-on-surface-muted",children:["R$",m.min,"-",m.max]})]}),g.jsxs("span",{className:`text-xs font-medium ${t.color}`,children:[u,"/",d," (",f,"%)"]}),g.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-transform ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&g.jsx("div",{className:"border-t border-gray-100 px-4 pb-4 pt-2",children:g.jsx("ul",{className:"space-y-1",children:t.items.map(v=>g.jsx(NQ,{item:v,inventory:e(v.id),bought:r(v.id),accentColor:t.accentColor,onSetInventory:n,onToggleBought:i},v.id))})})]})}function jQ(t,e){const n=[];for(const r of Bc)for(const i of r.items){const a=t(i.id),l=zc(i.amount,a);l>0&&!e(i.id)&&n.push(`${i.name};${l}${i.unit}`)}return n.join(`
`)}function RQ(){const t=OQ(),e=CQ(),[n,r]=w.useState(!1),i=t.totalItems===0?0:Math.round(t.itemsCovered/t.totalItems*100),a=w.useCallback(async()=>{const l=jQ(t.getInventory,t.isBought);if(l)try{await navigator.clipboard.writeText(l),r(!0),setTimeout(()=>r(!1),2e3)}catch{const u=document.createElement("textarea");u.value=l,document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),r(!0),setTimeout(()=>r(!1),2e3)}},[t.getInventory,t.isBought]);return g.jsxs("div",{className:"space-y-4 pb-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Compras"}),g.jsxs("p",{className:"mt-0.5 text-sm text-gray-500",children:["R$",e.min,"-",e.max," estim."]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:a,className:`flex h-10 items-center gap-2 rounded-xl px-4 text-sm font-semibold transition-all active:scale-95 ${n?"bg-emerald-100 text-emerald-700":"bg-surface-alt text-gray-700 hover:bg-gray-200"}`,children:n?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-lg",children:""})," Copiado"]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-lg",children:""})," Exportar"]})}),g.jsx("div",{className:"flex flex-col items-center",children:g.jsx(oA,{percent:i,size:48,strokeWidth:4,label:`${i}%`})})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{className:"flex flex-col items-center rounded-xl bg-orange-50 p-3 text-center ring-1 ring-orange-100",children:[g.jsx("span",{className:"text-2xl font-bold text-orange-700",children:t.totalItemsToBuy}),g.jsx("span",{className:"text-xs font-medium text-orange-600",children:"a comprar"})]}),g.jsxs("div",{className:"flex flex-col items-center rounded-xl bg-blue-50 p-3 text-center ring-1 ring-blue-100",children:[g.jsx("span",{className:"text-2xl font-bold text-blue-700",children:t.totalItemsBought}),g.jsx("span",{className:"text-xs font-medium text-blue-600",children:"carrinho"})]}),g.jsxs("div",{className:"flex flex-col items-center rounded-xl bg-emerald-50 p-3 text-center ring-1 ring-emerald-100",children:[g.jsx("span",{className:"text-2xl font-bold text-emerald-700",children:t.itemsCovered}),g.jsx("span",{className:"text-xs font-medium text-emerald-600",children:"em casa"})]})]}),g.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-gray-50 px-4 py-3",children:[g.jsx("span",{className:"text-xs font-medium text-gray-500",children:' Marque o que voc j tem em "Tenho"'}),(t.totalItemsBought>0||Object.keys(t.progress.inventory).length>0)&&g.jsx("button",{onClick:t.resetAll,className:"text-xs font-bold text-red-500 transition-colors hover:text-red-700 active:text-red-800",children:"Limpar tudo"})]}),g.jsx("div",{className:"space-y-3",children:Bc.map(l=>g.jsx(PQ,{category:l,getInventory:t.getInventory,onSetInventory:t.setInventory,isBought:t.isBought,onToggleBought:t.toggleBought},l.id))}),g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsx("h3",{className:"mb-2 text-sm font-semibold text-on-surface",children:"Dicas de Economia"}),g.jsxs("ul",{className:"space-y-1 text-xs text-on-surface-muted",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Compre frutas e verduras na feira (20-30% mais barato)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Frango inteiro e desossar em casa economiza R$40-60/mes"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Leguminosas secas em atacado sao mais baratas"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Prefira frutas da estacao (mais baratas e saborosas)"})]})]})]})]})}const Oi={date:"",mesocycle:1,checkedWarmup:[],checkedExercises:[],checkedCooldown:[],checkedCorrectivos:[],lissCompleted:!1,notes:"",setLogs:{},startedAt:null,endedAt:null,isActive:!1},DQ=t=>`training_${t}`,Qa=t=>({...Oi,...t,setLogs:t.setLogs??t.customLoads??{}});function kQ(t){const e=BL(),[n,r]=gm(DQ(e),{...Oi,date:e}),i=n.date===e?Qa(n):{...Oi,date:e},a=w.useCallback(()=>{r(N=>{const j=N.date===e?Qa(N):{...Oi,date:e};return j.isActive?j:{...j,startedAt:Date.now(),endedAt:null,isActive:!0}})},[r,e]),l=w.useCallback(()=>{r(N=>{const j=N.date===e?Qa(N):{...Oi,date:e};return j.isActive?{...j,endedAt:Date.now(),isActive:!1}:j})},[r,e]),u=w.useCallback(N=>{r(j=>{const D=j.date===e?Qa(j):{...Oi,date:e},V=D.checkedWarmup.includes(N);return{...D,checkedWarmup:V?D.checkedWarmup.filter(M=>M!==N):[...D.checkedWarmup,N]}})},[r,e]),d=w.useCallback(N=>{r(j=>{const D=j.date===e?Qa(j):{...Oi,date:e},V=D.checkedExercises.includes(N);return{...D,checkedExercises:V?D.checkedExercises.filter(M=>M!==N):[...D.checkedExercises,N]}})},[r,e]),f=w.useCallback(N=>{r(j=>{const D=j.date===e?Qa(j):{...Oi,date:e},V=D.checkedCooldown.includes(N);return{...D,checkedCooldown:V?D.checkedCooldown.filter(M=>M!==N):[...D.checkedCooldown,N]}})},[r,e]),m=w.useCallback(N=>{r(j=>{const D=j.date===e?Qa(j):{...Oi,date:e},V=D.checkedCorrectivos.includes(N);return{...D,checkedCorrectivos:V?D.checkedCorrectivos.filter(M=>M!==N):[...D.checkedCorrectivos,N]}})},[r,e]),p=w.useCallback(()=>{r(N=>{const j=N.date===e?Qa(N):{...Oi,date:e};return{...j,lissCompleted:!j.lissCompleted}})},[r,e]),v=w.useCallback((N,j)=>{r(D=>{const V=D.date===e?Qa(D):{...Oi,date:e},M=j.reps||j.load,P={...V.setLogs};return M?P[N]=j:delete P[N],{...V,setLogs:P}})},[r,e]),_=w.useCallback(N=>i.setLogs[N]??{},[i.setLogs]),E=w.useCallback(N=>i.checkedWarmup.includes(N),[i.checkedWarmup]),S=w.useCallback(N=>i.checkedExercises.includes(N),[i.checkedExercises]),A=w.useCallback(N=>i.checkedCooldown.includes(N),[i.checkedCooldown]),C=w.useCallback(N=>i.checkedCorrectivos.includes(N),[i.checkedCorrectivos]);return{progress:i,startSession:a,endSession:l,toggleWarmup:u,toggleExercise:d,toggleCooldown:f,toggleCorrective:m,toggleLiss:p,setSetLog:v,getSetLog:_,isWarmupChecked:E,isExerciseChecked:S,isCooldownChecked:A,isCorrectiveChecked:C}}function MQ(){const[t,e]=gm("mesocycle",1),n=w.useCallback(r=>e(r),[e]);return{mesocycle:t,changeMesocycle:n}}const Cg=[{id:"w1",phase:"Liberacao Miofascial",name:"Foam roller coluna toracica (T4 e T6)",prescription:"1x30s cada nivel",minutes:2},{id:"w2",phase:"Mobilidade Toracica",name:"Cat-Cow (enfase na extensao)",prescription:"1x10 reps lentas",minutes:1.5},{id:"w3",phase:"Mobilidade Toracica",name:"Open Book (rotacao toracica)",prescription:"1x8 cada lado",minutes:2},{id:"w4",phase:"Alongamento Dinamico",name:"Along. flexores de quadril (semi-ajoelhado)",prescription:"1x30s cada lado",minutes:1.5},{id:"w5",phase:"Alongamento Dinamico",name:"Along. peitoral na porta",prescription:"1x20s cada angulo (45 e 90)",minutes:1},{id:"w6",phase:"Ativacao Core",name:"Dead Bug",prescription:"2x6 cada lado",minutes:2},{id:"w7",phase:"Ativacao Core",name:"Bird-Dog",prescription:"2x6 cada lado",minutes:2},{id:"w8",phase:"Ativacao Escapular",name:"Band Pull-Aparts",prescription:"2x15",minutes:1},{id:"w9",phase:"Ativacao Escapular",name:"Face Pulls (carga leve)",prescription:"2x12",minutes:1}],nj=[{id:"cu1",name:"Along. peitoral na porta (2 angulos)",prescription:"2x30s"},{id:"cu2",name:"Along. trapezio superior/levantador escapula",prescription:"2x30s cada lado"},{id:"cu3",name:"Chin Tucks (retracao cervical)",prescription:"10 reps x 5s"},{id:"cu4",name:"Respiracao diafragmatica",prescription:"1 min"}],LQ=[{id:"cla1",name:"Along. flexores de quadril (semi-ajoelhado)",prescription:"2x30s cada lado"},{id:"cla2",name:"Foam roller quadriceps + IT band",prescription:"1 min cada perna"},{id:"cla3",name:"Respiracao diafragmatica",prescription:"1 min"}],VQ=[{id:"clb1",name:"Along. flexores de quadril (semi-ajoelhado)",prescription:"2x30s cada lado"},{id:"clb2",name:"Along. isquiotibiais (pe no banco)",prescription:"2x30s cada perna"},{id:"clb3",name:"Foam roller coluna toracica (extensao passiva)",prescription:"2x30s"},{id:"clb4",name:"Respiracao diafragmatica",prescription:"1 min"}],UL=[{id:"dc1",name:"Chin Tucks",frequency:"Diario",when:"A cada hora sentado"},{id:"dc2",name:"Band Pull-Aparts",frequency:"Diario",when:"2-3x pausa no trabalho"},{id:"dc3",name:"Along. peitoral porta",frequency:"Diario",when:"Pos-treino ou pausas"},{id:"dc4",name:"Along. flexores quadril",frequency:"Diario",when:"Pre-treino ou pausas"},{id:"dc5",name:"Along. trapezio superior",frequency:"Diario",when:"Pausas no trabalho"},{id:"dc6",name:"Foam roller toracica",frequency:"4-5x/semana",when:"Pos-treino ou noite"}],_e=(t,e,n,r,i)=>[{sets:t,reps:e,load:n,rest:r,rir:i}],BQ=[{id:"ua1",name:"Supino Reto c/ Halteres",category:"main",muscles:"Peitoral, deltoide ant., triceps",sets:_e(3,"12-15","8kg cada","90s","3-4"),cues:["Cotovelos a 45","Escapulas retraidas","Arco toracico MINIMO","Descer 3s"],safety:"Se dor em T6-T8  PARAR"},{id:"ua2",name:"Lat Pulldown (Puxada Alta)",category:"main",muscles:"Dorsal, romboides, biceps",sets:_e(3,"12-15","25kg","90s","3-4"),cues:["Puxar ATE O PEITO","Iniciar com cotovelos","Apertar escapulas 1s","Subir 3s"]},{id:"ua3",name:"Desenvolvimento Sentado c/ Apoio",category:"main",muscles:"Deltoide ant./medio, triceps",sets:_e(3,"12-15","5kg cada","75s","3-4"),cues:["Banco 75-80","Costas COLADAS no encosto","Nao travar cotovelos","Chin tuck"],safety:"Se lombar desgrudar  carga ALTA"},{id:"ua4",name:"Face Pulls",category:"accessory",muscles:"Trapezio medio/inf., rotadores ext.",sets:_e(3,"15-20","10kg","60s","2-3"),cues:["Cabo na altura dos olhos","Abrir cotovelos","Apertar escapulas 2s"]},{id:"ua5",name:"Rosca Direta Halteres (Alternada)",category:"accessory",muscles:"Biceps",sets:_e(3,"12-15 cada","6kg cada","60s","3-4"),cues:["Iniciar pelo E (mais fraco)","Cotovelo FIXO","Descer 3s"]},{id:"ua6",name:"Prancha Frontal",category:"corrective",muscles:"Core (isometrico)",sets:_e(3,"20-30s","Corporal","45s","-"),cues:["Corpo em linha reta","Gluteos ATIVOS","Respirar normalmente"]}],zQ=[{id:"la1",name:"Leg Press 45",category:"main",muscles:"Quadriceps, gluteos, posteriores",sets:_e(3,"12-15","60kg","120s","3-4"),cues:["Costas COLADAS no encosto","Joelhos ~90","Nao travar joelhos","Pes largura ombros"],safety:"Se lombar descolar  reduzir amplitude"},{id:"la2",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"10-12 cada","6kg cada","90s","3-4"),cues:["Tronco ~15-20 a frente","Joelho alinhado com pe","Iniciar pela E","Empurrar com calcanhar"]},{id:"la3",name:"Hip Thrust",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(3,"12-15","20kg","90s","3-4"),cues:["Costas no banco (escapulas)","Joelhos 90 no topo","Contrair GLUTEOS","Queixo tucked"]},{id:"la4",name:"Cadeira Extensora",category:"accessory",muscles:"Quadriceps (isolado)",sets:_e(3,"12-15","20kg","60s","3-4"),cues:["Pad acima do tornozelo","Apertar quad 1s no topo","Descer 3s"]},{id:"la5",name:"Cadeira Flexora",category:"accessory",muscles:"Isquiotibiais (isolado)",sets:_e(3,"12-15","15kg","60s","3-4"),cues:["Quadris alinhados eixo maquina","Apertar 1s no topo","Sem momentum"]},{id:"la6",name:"Pallof Press",category:"corrective",muscles:"Core anti-rotacao",sets:_e(3,"10 (5s) cada","5kg","45s","-"),cues:["Semi-ajoelhado","Empurrar maos a frente","Tronco IMOVEL"]}],UQ=[{id:"ub1",name:"Chest-Supported Row",category:"main",muscles:"Romboides, trapezio, dorsal, biceps",sets:_e(3,"12-15","12kg cada","90s","3-4"),cues:["Banco 30-45","Peito no banco SEMPRE","Puxar p/ quadril","Escapulas 2s"]},{id:"ub2",name:"Supino Inclinado c/ Halteres",category:"main",muscles:"Peitoral superior, deltoide, triceps",sets:_e(3,"12-15","7kg cada","90s","3-4"),cues:["Banco a 30","Cotovelos a 45","Escapulas retraidas"]},{id:"ub3",name:"Cable Row Sentado",category:"main",muscles:"Dorsal, romboides, trapezio, biceps",sets:_e(3,"12-15","25kg","90s","3-4"),cues:["Costas RETAS","Puxar para abdomen baixo","Cotovelos colados","NAO inclinar a frente"]},{id:"ub4",name:"Elevacao Lateral Sentado",category:"accessory",muscles:"Deltoide medio",sets:_e(3,"12-15","4kg cada","60s","3-4"),cues:["Levantar ate ~80-90","Cotovelos levemente flexionados","NAO encolher ombros"]},{id:"ub5",name:"Triceps Corda no Cross",category:"accessory",muscles:"Triceps",sets:_e(3,"12-15","10kg","60s","3-4"),cues:["Cotovelos FIXOS ao corpo","Abrir corda no final","Subir 3s"]},{id:"ub6",name:"Band Pull-Aparts",category:"corrective",muscles:"Retracao escapular",sets:_e(3,"20","Elastico leve","30s","-"),cues:["Bracos estendidos","Esticar ate tocar peito","Escapulas 2s","Ombros ABAIXADOS"]}],qQ=[{id:"lb1",name:"Hip Thrust (Primario)",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(3,"12-15","25kg","120s","3-4"),cues:["Exercicio #1 = mais energia","Mesmo protocolo Lower A"]},{id:"lb2",name:"RDL com Halteres",category:"main",muscles:"Isquiotibiais, gluteos, eretores",sets:_e(3,"10-12","10kg cada","90s","3-4"),cues:["Joelhos LEVEMENTE flexionados","Empurrar quadril para TRAS","Coluna NEUTRA sempre","Descer ate joelhos"],safety:"TETO: 30kg total. Se lombar arredondar  PARAR"},{id:"lb3",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"10-12 cada","6kg cada","90s","3-4"),cues:["Mesmo protocolo Lower A"]},{id:"lb4",name:"Pull-Through com Cabo",category:"accessory",muscles:"Gluteos, isquiotibiais",sets:_e(3,"12-15","15kg","60s","3-4"),cues:["De costas p/ cabo baixo","Hip hinge","Squeeze gluteos 2s no topo"]},{id:"lb5",name:"Panturrilha no Leg Press",category:"accessory",muscles:"Gastrocnemio, soleo",sets:_e(3,"15-20","40kg","45s","2-3"),cues:["Ponta dos pes na plataforma","Amplitude COMPLETA","Descer 3s"]},{id:"lb6",name:"Dead Bug (Core)",category:"corrective",muscles:"Core anti-extensao",sets:_e(3,"8 cada lado","Corporal","45s","-"),cues:["Lombar COLADA no chao","Estender oposto brao/perna","Respirar normalmente"]}],FQ=[{id:"ua1",name:"Supino Reto c/ Halteres",category:"main",muscles:"Peitoral, deltoide ant., triceps",sets:_e(4,"8-12","10-12kg cada","90s","2-3"),cues:["Cotovelos a 45","Escapulas retraidas","Arco toracico MINIMO"]},{id:"ua2",name:"Lat Pulldown",category:"main",muscles:"Dorsal, romboides, biceps",sets:_e(4,"8-12","30-35kg","90s","2-3"),cues:["Puxar ATE O PEITO","Apertar escapulas 1s"]},{id:"ua3",name:"Desenvolvimento Sentado c/ Apoio",category:"main",muscles:"Deltoide ant./medio, triceps",sets:_e(3,"8-12","7-8kg cada","75s","2-3"),cues:["Banco 75-80","Costas COLADAS"]},{id:"ua4",name:"Face Pulls",category:"accessory",muscles:"Trapezio medio/inf., rotadores ext.",sets:_e(3,"15-20","12-15kg","60s","2-3"),cues:["Apertar escapulas 2s"]},{id:"ua5",name:"Rosca Direta Halteres (Alternada)",category:"accessory",muscles:"Biceps",sets:_e(3,"8-12","8kg cada","60s","2-3"),cues:["Iniciar pelo E","Descer 3s"]},{id:"ua7",name:"Triceps Testa c/ Barra W",category:"accessory",muscles:"Triceps (cabeca longa)",sets:_e(3,"8-12","12kg","60s","2-3"),cues:["Descer barra em direcao a TESTA","Cotovelos FIXOS","Descer 3s"],isNew:!0},{id:"ua6",name:"Prancha Frontal",category:"corrective",muscles:"Core (isometrico)",sets:_e(3,"30-45s","Corporal","45s","-"),cues:["Gluteos ATIVOS","Respirar normalmente"]}],$Q=[{id:"la1",name:"Leg Press 45",category:"main",muscles:"Quadriceps, gluteos, posteriores",sets:_e(4,"8-12","80-90kg","120s","2-3"),cues:["Costas COLADAS","Joelhos ~90"]},{id:"la2",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"8-12 cada","8-10kg cada","90s","2-3"),cues:["Iniciar pela E","Empurrar com calcanhar"]},{id:"la3",name:"Hip Thrust",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(4,"8-12","35-40kg","90s","2-3"),cues:["Contrair GLUTEOS","Descer 3s"]},{id:"la4",name:"Cadeira Extensora",category:"accessory",muscles:"Quadriceps (isolado)",sets:_e(3,"10-12","25-30kg","60s","2-3"),cues:["Apertar quad 1s no topo"]},{id:"la5",name:"Cadeira Flexora",category:"accessory",muscles:"Isquiotibiais (isolado)",sets:_e(3,"10-12","20-25kg","60s","2-3"),cues:["Sem momentum"]},{id:"la6",name:"Pallof Press",category:"corrective",muscles:"Core anti-rotacao",sets:_e(3,"10 (5s) cada","7-8kg","45s","-"),cues:["Tronco IMOVEL"]},{id:"la7",name:"Farmer's Walk",category:"accessory",muscles:"Core integrado, grip, ombros",sets:_e(3,"30m","16-20kg cada","60s","-"),cues:["Postura ERETA","Core ativado","Passos curtos"],isNew:!0}],HQ=[{id:"ub1",name:"Chest-Supported Row",category:"main",muscles:"Romboides, trapezio, dorsal, biceps",sets:_e(4,"8-12","14-16kg cada","90s","2-3"),cues:["Peito no banco SEMPRE","Escapulas 2s"]},{id:"ub2",name:"Supino Inclinado c/ Halteres",category:"main",muscles:"Peitoral superior, deltoide, triceps",sets:_e(4,"8-12","10-12kg cada","90s","2-3"),cues:["Banco a 30"]},{id:"ub3",name:"Cable Row Sentado",category:"main",muscles:"Dorsal, romboides, trapezio, biceps",sets:_e(3,"8-12","30-35kg","90s","2-3"),cues:["Costas RETAS","NAO inclinar a frente"]},{id:"ub4",name:"Elevacao Lateral Sentado",category:"accessory",muscles:"Deltoide medio",sets:_e(3,"10-12","5-6kg cada","60s","2-3"),cues:["NAO encolher ombros"]},{id:"ub7",name:"Rosca Martelo",category:"accessory",muscles:"Biceps, braquiorradial",sets:_e(3,"8-12","8kg cada","60s","2-3"),cues:["Palmas PARA DENTRO","Iniciar pelo E","Descer 3s"],isNew:!0},{id:"ub5",name:"Triceps Corda no Cross",category:"accessory",muscles:"Triceps",sets:_e(3,"10-12","12-15kg","60s","2-3"),cues:["Abrir corda no final"]},{id:"ub6",name:"Band Pull-Aparts",category:"corrective",muscles:"Retracao escapular",sets:_e(3,"20","Elastico medio","30s","-"),cues:["Ombros ABAIXADOS"]}],KQ=[{id:"lb1",name:"Hip Thrust (Primario)",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(4,"8-12","40-45kg","120s","2-3"),cues:["Squeeze gluteos FORTE"]},{id:"lb2",name:"RDL com Halteres",category:"main",muscles:"Isquiotibiais, gluteos, eretores",sets:_e(4,"8-12","14-16kg cada","90s","2-3"),cues:["Coluna NEUTRA","Hip hinge"],safety:"Coluna neutra SEMPRE"},{id:"lb3",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"8-12 cada","10-12kg cada","90s","2-3"),cues:["Iniciar pela E"]},{id:"lb4",name:"Pull-Through com Cabo",category:"accessory",muscles:"Gluteos, isquiotibiais",sets:_e(3,"10-12","20-25kg","60s","2-3"),cues:["Squeeze gluteos 2s"]},{id:"lb5",name:"Panturrilha no Leg Press",category:"accessory",muscles:"Gastrocnemio, soleo",sets:_e(4,"12-15","50-60kg","45s","2-3"),cues:["Amplitude COMPLETA"]},{id:"lb6",name:"Dead Bug (c/ elastico)",category:"corrective",muscles:"Core anti-extensao",sets:_e(3,"8 cada lado","Elastico leve","45s","-"),cues:["Lombar COLADA no chao"]}],GQ=[{id:"ua1",name:"Supino Reto c/ Halteres",category:"main",muscles:"Peitoral, deltoide ant., triceps",sets:_e(4,"6-10","14-16kg cada","120s","1-2"),cues:["Cotovelos a 45","Arco toracico MINIMO"]},{id:"ua2",name:"Lat Pulldown",category:"main",muscles:"Dorsal, romboides, biceps",sets:_e(4,"6-10","40-45kg","120s","1-2"),cues:["Puxar ATE O PEITO"]},{id:"ua3",name:"Desenvolvimento Sentado c/ Apoio",category:"main",muscles:"Deltoide ant./medio, triceps",sets:_e(3,"8-10","10-12kg cada","90s","2"),cues:["Costas COLADAS"]},{id:"ua4",name:"Face Pulls",category:"accessory",muscles:"Trapezio medio/inf., rotadores ext.",sets:_e(3,"12-15","15-17kg","60s","2"),cues:["Apertar escapulas 2s"]},{id:"ua5",name:"Rosca Direta Halteres (Alternada)",category:"accessory",muscles:"Biceps",sets:_e(3,"8-10","10kg cada","60s","2"),cues:["Iniciar pelo E"]},{id:"ua7",name:"Triceps Testa c/ Barra W",category:"accessory",muscles:"Triceps (cabeca longa)",sets:_e(3,"8-10","16-18kg","60s","2"),cues:["Cotovelos FIXOS"]},{id:"ua6",name:"Prancha Frontal",category:"corrective",muscles:"Core (isometrico)",sets:_e(3,"45-60s","Corporal","45s","-"),cues:["Gluteos ATIVOS"]}],WQ=[{id:"la1",name:"Leg Press 45",category:"main",muscles:"Quadriceps, gluteos, posteriores",sets:_e(4,"6-10","110-130kg","150s","1-2"),cues:["Costas COLADAS"]},{id:"la2",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"8-10 cada","12-14kg cada","90s","2"),cues:["Iniciar pela E"]},{id:"la3",name:"Hip Thrust",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(4,"6-10","50-60kg","120s","1-2"),cues:["Contrair GLUTEOS"]},{id:"la4",name:"Cadeira Extensora",category:"accessory",muscles:"Quadriceps (isolado)",sets:_e(3,"8-10","35-40kg","60s","2"),cues:["Apertar quad 1s"]},{id:"la5",name:"Cadeira Flexora",category:"accessory",muscles:"Isquiotibiais (isolado)",sets:_e(3,"8-10","25-30kg","60s","2"),cues:["Sem momentum"]},{id:"la6",name:"Pallof Press",category:"corrective",muscles:"Core anti-rotacao",sets:_e(3,"10 (5s) cada","10kg","45s","-"),cues:["Tronco IMOVEL"]},{id:"la7",name:"Farmer's Walk",category:"accessory",muscles:"Core integrado, grip, ombros",sets:_e(3,"30m","20-24kg cada","60s","-"),cues:["Postura ERETA"]}],YQ=[{id:"ub1",name:"Chest-Supported Row",category:"main",muscles:"Romboides, trapezio, dorsal, biceps",sets:_e(4,"6-10","18-20kg cada","120s","1-2"),cues:["Escapulas 2s"]},{id:"ub2",name:"Supino Inclinado c/ Halteres",category:"main",muscles:"Peitoral superior, deltoide, triceps",sets:_e(4,"6-10","14-16kg cada","120s","1-2"),cues:["Banco a 30"]},{id:"ub3",name:"Cable Row Sentado",category:"main",muscles:"Dorsal, romboides, trapezio, biceps",sets:_e(3,"8-10","40-45kg","90s","2"),cues:["Costas RETAS"]},{id:"ub4",name:"Elevacao Lateral Sentado",category:"accessory",muscles:"Deltoide medio",sets:_e(3,"10-12","7-8kg cada","60s","2"),cues:["NAO encolher ombros"]},{id:"ub7",name:"Rosca Martelo",category:"accessory",muscles:"Biceps, braquiorradial",sets:_e(3,"8-10","10-12kg cada","60s","2"),cues:["Palmas PARA DENTRO"]},{id:"ub5",name:"Triceps Corda no Cross",category:"accessory",muscles:"Triceps",sets:_e(3,"8-10","17-20kg","60s","2"),cues:["Abrir corda no final"]},{id:"ub6",name:"Band Pull-Aparts",category:"corrective",muscles:"Retracao escapular",sets:_e(3,"20","Elastico medio-forte","30s","-"),cues:["Ombros ABAIXADOS"]}],QQ=[{id:"lb1",name:"Hip Thrust (Primario)",category:"main",muscles:"Gluteo maximo, posteriores",sets:_e(4,"6-10","60-70kg","150s","1-2"),cues:["Squeeze FORTE"]},{id:"lb2",name:"RDL com Halteres",category:"main",muscles:"Isquiotibiais, gluteos, eretores",sets:_e(4,"6-10","18-20kg cada","120s","1-2"),cues:["Coluna NEUTRA"],safety:"NUNCA arredondar lombar"},{id:"lb3",name:"Bulgarian Split Squat c/ Halteres",category:"main",muscles:"Quadriceps, gluteos, core",sets:_e(3,"8-10 cada","14-16kg cada","90s","2"),cues:["Iniciar pela E"]},{id:"lb4",name:"Pull-Through com Cabo",category:"accessory",muscles:"Gluteos, isquiotibiais",sets:_e(3,"8-10","25-30kg","60s","2"),cues:["Squeeze gluteos 2s"]},{id:"lb5",name:"Panturrilha no Leg Press",category:"accessory",muscles:"Gastrocnemio, soleo",sets:_e(4,"12-15","70-80kg","45s","2"),cues:["Amplitude COMPLETA"]},{id:"lb6",name:"Dead Bug (c/ halter leve)",category:"corrective",muscles:"Core anti-extensao",sets:_e(3,"8 cada lado","2-3kg","45s","-"),cues:["Lombar COLADA"]}],XQ={1:{"upper-a":BQ,"lower-a":zQ,"upper-b":UQ,"lower-b":qQ},2:{"upper-a":FQ,"lower-a":$Q,"upper-b":HQ,"lower-b":KQ},3:{"upper-a":GQ,"lower-a":WQ,"upper-b":YQ,"lower-b":QQ}},ZQ={"upper-a":{id:"upper-a",name:"Upper A",shortName:"UA",weekday:1,focus:"Empurrar horizontal + Puxar vertical + Ombros + Core",duration:"65-70 min",warmup:Cg,cooldown:nj},"lower-a":{id:"lower-a",name:"Lower A",shortName:"LA",weekday:2,focus:"Quadriceps dominante + Gluteos + Core",duration:"65-70 min",warmup:Cg,cooldown:LQ},"upper-b":{id:"upper-b",name:"Upper B",shortName:"UB",weekday:4,focus:"Puxar horizontal + Empurrar inclinado + Ombros laterais + Core",duration:"65-70 min",warmup:Cg,cooldown:nj,extraWarmup:"Y-T-W Prone no banco (2x8 cada posicao) +3 min"},"lower-b":{id:"lower-b",name:"Lower B",shortName:"LB",weekday:5,focus:"Hip-hinge dominante + Gluteos + Unilateral + Core",duration:"65-70 min",warmup:Cg,cooldown:VQ}},JQ=(t,e)=>{const n=ZQ[t],r=XQ[e][t];return{...n,exercises:r}},rj=[{id:"liss",name:"LISS Cardio (Zona 2)",weekday:3,zone:"Zona 2",bpmRange:"108-126 bpm",duration:"30-40 min",options:["Caminhada rapida 5.5-6.5 km/h","Bike ergometrica (reclinada preferida)","Eliptico"]},{id:"liss",name:"LISS Cardio (Zona 2)",weekday:6,zone:"Zona 2",bpmRange:"108-126 bpm",duration:"30-40 min",options:["Caminhada rapida 5.5-6.5 km/h","Bike ergometrica (reclinada preferida)","Eliptico"]}],eX={1:{name:"Adaptacao",weeks:"Sem 1-4",intensity:"60-70% 1RM",reps:"10-15",rir:"3-4"},2:{name:"Hipertrofia",weeks:"Sem 5-8",intensity:"65-75% 1RM",reps:"8-12",rir:"2-3"},3:{name:"Forca-Hipertrofia",weeks:"Sem 9-12",intensity:"75-85% 1RM",reps:"6-10",rir:"1-2"}},tX={0:null,1:"upper-a",2:"lower-a",3:null,4:"upper-b",5:"lower-b",6:null},nX=t=>tX[t.getDay()]??null,rX=t=>t.getDay()===3||t.getDay()===6,iX=t=>t.getDay()===0,aX=[1,2,3];function sX({current:t,onChange:e}){const n=eX[t];return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs font-semibold text-on-surface-muted",children:"Mesociclo:"}),g.jsx("div",{className:"flex gap-1",children:aX.map(r=>g.jsx("button",{onClick:()=>e(r),className:`rounded-lg px-3 py-1 text-xs font-semibold transition-colors ${t===r?"bg-orange-500 text-white":"bg-gray-100 text-on-surface-muted hover:bg-gray-200"}`,children:r},r))})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-[10px]",children:[g.jsx("span",{className:"rounded bg-orange-100 px-1.5 py-0.5 font-medium text-orange-700",children:n.name}),g.jsx("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-on-surface-muted",children:n.weeks}),g.jsx("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-on-surface-muted",children:n.intensity}),g.jsxs("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-on-surface-muted",children:[n.reps," reps"]}),g.jsxs("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-on-surface-muted",children:["RIR ",n.rir]})]})]})}function oX(t){const e={};for(const n of t){const r=e[n.phase]??[];r.push(n),e[n.phase]=r}return e}function lX({items:t,isChecked:e,onToggle:n,extraWarmup:r}){const[i,a]=w.useState(!0),l=t.filter(v=>e(v.id)).length,u=t.length,d=Math.round(l/u*100),f=l===u,m=oX(t),p=t.reduce((v,_)=>v+_.minutes,0);return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${f?"border-primary-200 bg-primary-50/50":"border-amber-200 bg-amber-50/50"}`,children:[g.jsxs("button",{onClick:()=>a(!i),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"text-sm font-semibold text-amber-800",children:"Aquecimento"}),g.jsxs("div",{className:"mt-0.5 text-[10px] text-on-surface-muted",children:["~",p," min"]})]}),g.jsxs("span",{className:"text-xs font-medium text-amber-700",children:[l,"/",u," (",d,"%)"]}),g.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-transform ${i?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&g.jsxs("div",{className:"border-t border-amber-100 px-4 pb-4 pt-2",children:[r&&g.jsxs("p",{className:"mb-3 rounded-lg bg-amber-100 px-3 py-2 text-[11px] text-amber-700",children:["+ ",r]}),Object.entries(m).map(([v,_])=>g.jsxs("div",{className:"mb-2",children:[g.jsx("div",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-amber-600",children:v}),g.jsx("ul",{className:"space-y-0.5",children:_.map(E=>{const S=e(E.id);return g.jsx("li",{children:g.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg px-2 py-2 hover:bg-amber-100/50 active:bg-amber-100",children:[g.jsx("input",{type:"checkbox",checked:S,onChange:()=>n(E.id),className:"mt-0.5 h-6 w-6 shrink-0 accent-amber-500"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`text-sm ${S?"text-on-surface-muted line-through":"text-on-surface"}`,children:E.name}),g.jsx("span",{className:"ml-2 text-[10px] text-on-surface-muted",children:E.prescription})]}),g.jsxs("span",{className:"shrink-0 text-[10px] text-on-surface-muted",children:[E.minutes,"min"]})]})},E.id)})})]},v))]})]})}const uX={main:{bg:"bg-orange-100",text:"text-orange-700",label:"Principal"},accessory:{bg:"bg-blue-100",text:"text-blue-700",label:"Acessorio"},corrective:{bg:"bg-teal-100",text:"text-teal-700",label:"Corretivo"}},cX=t=>`https://www.youtube.com/results?search_query=${encodeURIComponent(t+" exercicio como fazer")}`;function dX({exercise:t,index:e,isSetChecked:n,onToggleSet:r,getSetLog:i,onSaveSetLog:a}){const[l,u]=w.useState(!1),d=t.sets[0],f=d.sets,m=Array.from({length:f},(_,E)=>n(`${t.id}-s${E}`)).filter(Boolean).length,p=m===f,v=uX[t.category];return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${p?"border-primary-200 bg-primary-50/50":"border-gray-200 bg-white"}`,children:[g.jsxs("button",{onClick:()=>u(!l),className:"flex w-full items-center gap-3 p-3 text-left",children:[g.jsx("span",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-orange-100 text-xs font-bold text-orange-700",children:e+1}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"truncate text-sm font-semibold text-on-surface",children:t.name}),t.isNew&&g.jsx("span",{className:"shrink-0 rounded bg-green-100 px-1 py-0.5 text-[9px] font-bold text-green-700",children:"NOVO"})]}),g.jsxs("div",{className:"mt-0.5 flex items-center gap-1.5 text-[10px]",children:[g.jsx("span",{className:`rounded px-1 py-0.5 font-medium ${v.bg} ${v.text}`,children:v.label}),g.jsxs("span",{className:"text-on-surface-muted",children:[d.sets,"x",d.reps,"  ",d.load,"  ",d.rest]})]})]}),g.jsxs("span",{className:"shrink-0 text-xs font-medium text-on-surface-muted",children:[m,"/",f]}),g.jsx("svg",{className:`h-4 w-4 shrink-0 text-gray-400 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&g.jsxs("div",{className:"border-t border-gray-100 px-3 pb-3 pt-2",children:[g.jsx("div",{className:"mb-2 text-[10px] text-on-surface-muted",children:t.muscles}),t.safety&&g.jsxs("div",{className:"mb-2 rounded-lg bg-red-50 px-3 py-1.5 text-[11px] font-medium text-red-700",children:[" ",t.safety]}),g.jsx(fX,{exerciseId:t.id,totalSets:f,planReps:d.reps,planLoad:d.load,isSetChecked:n,onToggleSet:r,getSetLog:i,onSaveSetLog:a}),g.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-center gap-x-3 gap-y-1 text-xs text-gray-500",children:[g.jsxs("span",{children:[" Descanso: ",d.rest]}),g.jsx("span",{children:""}),g.jsxs("span",{children:["RIR: ",d.rir]})]}),g.jsx(mX,{cues:t.cues}),g.jsx(pX,{name:t.name})]})]})}function fX({exerciseId:t,totalSets:e,planReps:n,planLoad:r,isSetChecked:i,onToggleSet:a,getSetLog:l,onSaveSetLog:u}){return g.jsx("div",{className:"mb-4 space-y-3",children:Array.from({length:e},(d,f)=>{const m=`${t}-s${f}`;return g.jsx(hX,{setIndex:f,planReps:n,planLoad:r,checked:i(m),onToggle:()=>a(m),log:l(m),onSave:p=>u(m,p)},m)})})}function hX({setIndex:t,planReps:e,planLoad:n,checked:r,onToggle:i,log:a,onSave:l}){const[u,d]=w.useState(a.reps??""),[f,m]=w.useState(a.load??""),p=()=>{l({reps:u.trim()||void 0,load:f.trim()||void 0})},v=_=>{_.target.select()};return g.jsxs("div",{className:`rounded-2xl border p-3 transition-all ${r?"border-primary-200 bg-primary-50/30":"border-gray-200 bg-gray-50/50"}`,children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["Srie ",t+1]}),g.jsxs("span",{className:"text-[11px] text-gray-500",children:["Meta: ",g.jsx("span",{className:"font-medium text-gray-700",children:e})," "," ",g.jsx("span",{className:"font-medium text-gray-700",children:n})]})]}),g.jsx("button",{onClick:i,className:`flex h-10 items-center gap-2 rounded-xl px-4 text-xs font-bold transition-all active:scale-95 ${r?"bg-primary-500 text-white shadow-md shadow-primary-500/20":"bg-white text-gray-500 shadow-sm ring-1 ring-gray-200"}`,children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{children:""})," FEITO"]}):g.jsx("span",{children:"MARCAR"})})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"mb-1 block text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"Reps"}),g.jsx("input",{type:"text",inputMode:"numeric",value:u,placeholder:e,onChange:_=>d(_.target.value),onBlur:p,onFocus:v,onKeyDown:_=>_.key==="Enter"&&_.target.blur(),className:`h-14 w-full rounded-xl border-2 text-center text-xl font-bold text-gray-900 shadow-sm transition-colors focus:border-primary-500 focus:outline-none focus:ring-4 focus:ring-primary-500/10 placeholder:text-gray-300 ${r?"border-primary-200 bg-white":"border-gray-200 bg-white"}`})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"mb-1 block text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"Carga (kg)"}),g.jsx("input",{type:"text",inputMode:"decimal",value:f,placeholder:n,onChange:_=>m(_.target.value),onBlur:p,onFocus:v,onKeyDown:_=>_.key==="Enter"&&_.target.blur(),className:`h-14 w-full rounded-xl border-2 text-center text-xl font-bold text-gray-900 shadow-sm transition-colors focus:border-orange-500 focus:outline-none focus:ring-4 focus:ring-orange-500/10 placeholder:text-gray-300 ${r?"border-primary-200 bg-white":"border-gray-200 bg-white"}`})]})]})]})}function mX({cues:t}){return t.length===0?null:g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"mb-1 text-[10px] font-semibold text-on-surface-muted",children:"Dicas:"}),g.jsx("ul",{className:"space-y-0.5 text-[11px] text-on-surface-muted",children:t.map((e,n)=>g.jsxs("li",{className:"flex items-start gap-1.5",children:[g.jsx("span",{className:"mt-0.5 text-[8px]",children:""}),g.jsx("span",{children:e})]},n))})]})}function pX({name:t}){return g.jsxs("a",{href:cX(t),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"mt-3 flex items-center justify-center gap-2 rounded-lg bg-red-50 px-3 py-2 text-xs font-medium text-red-700 transition-colors hover:bg-red-100 active:bg-red-200",children:[g.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Ver exercicio no YouTube"]})}function gX({items:t,isChecked:e,onToggle:n}){const[r,i]=w.useState(!0),a=t.filter(f=>e(f.id)).length,l=t.length,u=Math.round(a/l*100),d=a===l;return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${d?"border-primary-200 bg-primary-50/50":"border-sky-200 bg-sky-50/50"}`,children:[g.jsxs("button",{onClick:()=>i(!r),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"text-sm font-semibold text-sky-800",children:"Volta a Calma"}),g.jsx("div",{className:"mt-0.5 text-[10px] text-on-surface-muted",children:"~5 min"})]}),g.jsxs("span",{className:"text-xs font-medium text-sky-700",children:[a,"/",l," (",u,"%)"]}),g.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&g.jsx("div",{className:"border-t border-sky-100 px-4 pb-4 pt-2",children:g.jsx("ul",{className:"space-y-1",children:t.map(f=>{const m=e(f.id);return g.jsx("li",{children:g.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg px-2 py-2 hover:bg-sky-100/50 active:bg-sky-100",children:[g.jsx("input",{type:"checkbox",checked:m,onChange:()=>n(f.id),className:"mt-0.5 h-6 w-6 shrink-0 accent-sky-500"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`text-sm ${m?"text-on-surface-muted line-through":"text-on-surface"}`,children:f.name}),g.jsx("span",{className:"ml-2 text-[10px] text-on-surface-muted",children:f.prescription})]})]})},f.id)})})})]})}function yX({isChecked:t,onToggle:e}){const[n,r]=w.useState(!0),i=UL,a=i.filter(f=>t(f.id)).length,l=i.length,u=Math.round(a/l*100),d=a===l;return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors ${d?"border-primary-200 bg-primary-50/50":"border-teal-200 bg-teal-50/50"}`,children:[g.jsxs("button",{onClick:()=>r(!n),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"text-sm font-semibold text-teal-800",children:"Corretivos Diarios"}),g.jsx("div",{className:"mt-0.5 text-[10px] text-on-surface-muted",children:"Fazer todos os dias"})]}),g.jsxs("span",{className:"text-xs font-medium text-teal-700",children:[a,"/",l," (",u,"%)"]}),g.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&g.jsx("div",{className:"border-t border-teal-100 px-4 pb-4 pt-2",children:g.jsx("ul",{className:"space-y-1",children:i.map(f=>{const m=t(f.id);return g.jsx("li",{children:g.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg px-2 py-2 hover:bg-teal-100/50 active:bg-teal-100",children:[g.jsx("input",{type:"checkbox",checked:m,onChange:()=>e(f.id),className:"mt-0.5 h-6 w-6 shrink-0 accent-teal-500"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`text-sm ${m?"text-on-surface-muted line-through":"text-on-surface"}`,children:f.name}),g.jsxs("div",{className:"mt-0.5 flex items-center gap-2 text-[10px] text-on-surface-muted",children:[g.jsx("span",{children:f.frequency}),g.jsx("span",{children:""}),g.jsx("span",{children:f.when})]})]})]})},f.id)})})})]})}function vX({session:t,isCompleted:e,onToggle:n}){return g.jsx("div",{className:`overflow-hidden rounded-xl border transition-colors ${e?"border-primary-200 bg-primary-50/50":"border-green-200 bg-green-50/50"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-sm font-semibold text-green-800",children:t.name}),g.jsxs("div",{className:"mt-0.5 flex flex-wrap gap-2 text-[10px]",children:[g.jsx("span",{className:"rounded bg-green-100 px-1.5 py-0.5 font-medium text-green-700",children:t.zone}),g.jsx("span",{className:"rounded bg-green-100 px-1.5 py-0.5 text-green-700",children:t.bpmRange}),g.jsx("span",{className:"rounded bg-green-100 px-1.5 py-0.5 text-green-700",children:t.duration})]})]})]}),g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"mb-1.5 text-[10px] font-semibold uppercase tracking-wide text-green-600",children:"Opcoes"}),g.jsx("ul",{className:"space-y-1 text-sm text-on-surface-muted",children:t.options.map(r=>g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"mt-0.5 text-[8px] text-green-500",children:""}),g.jsx("span",{children:r})]},r))})]}),g.jsxs("label",{className:"mt-4 flex cursor-pointer items-center gap-3 rounded-lg bg-green-100/50 px-3 py-2.5",children:[g.jsx("input",{type:"checkbox",checked:e,onChange:n,className:"h-5 w-5 shrink-0 accent-green-500"}),g.jsx("span",{className:`text-sm font-medium ${e?"text-primary-700 line-through":"text-green-800"}`,children:e?"Cardio concluido!":"Marcar como concluido"})]})]})})}const bX=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},xX={ahead:{label:"Adiantado",color:"text-emerald-700",bg:"bg-emerald-100"},"on-track":{label:"No ritmo",color:"text-orange-700",bg:"bg-orange-100"},behind:{label:"Atrasado",color:"text-red-700",bg:"bg-red-100"}};function _X(t,e){const n=e-t;return n>=5?"ahead":n<=-15?"behind":"on-track"}function wX({startedAt:t,endedAt:e,isActive:n,expectedMinutes:r,completionPercent:i,onStart:a,onEnd:l}){const[u,d]=w.useState(0);if(w.useEffect(()=>{if(!t||!n){t&&e&&d(Math.floor((e-t)/1e3));return}const _=()=>d(Math.floor((Date.now()-t)/1e3)),E=setTimeout(_,0),S=setInterval(_,1e3);return()=>{clearTimeout(E),clearInterval(S)}},[t,e,n]),!t)return g.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:g.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("p",{className:"text-sm text-on-surface-muted",children:"Pronto para comecar?"}),g.jsx("button",{onClick:a,className:"w-full rounded-xl bg-primary-500 px-6 py-3 text-sm font-bold text-white active:bg-primary-600",children:"Iniciar Treino"})]})});const f=r*60,m=Math.min(100,Math.round(u/f*100)),p=_X(m,i),v=xX[p];return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm",children:""}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-bold tabular-nums text-on-surface",children:bX(u)}),g.jsxs("div",{className:"text-[10px] text-on-surface-muted",children:["previsto: ~",r,"min"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[n&&g.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-semibold ${v.bg} ${v.color}`,children:v.label}),!n&&e&&g.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-semibold text-emerald-700",children:"Finalizado"}),g.jsxs("span",{className:"text-xs font-medium text-on-surface-muted",children:[i,"%"]})]})]}),g.jsxs("div",{className:"relative mt-3 h-2 overflow-hidden rounded-full bg-gray-100",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-gray-300/50 transition-all",style:{width:`${m}%`}}),g.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-orange-500 transition-all",style:{width:`${i}%`}})]}),g.jsxs("div",{className:"mt-1 flex justify-between text-[9px] text-on-surface-muted",children:[g.jsxs("span",{children:["Tempo: ",m,"%"]}),g.jsxs("span",{children:["Feito: ",i,"%"]})]}),n&&g.jsx("button",{onClick:l,className:"mt-3 w-full rounded-xl bg-red-500 px-6 py-3 text-sm font-bold text-white active:bg-red-600",children:"Finalizar Treino"})]})}const EX=["Domingo","Segunda","Terca","Quarta","Quinta","Sexta","Sabado"];function SX(t){const e=t.getDate(),n=t.toLocaleDateString("pt-BR",{month:"short"});return`${EX[t.getDay()]}, ${e} ${n}`}function AX(t,e,n){const r=UL.length,i=n.checkedCorrectivos.length;if(t){const a=t.exercises.reduce((d,f)=>d+f.sets[0].sets,0),l=t.warmup.length+a+t.cooldown.length+r,u=n.checkedWarmup.length+n.checkedExercises.length+n.checkedCooldown.length+i;return l>0?Math.round(u/l*100):0}if(e){const a=1+r,l=(n.lissCompleted?1:0)+i;return Math.round(l/a*100)}return r>0?Math.round(i/r*100):0}function TX(t){const e=t.match(/\d+/);return e?parseInt(e[0],10):60}function CX(t){const e=t.warmup.reduce((i,a)=>i+a.minutes,0),n=t.exercises.reduce((i,a)=>{const l=a.sets[0].sets,u=TX(a.sets[0].rest);return i+l*(40+u)/60},0);return Math.round(e+n+5)}function IX({activityState:t,onSetActivity:e}){return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsx("h3",{className:"mb-3 text-sm font-semibold text-on-surface",children:"Status do Treino"}),t&&t.status!=="pending"&&g.jsx("div",{className:"mb-3 rounded-lg bg-gray-50 px-3 py-2",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.status==="completed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-green-600",children:""}),g.jsx("span",{className:"font-medium text-green-700",children:"Feito"})]}),t.status==="skipped"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-amber-600",children:""}),g.jsx("span",{className:"font-medium text-amber-700",children:"Pulado"})]}),t.status==="postponed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-blue-600",children:""}),g.jsx("span",{className:"font-medium text-blue-700",children:"Adiado"})]}),t.status==="missed"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-red-600",children:""}),g.jsx("span",{className:"font-medium text-red-700",children:"Perdido"})]})]})}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("button",{onClick:()=>e("completed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${t?.status==="completed"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Feito"]}),g.jsxs("button",{onClick:()=>e("skipped"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${t?.status==="skipped"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Pular"]}),g.jsxs("button",{onClick:()=>e("postponed"),className:`h-12 rounded-lg border-2 text-sm font-medium transition-all ${t?.status==="postponed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[g.jsx("span",{className:"mr-1",children:""}),"Adiar"]})]})]})}function OX(){const t=w.useMemo(()=>new Date,[]),{mesocycle:e,changeMesocycle:n}=MQ(),r=kQ(),i=d0(),[a,l]=w.useState(null),u=nX(t),d=rX(t),f=iX(t),m=a||u,p=m?JQ(m,e):null,v=d?rj.find(A=>A.weekday===t.getDay())??rj[0]:null,_=w.useMemo(()=>AX(p,d,r.progress),[p,d,r.progress]),E=w.useMemo(()=>p?CX(p):0,[p]),S=[{id:"upper-a",name:"Upper A",short:"Upper A"},{id:"lower-a",name:"Lower A",short:"Lower A"},{id:"upper-b",name:"Upper B",short:"Upper B"},{id:"lower-b",name:"Lower B",short:"Lower B"}];return g.jsxs("div",{className:"space-y-4 pb-4",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-lg font-bold text-on-surface",children:"Treino"}),g.jsx("p",{className:"text-xs text-on-surface-muted",children:SX(t)})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsx("div",{className:"flex gap-2 pb-2",children:S.map(A=>{const C=m===A.id,N=u===A.id;return g.jsxs("button",{onClick:()=>l(A.id),className:`relative flex-shrink-0 rounded-lg border-2 px-4 py-2.5 text-sm font-bold transition-all ${C?"border-orange-500 bg-orange-500 text-white shadow-md":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:[A.name,N&&g.jsx("span",{className:`ml-1.5 rounded px-1.5 py-0.5 text-[9px] font-bold ${C?"bg-white/20 text-white":"bg-orange-100 text-orange-600"}`,children:"HOJE"})]},A.id)})})}),p&&g.jsx("div",{className:"rounded-xl border border-orange-200 bg-gradient-to-r from-orange-50 to-amber-50 p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-sm font-bold text-orange-900",children:p.name}),g.jsx("div",{className:"mt-0.5 text-xs text-orange-700",children:p.focus})]}),g.jsx("div",{className:"rounded-lg bg-orange-500 px-3 py-1.5 text-xs font-bold text-white",children:p.duration})]})}),f&&!a&&!p&&g.jsxs("div",{className:"rounded-xl border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-pink-50 p-4 text-center",children:[g.jsx("div",{className:"text-3xl",children:""}),g.jsx("div",{className:"mt-2 text-sm font-bold text-purple-900",children:"Dia de Descanso"}),g.jsx("div",{className:"mt-1 text-xs text-purple-700",children:"Recuperao ativa  Faa os corretivos abaixo"})]}),g.jsx(sX,{current:e,onChange:n}),p&&m===u&&g.jsxs(g.Fragment,{children:[g.jsx(wX,{startedAt:r.progress.startedAt,endedAt:r.progress.endedAt,isActive:r.progress.isActive,expectedMinutes:E,completionPercent:_,onStart:r.startSession,onEnd:r.endSession}),r.progress.endedAt&&g.jsx(IX,{activityState:i.getTrainingActivity(),onSetActivity:A=>i.setTrainingActivity(A)})]}),p&&m!==u&&g.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3 text-center",children:g.jsxs("div",{className:"text-xs text-blue-700",children:[" Voc est visualizando ",g.jsx("span",{className:"font-bold",children:p.name}),u&&g.jsxs(g.Fragment,{children:["  ",g.jsx("button",{onClick:()=>l(null),className:"font-bold underline",children:"Ver treino de hoje"})]})]})}),!p&&g.jsx(NX,{percent:_}),p&&g.jsx(PX,{session:p,tracker:r}),v&&!p&&g.jsx(vX,{session:v,isCompleted:r.progress.lissCompleted,onToggle:r.toggleLiss}),g.jsx(yX,{isChecked:r.isCorrectiveChecked,onToggle:r.toggleCorrective})]})}function NX({percent:t}){return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs",children:[g.jsx("span",{className:"font-medium text-on-surface",children:"Progresso"}),g.jsxs("span",{className:"font-semibold text-orange-600",children:[t,"%"]})]}),g.jsx("div",{className:"mt-1.5 h-2 overflow-hidden rounded-full bg-gray-100",children:g.jsx("div",{className:"h-full rounded-full bg-orange-500 transition-all",style:{width:`${t}%`}})})]})}function PX({session:t,tracker:e}){return g.jsxs(g.Fragment,{children:[g.jsx(lX,{items:t.warmup,isChecked:e.isWarmupChecked,onToggle:e.toggleWarmup,extraWarmup:t.extraWarmup}),g.jsx("div",{className:"space-y-3",children:t.exercises.map((n,r)=>g.jsx(dX,{exercise:n,index:r,isSetChecked:e.isExerciseChecked,onToggleSet:e.toggleExercise,getSetLog:e.getSetLog,onSaveSetLog:e.setSetLog},n.id))}),g.jsx(gX,{items:t.cooldown,isChecked:e.isCooldownChecked,onToggle:e.toggleCooldown})]})}function jX(t){const e=[],n=new Date;for(let r=0;r<t;r++){const i=new Date(n);i.setDate(i.getDate()-r);const a=i.toISOString().split("T")[0];e.push(a)}return e.reverse()}function RX(t,e,n,r){let i=0,a=0,l=0,u=0,d=0,f=0,m=0,p=0,v=0,_=0,E=0;return t.forEach(S=>{S.mealActivities&&Object.values(S.mealActivities).forEach(A=>{A.status==="completed"&&i++,A.status==="skipped"&&a++,A.status==="postponed"&&l++,A.status==="missed"&&u++}),S.supplementActivities&&Object.values(S.supplementActivities).forEach(A=>{A.status==="completed"&&d++,A.status==="skipped"&&f++,A.status==="postponed"&&m++,A.status==="missed"&&p++}),v+=S.waterMl,S.trainingActivity&&(_++,S.trainingActivity.status==="completed"&&E++)}),{meals:{expected:e*t.length,completed:i,skipped:a,postponed:l,missed:u},supplements:{expected:n*t.length,completed:d,skipped:f,postponed:m,missed:p},water:{expected:r*t.length,actual:v},training:{expected:_>0,completed:E>0}}}function DX(t){const e=w.useMemo(()=>jX(t),[t]),n=e.map(i=>{const a=`progress_${i}`,[l]=gm(a,{date:i,checkedFoods:{},checkedSupplements:[],waterMl:0});return l}),r=w.useMemo(()=>RX(n,7,11,4e3),[n]);return{dateKeys:e,progressData:n,metrics:r}}function qL(t,e){return e===0?0:Math.round(t/e*100)}function C_({icon:t,label:e,completed:n,expected:r,color:i}){const a=qL(n,r);return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[g.jsx("span",{className:"text-xl",children:t}),g.jsx("span",{className:"text-xs font-semibold text-gray-700",children:e})]}),g.jsxs("div",{className:"mb-2",children:[g.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a,"%"]}),g.jsxs("div",{className:"text-xs text-gray-500",children:[n," / ",r]})]}),g.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-gray-100",children:g.jsx("div",{className:`h-full rounded-full transition-all ${i}`,style:{width:`${Math.min(100,a)}%`}})})]})}function kX({metrics:t}){const e=qL(t.water.actual,t.water.expected);return g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Resumo de Aderncia"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx(C_,{icon:"",label:"Refeies",completed:t.meals.completed,expected:t.meals.expected,color:"bg-orange-500"}),g.jsx(C_,{icon:"",label:"Suplementos",completed:t.supplements.completed,expected:t.supplements.expected,color:"bg-purple-500"}),g.jsx(C_,{icon:"",label:"gua",completed:t.water.actual,expected:t.water.expected,color:"bg-blue-500"}),g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[g.jsx("span",{className:"text-xl",children:""}),g.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Treino"})]}),g.jsxs("div",{className:"mb-2",children:[g.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.training.completed?"":""}),g.jsx("div",{className:"text-xs text-gray-500",children:t.training.completed?"Completo":"Pendente"})]})]})]}),g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4",children:[g.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Detalhes"}),g.jsxs("div",{className:"space-y-2 text-xs",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Refeies puladas:"}),g.jsx("span",{className:"font-medium text-amber-700",children:t.meals.skipped})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Refeies adiadas:"}),g.jsx("span",{className:"font-medium text-blue-700",children:t.meals.postponed})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Refeies perdidas:"}),g.jsx("span",{className:"font-medium text-red-700",children:t.meals.missed})]}),g.jsx("div",{className:"my-2 border-t border-gray-200"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Suplementos pulados:"}),g.jsx("span",{className:"font-medium text-amber-700",children:t.supplements.skipped})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Suplementos adiados:"}),g.jsx("span",{className:"font-medium text-blue-700",children:t.supplements.postponed})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Suplementos perdidos:"}),g.jsx("span",{className:"font-medium text-red-700",children:t.supplements.missed})]}),g.jsx("div",{className:"my-2 border-t border-gray-200"}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"gua (litros):"}),g.jsxs("span",{className:"font-medium text-blue-700",children:[(t.water.actual/1e3).toFixed(1),"L / ",(t.water.expected/1e3).toFixed(1),"L (",e,"%)"]})]})]})]})]})}function MX(t){const e=new Date(t+"T12:00:00"),n=e.getDate(),r=e.toLocaleDateString("pt-BR",{month:"short"});return`${e.toLocaleDateString("pt-BR",{weekday:"short"})}, ${n} ${r}`}function LX(t){let e=0,n=0,r=0,i=0;return t.mealActivities&&Object.values(t.mealActivities).forEach(a=>{a.status==="completed"&&e++,a.status==="skipped"&&n++,a.status==="postponed"&&r++,a.status==="missed"&&i++}),t.supplementActivities&&Object.values(t.supplementActivities).forEach(a=>{a.status==="completed"&&e++,a.status==="skipped"&&n++,a.status==="postponed"&&r++,a.status==="missed"&&i++}),t.trainingActivity&&(t.trainingActivity.status==="completed"&&e++,t.trainingActivity.status==="skipped"&&n++,t.trainingActivity.status==="postponed"&&r++,t.trainingActivity.status==="missed"&&i++),{completed:e,skipped:n,postponed:r,missed:i}}function VX({date:t,progress:e}){const n=LX(e),i=n.completed+n.skipped+n.postponed+n.missed>0;return g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[g.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-gray-900",children:MX(t)}),g.jsx("div",{className:"text-xs text-gray-500",children:t})]}),!i&&g.jsx("span",{className:"text-xs text-gray-400",children:"Sem atividades"})]}),i&&g.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.completed>0&&g.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-green-50 px-2 py-1",children:[g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs font-medium text-green-700",children:n.completed})]}),n.skipped>0&&g.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-amber-50 px-2 py-1",children:[g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs font-medium text-amber-700",children:n.skipped})]}),n.postponed>0&&g.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-blue-50 px-2 py-1",children:[g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs font-medium text-blue-700",children:n.postponed})]}),n.missed>0&&g.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-red-50 px-2 py-1",children:[g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs font-medium text-red-700",children:n.missed})]})]}),g.jsxs("div",{className:"mt-3 flex items-center gap-3 border-t border-gray-100 pt-3 text-xs text-gray-500",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:Object.keys(e.checkedFoods).length})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:e.checkedSupplements.length})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("span",{children:""}),g.jsxs("span",{children:[(e.waterMl/1e3).toFixed(1),"L"]})]})]})]})}function BX({progressData:t,dateKeys:e}){return g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Linha do Tempo"}),e.length===0&&g.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-8 text-center",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Nenhum dado disponvel"})]}),g.jsx("div",{className:"space-y-3",children:t.map((n,r)=>g.jsx(VX,{date:e[r],progress:n},e[r]))})]})}function zX(){const[t,e]=w.useState(7),{dateKeys:n,progressData:r,metrics:i}=DX(t);return g.jsxs("div",{className:"space-y-4 pb-4",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-lg font-bold text-on-surface",children:"Histrico"}),g.jsx("p",{className:"text-xs text-on-surface-muted",children:"Acompanhe sua aderncia ao plano"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>e(7),className:`flex-1 rounded-lg border-2 py-2 text-sm font-medium transition-all ${t===7?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:"7 dias"}),g.jsx("button",{onClick:()=>e(14),className:`flex-1 rounded-lg border-2 py-2 text-sm font-medium transition-all ${t===14?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:"14 dias"}),g.jsx("button",{onClick:()=>e(30),className:`flex-1 rounded-lg border-2 py-2 text-sm font-medium transition-all ${t===30?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-700 active:bg-gray-50"}`,children:"30 dias"})]}),g.jsx("section",{children:g.jsx(kX,{metrics:i})}),g.jsx("section",{children:g.jsx(BX,{progressData:r,dateKeys:n})})]})}function ym(t){const{userId:e,collectionPath:n}=t,[r,i]=w.useState([]),[a,l]=w.useState(!0),[u,d]=w.useState(null),f=`users/${e}/${n}`;w.useEffect(()=>{if(!e||!n){l(!1);return}const E=KP(ih,f),S=VY(E),A=$Y(S,C=>{const N=C.docs.map(j=>({id:j.id,...j.data()}));i(N),l(!1),d(null)},C=>{console.error("Firestore listener error:",C),d("Erro ao carregar dados"),l(!1)});return()=>A()},[e,n,f]);const m=w.useCallback(async E=>{try{const S=KP(ih,f);return(await FY(S,E)).id}catch(S){throw console.error("Firestore create error:",S),d("Erro ao criar item"),S}},[f]),p=w.useCallback(async(E,S)=>{try{const A=K1(ih,f,E);await UY(A,S)}catch(A){throw console.error("Firestore update error:",A),d("Erro ao atualizar item"),A}},[f]),v=w.useCallback(async E=>{try{const S=K1(ih,f,E);await qY(S)}catch(S){throw console.error("Firestore delete error:",S),d("Erro ao deletar item"),S}},[f]),_=w.useCallback(async()=>{},[]);return{data:r,loading:a,error:u,create:m,update:p,delete:v,refresh:_}}function vm(t){const{userId:e}=t,{data:n,loading:r,error:i,create:a,update:l,delete:u}=ym({userId:e,collectionPath:"expenses"}),d=w.useCallback(async v=>{if(!v.amount||v.amount<=0)throw new Error("Amount must be greater than 0");if(!v.category)throw new Error("Category is required");if(!v.description)throw new Error("Description is required");if(!v.date)throw new Error("Date is required");if(!v.paymentMethod)throw new Error("Payment method is required");const _=Date.now(),E={...v,userId:e,createdAt:_,updatedAt:_};return a(E)},[a,e]),f=w.useCallback((v,_)=>{const E=v.getTime(),S=_.getTime();return n.filter(A=>A.date>=E&&A.date<=S)},[n]),m=w.useCallback(v=>n.filter(_=>_.category===v),[n]),p=w.useCallback(v=>n.filter(_=>{const E=new Date(_.date);return`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`===v}),[n]);return{expenses:n,loading:r,error:i,createExpense:d,updateExpense:l,deleteExpense:u,getExpensesByDateRange:f,getExpensesByCategory:m,getExpensesByMonth:p}}function lA(t){const{userId:e}=t,{data:n,loading:r,error:i,create:a,update:l,delete:u}=ym({userId:e,collectionPath:"budgets"}),d=w.useCallback(async p=>{if(!p.categoryId)throw new Error("categoryId  obrigatrio");if(!p.month)throw new Error("month  obrigatrio");if(typeof p.amount!="number"||p.amount<=0)throw new Error("amount deve ser um nmero positivo");if(!/^\d{4}-\d{2}$/.test(p.month))throw new Error("month deve estar no formato YYYY-MM");const _={...p,createdAt:Date.now(),userId:e};return a(_)},[a,e]),f=w.useCallback(p=>n.filter(v=>v.month===p),[n]),m=w.useCallback((p,v)=>n.find(_=>_.categoryId===p&&_.month===v),[n]);return{budgets:n,loading:r,error:i,createBudget:d,updateBudget:l,deleteBudget:u,getBudgetByMonth:f,getBudgetByCategoryAndMonth:m}}function _u(t){const{userId:e}=t,{data:n,loading:r,error:i,create:a,update:l,delete:u}=ym({userId:e,collectionPath:"categories"}),d=w.useCallback(async p=>{if(!p.name||!p.icon||!p.color||!p.type)throw new Error("Missing required fields: name, icon, color, type");const v={...p,createdAt:Date.now(),userId:e};return a(v)},[a,e]),f=w.useCallback(p=>n.find(v=>v.id===p),[n]),m=w.useCallback(p=>n.filter(v=>v.type===p),[n]);return{categories:n,loading:r,error:i,createCategory:d,updateCategory:l,deleteCategory:u,getCategoryById:f,getCategoriesByType:m}}const UX=[{name:"Alimentao",icon:"",color:"#f97316",budget:0,type:"variable"},{name:"Transporte",icon:"",color:"#3b82f6",budget:0,type:"variable"},{name:"Moradia",icon:"",color:"#8b5cf6",budget:0,type:"fixed"},{name:"Sade",icon:"",color:"#ef4444",budget:0,type:"variable"},{name:"Lazer",icon:"",color:"#10b981",budget:0,type:"variable"},{name:"Educao",icon:"",color:"#6366f1",budget:0,type:"variable"},{name:"Contas",icon:"",color:"#f59e0b",budget:0,type:"fixed"}];async function qX(t){for(const e of UX)await t(e)}function FL({expense:t,categoryName:e="Sem categoria",categoryIcon:n="",categoryColor:r="#6b7280",onEdit:i,onDelete:a,className:l=""}){const[u,d]=w.useState(!1),f=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_),m=_=>{const E=new Date(_),S=new Date,A=new Date(S);return A.setDate(A.getDate()-1),E.toDateString()===S.toDateString()?"Hoje":E.toDateString()===A.toDateString()?"Ontem":E.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})},p={cash:"",debit:"",credit:"",pix:""},v={cash:"Dinheiro",debit:"Dbito",credit:"Crdito",pix:"PIX"};return g.jsxs("div",{className:`overflow-hidden rounded-xl border transition-colors bg-white border-gray-200 ${l}`,children:[g.jsxs("button",{onClick:()=>d(!u),className:"flex w-full items-center gap-3 p-4 text-left",children:[g.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-lg",style:{backgroundColor:`${r}20`},children:n}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-semibold text-on-surface truncate",children:t.description}),t.installmentId&&g.jsx("span",{className:"shrink-0 rounded-sm bg-blue-100 px-1.5 py-0.5 text-[10px] font-medium text-blue-700",children:"parcelado"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[g.jsx("span",{className:"text-xs text-on-surface-muted",children:e}),g.jsx("span",{className:"text-xs text-on-surface-muted",children:""}),g.jsx("span",{className:"text-xs text-on-surface-muted",children:m(t.date)})]})]}),g.jsxs("div",{className:"text-right shrink-0",children:[g.jsx("p",{className:"text-sm font-bold text-on-surface",children:f(t.amount)}),g.jsxs("p",{className:"text-xs text-on-surface-muted mt-0.5",children:[p[t.paymentMethod]," ",v[t.paymentMethod]]})]}),g.jsx("svg",{className:`h-4 w-4 shrink-0 text-gray-400 transition-transform ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&g.jsxs("div",{className:"border-t border-gray-100 px-4 pb-4 pt-3",children:[g.jsxs("div",{className:"space-y-2 mb-4",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-on-surface-muted",children:"Forma de pagamento:"}),g.jsxs("span",{className:"font-medium text-on-surface",children:[p[t.paymentMethod]," ",v[t.paymentMethod]]})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-on-surface-muted",children:"Categoria:"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:n}),g.jsx("span",{className:"font-medium text-on-surface",children:e})]})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-on-surface-muted",children:"Data:"}),g.jsx("span",{className:"font-medium text-on-surface",children:m(t.date)})]}),t.installmentId&&g.jsxs("div",{className:"mt-3 rounded-lg bg-blue-50 px-3 py-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[g.jsx("span",{className:"text-blue-600",children:""}),g.jsx("span",{className:"font-medium text-blue-700",children:"Compra parcelada"})]}),g.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Esta despesa faz parte de uma compra parcelada"})]}),t.tags&&t.tags.length>0&&g.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:t.tags.map(_=>g.jsx("span",{className:"rounded-md bg-gray-100 px-2 py-0.5 text-[10px] font-medium text-gray-700",children:_},_))}),t.isRecurring&&g.jsx("div",{className:"mt-2",children:g.jsx("span",{className:"rounded-sm bg-purple-100 px-2 py-1 text-xs font-medium text-purple-700",children:" Despesa recorrente"})})]}),(i||a)&&g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i&&g.jsxs("button",{onClick:()=>i(t),className:"h-12 rounded-lg border-2 border-orange-500 bg-orange-500 text-white text-sm font-medium transition-all active:bg-orange-600 hover:bg-orange-600",children:[g.jsx("span",{className:"mr-1",children:""}),"Editar"]}),a&&g.jsxs("button",{onClick:()=>a(t.id),className:"h-12 rounded-lg border-2 border-red-500 bg-red-500 text-white text-sm font-medium transition-all active:bg-red-600 hover:bg-red-600",children:[g.jsx("span",{className:"mr-1",children:""}),"Deletar"]})]})]})]})}function FX(t,e){if(e===0)return 0;const n=t/e*100;return Math.round(n*100)/100}function ij(t){const e=new Map;for(const n of t){const r=e.get(n.category)||0;e.set(n.category,r+n.amount)}return e}function $L({spent:t,budget:e,categoryName:n,categoryIcon:r,showDetails:i=!0,className:a=""}){const l=FX(t,e),u=Math.max(0,e-t),f=(v=>v>100?"#ef4444":v>=80?"#f59e0b":"#10b981")(l),m=Math.min(l,100),p=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v);return e===0?g.jsx("div",{className:`text-sm text-on-surface-muted ${a}`,children:"Sem oramento definido"}):g.jsxs("div",{className:a,children:[i&&n&&g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[r&&g.jsx("span",{className:"text-lg","aria-hidden":"true",children:r}),g.jsx("span",{className:"font-medium text-on-surface",children:n})]}),g.jsxs("span",{className:"text-sm font-bold",style:{color:f},"aria-label":`${l.toFixed(0)} por cento do oramento utilizado`,children:[l.toFixed(0),"%"]})]}),g.jsx("div",{className:"relative w-full h-3 bg-gray-200 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":Math.min(l,100),"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progresso do oramento: ${l.toFixed(0)}%`,children:g.jsx("div",{className:"h-full rounded-full transition-all duration-300 ease-out",style:{width:`${m}%`,backgroundColor:f}})}),i&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-on-surface-muted",children:[g.jsxs("span",{children:["Gasto: ",p(t)]}),g.jsxs("span",{children:["Oramento: ",p(e)]})]}),l>100&&g.jsxs("p",{className:"mt-1 text-xs text-red-600 font-medium",children:[" ",p(t-e)," acima do oramento"]}),l<=100&&g.jsxs("p",{className:"mt-1 text-xs text-on-surface-muted",children:["Restante: ",p(u)]})]})]})}function $X({onClick:t}){return g.jsx("button",{onClick:t,className:"fixed bottom-24 right-4 z-40 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-xl transition-transform active:scale-95 hover:shadow-2xl","aria-label":"Adicionar despesa",children:g.jsx("svg",{className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M12 5v14M5 12h14"})})})}function HX(){const[t,e]=w.useState(navigator.onLine);return w.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t}function KX({className:t=""}){const e=HX();return g.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-full px-3 py-1.5 shadow-md transition-all ${e?"bg-emerald-500 text-white":"bg-rose-500 text-white"} ${t}`,role:"status","aria-live":"polite","aria-label":e?"Conectado":"Offline",children:[g.jsx("div",{className:`h-2 w-2 rounded-full ${e?"bg-white":"bg-white animate-pulse"}`,"aria-hidden":"true"}),g.jsx("span",{className:"text-xs font-semibold leading-none",children:e?"Conectado":"Offline"}),e?g.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:g.jsx("path",{d:"M20 6L9 17l-5-5"})}):g.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]})}function uA({currentMonth:t,onChange:e}){const n=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],r=()=>{const u=new Date(t);u.setMonth(u.getMonth()-1),e(u)},i=()=>{const u=new Date(t);u.setMonth(u.getMonth()+1),e(u)},a=n[t.getMonth()],l=t.getFullYear();return g.jsxs("div",{className:"flex items-center justify-between gap-4 w-full max-w-md mx-auto",children:[g.jsx("button",{onClick:r,className:"flex items-center justify-center min-w-[48px] min-h-[48px] rounded-lg border-2 border-orange-500 bg-white text-orange-500 hover:bg-orange-50 active:bg-orange-100 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Ms anterior",type:"button",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})})}),g.jsx("div",{className:"flex-1 text-center",children:g.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900",children:[a," ",l]})}),g.jsx("button",{onClick:i,className:"flex items-center justify-center min-w-[48px] min-h-[48px] rounded-lg border-2 border-orange-500 bg-white text-orange-500 hover:bg-orange-50 active:bg-orange-100 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Prximo ms",type:"button",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})}function HL(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function I_(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}function GX(t,e){return t.filter(n=>{const r=new Date(n.date);return HL(r)===e})}function WX(t){return t.reduce((e,n)=>e+n.amount,0)}function YX(t){return[...t].sort((e,n)=>n.date-e.date)}function QX(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(new Date),{expenses:i,loading:a}=vm({userId:t.uid}),{budgets:l,loading:u}=lA({userId:t.uid}),{categories:d,getCategoryById:f}=_u({userId:t.uid}),m=w.useMemo(()=>HL(n),[n]),p=w.useMemo(()=>GX(i,m),[i,m]),v=w.useMemo(()=>l.filter(D=>D.month===m),[l,m]),_=w.useMemo(()=>WX(p),[p]),E=w.useMemo(()=>v.reduce((D,V)=>D+V.amount,0),[v]),S=w.useMemo(()=>E-_,[E,_]),A=w.useMemo(()=>YX(p).slice(0,5),[p]),C=w.useMemo(()=>{const D=new Map;return p.forEach(V=>{const M=D.get(V.category)||0;D.set(V.category,M+V.amount)}),D},[p]),N=w.useMemo(()=>d.filter(D=>v.some(V=>V.categoryId===D.id)),[d,v]);return a||u?g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-orange-500 border-t-transparent"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Carregando..."})]})}):g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsx(KX,{}),g.jsxs("header",{className:"border-b border-gray-200 bg-white p-4",children:[g.jsx("h1",{className:"mb-4 text-2xl font-bold text-gray-900",children:"Finanas "}),g.jsx(uA,{currentMonth:n,onChange:r})]}),g.jsxs("main",{className:"space-y-6 p-4",children:[g.jsx("section",{"aria-label":"Resumo financeiro",children:g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"rounded-lg bg-white p-4 shadow",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Total Gasto"}),g.jsx("p",{className:"text-xl font-bold text-gray-900",children:I_(_)})]}),g.jsxs("div",{className:"rounded-lg bg-white p-4 shadow",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Oramento"}),g.jsx("p",{className:"text-xl font-bold text-gray-900",children:I_(E)})]}),g.jsxs("div",{className:`col-span-2 rounded-lg p-4 shadow ${S>=0?"bg-emerald-50":"bg-red-50"}`,children:[g.jsx("p",{className:"text-xs text-gray-600",children:S>=0?"Restante":"Acima do Oramento"}),g.jsx("p",{className:`text-xl font-bold ${S>=0?"text-emerald-700":"text-red-700"}`,children:I_(Math.abs(S))}),S<0&&g.jsx("p",{className:"mt-1 text-xs text-red-600",children:" Voc ultrapassou o oramento do ms"})]})]})}),N.length>0&&g.jsxs("section",{className:"rounded-lg bg-white p-4 shadow","aria-label":"Progresso dos oramentos",children:[g.jsx("h2",{className:"mb-4 text-lg font-bold text-gray-900",children:"Oramentos"}),g.jsx("div",{className:"space-y-4",children:N.map(D=>{const V=v.find(L=>L.categoryId===D.id);if(!V)return null;const M=C.get(D.id)||0,R=(V.amount>0?M/V.amount*100:0)>100;return g.jsxs("div",{children:[g.jsx($L,{spent:M,budget:V.amount,categoryName:D.name,categoryIcon:D.icon,showDetails:!0}),R&&g.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-md bg-red-100 px-3 py-2",role:"alert",children:[g.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),g.jsxs("span",{className:"text-xs font-medium text-red-700",children:["Oramento ultrapassado em ",D.name]})]})]},D.id)})})]}),g.jsxs("section",{className:"rounded-lg bg-white p-4 shadow","aria-label":"Despesas recentes",children:[g.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Despesas Recentes"}),p.length>5&&g.jsx("button",{onClick:()=>e("/finance/history"),className:"text-sm font-medium text-orange-500 hover:text-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Ver todas as despesas",children:"Ver todas"})]}),A.length===0?g.jsxs("div",{className:"py-8 text-center",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma despesa registrada este ms"}),g.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Clique no boto + para adicionar uma despesa"})]}):g.jsx("div",{className:"space-y-3",children:A.map(D=>{const V=f(D.category);return g.jsx(FL,{expense:D,categoryName:V?.name,categoryIcon:V?.icon,categoryColor:V?.color},D.id)})})]})]}),g.jsx($X,{onClick:()=>e("/finance/add-expense")})]})}function XX({categories:t,selectedCategoryId:e,onSelect:n,className:r=""}){return g.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 ${r}`,role:"group","aria-label":"Seleo de categoria",children:t.map(i=>{const a=i.id===e;return g.jsxs("button",{onClick:()=>n(i.id),className:`
              relative flex flex-col items-center justify-center
              min-h-[80px] p-4 rounded-lg border-2 transition-all
              hover:scale-105 active:scale-95
              focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
              ${a?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}
            `,"aria-pressed":a,"aria-label":`Selecionar categoria ${i.name}`,type:"button",children:[a&&g.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center","aria-hidden":"true",children:g.jsx("span",{className:"text-white text-xs font-bold",children:""})}),g.jsx("div",{className:"text-3xl mb-1",style:{filter:a?"none":"grayscale(20%)"},"aria-hidden":"true",children:i.icon}),g.jsx("span",{className:"text-xs font-medium text-gray-700 text-center line-clamp-1",children:i.name}),g.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-8 h-1 rounded-full",style:{backgroundColor:i.color},"aria-hidden":"true"})]},i.id)})})}const bm=t=>Number.isNaN(t)?{isValid:!1,error:"O valor deve ser um nmero vlido"}:Number.isFinite(t)?t<=0?{isValid:!1,error:"O valor deve ser maior que zero"}:{isValid:!0}:{isValid:!1,error:"O valor deve ser um nmero finito"},ZX=t=>{const e=[];if(t.amount===void 0)e.push('O campo "amount"  obrigatrio');else{const n=bm(t.amount);!n.isValid&&n.error&&e.push(n.error)}return t.category||e.push('O campo "categoryId"  obrigatrio'),t.description?t.description.trim().length<3&&e.push("A descrio deve ter no mnimo 3 caracteres"):e.push('O campo "description"  obrigatrio'),t.date===void 0?e.push('O campo "date"  obrigatrio'):(!Number.isFinite(t.date)||t.date<0)&&e.push("A data deve ser um timestamp vlido"),t.paymentMethod||e.push('O campo "paymentMethod"  obrigatrio'),{isValid:e.length===0,errors:e}},JX=t=>{const e=[];return t.name?t.name.trim().length<2?e.push("O nome deve ter no mnimo 2 caracteres"):t.name.length>50&&e.push("O nome deve ter no mximo 50 caracteres"):e.push('O campo "name"  obrigatrio'),t.icon?t.icon.trim().length<1&&e.push("O cone deve ter no mnimo 1 caractere"):e.push('O campo "icon"  obrigatrio'),t.color?t.color.startsWith("#")||e.push("A cor deve ser um cdigo hexadecimal (comear com #)"):e.push('O campo "color"  obrigatrio'),t.type?t.type!=="fixed"&&t.type!=="variable"&&e.push('O tipo deve ser "fixed" ou "variable"'):e.push('O campo "type"  obrigatrio'),{isValid:e.length===0,errors:e}};function eZ(t,e){if(e<=0)return 0;const n=t/e;return Math.round(n*100)/100}function tZ(){const{user:t}=Na(),e=Ui(),{createExpense:n}=vm({userId:t.uid}),{categories:r}=_u({userId:t.uid}),[i,a]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(new Date().toISOString().split("T")[0]),[v,_]=w.useState("cash"),[E,S]=w.useState(1),[A,C]=w.useState(!1),[N,j]=w.useState(""),D=async M=>{M.preventDefault(),j("");const P=parseFloat(i),R=bm(P);if(!R.isValid){j(R.error||"Valor invlido");return}const L={amount:P,category:l,description:d,date:new Date(m).getTime(),paymentMethod:v,isRecurring:!1},F=ZX(L);if(!F.isValid){j(F.errors.join(", "));return}if(v==="credit"&&(E<1||E>36)){j("Nmero de parcelas deve estar entre 1 e 36");return}try{C(!0),await n(L),e("/finance")}catch(B){j("Erro ao criar despesa"),console.error(B)}finally{C(!1)}},V=()=>{const M=parseFloat(i);if(isNaN(M)||M<=0)return"";if(E===1)return" vista";const P=eZ(M,E);return`${E} de R$ ${P.toFixed(2)}`};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[g.jsx("button",{onClick:()=>e("/finance"),className:"text-gray-600 hover:text-gray-900 mb-2 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 rounded","aria-label":"Voltar para dashboard",children:" Voltar"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nova Despesa"})]}),g.jsxs("form",{onSubmit:D,className:"p-4 space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500","aria-hidden":"true",children:"R$"}),g.jsx("input",{id:"amount",type:"number",step:"0.01",min:"0",value:i,onChange:M=>a(M.target.value),className:"w-full h-12 pl-12 pr-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"0,00",required:!0,"aria-required":"true","aria-invalid":N.includes("valor")?"true":"false"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),g.jsx(XX,{categories:r,selectedCategoryId:l,onSelect:u}),!l&&N&&g.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"Selecione uma categoria"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio *"}),g.jsx("input",{id:"description",type:"text",value:d,onChange:M=>f(M.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"Ex: Almoo no restaurante",required:!0,minLength:3,"aria-required":"true","aria-invalid":N.includes("descrio")?"true":"false"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),g.jsx("input",{id:"date",type:"date",value:m,onChange:M=>p(M.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0,"aria-required":"true"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento *"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",role:"group","aria-label":"Forma de pagamento",children:[{value:"cash",icon:"",label:"Dinheiro"},{value:"debit",icon:"",label:"Dbito"},{value:"credit",icon:"",label:"Crdito"},{value:"pix",icon:"",label:"PIX"}].map(M=>g.jsxs("button",{type:"button",onClick:()=>{_(M.value),M.value!=="credit"&&S(1)},className:`
                  h-12 rounded-lg border-2 transition-all font-medium
                  focus:ring-2 focus:ring-orange-500 focus:ring-offset-2
                  ${v===M.value?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}
                `,"aria-pressed":v===M.value,"aria-label":`Selecionar ${M.label}`,children:[g.jsx("span",{"aria-hidden":"true",children:M.icon})," ",M.label]},M.value))})]}),v==="credit"&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"installments",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parcelas"}),g.jsx("input",{id:"installments",type:"number",min:"1",max:"36",value:E,onChange:M=>S(parseInt(M.target.value)||1),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all","aria-describedby":"installment-preview"}),i&&E>0&&g.jsx("p",{id:"installment-preview",className:"mt-2 text-sm text-gray-600","aria-live":"polite",children:V()})]}),N&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:g.jsx("p",{className:"text-sm text-red-600",children:N})}),g.jsx("button",{type:"submit",disabled:A||!l,className:"w-full h-12 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-busy":A,children:A?"Salvando...":"Salvar Despesa"})]})]})}function KL(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function nZ(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}function rZ(t,e,n,r){return t.filter(i=>{const a=new Date(i.date);return!(KL(a)!==e||n!=="all"&&i.category!==n||r&&!i.description.toLowerCase().includes(r.toLowerCase()))})}function iZ(t){return[...t].sort((e,n)=>n.date-e.date)}function aZ(t){return t.reduce((e,n)=>e+n.amount,0)}function sZ(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(new Date),[i,a]=w.useState(""),[l,u]=w.useState("all"),{expenses:d,deleteExpense:f,loading:m}=vm({userId:t.uid}),{categories:p,getCategoryById:v}=_u({userId:t.uid}),_=w.useMemo(()=>{const C=KL(n),N=rZ(d,C,l,i);return iZ(N)},[d,n,l,i]),E=w.useMemo(()=>aZ(_),[_]),S=C=>{window.confirm("Deletar esta despesa?")&&f(C)},A=C=>{e(`/finance/edit-expense/${C}`)};return m?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-orange-500 border-r-transparent"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Carregando..."})]})}):g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("header",{className:"bg-white border-b border-gray-200 p-4",children:[g.jsxs("button",{onClick:()=>e("/finance"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-3 min-h-[44px]","aria-label":"Voltar para dashboard",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),g.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Histrico"}),g.jsx(uA,{currentMonth:n,onChange:r})]}),g.jsxs("section",{className:"p-4 space-y-3","aria-label":"Filtros",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"search-input",className:"sr-only",children:"Buscar despesas"}),g.jsx("input",{id:"search-input",type:"text",value:i,onChange:C=>a(C.target.value),placeholder:"Buscar despesas...",className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all","aria-label":"Buscar despesas por descrio"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category-filter",className:"sr-only",children:"Filtrar por categoria"}),g.jsxs("select",{id:"category-filter",value:l,onChange:C=>u(C.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all bg-white","aria-label":"Filtrar despesas por categoria",children:[g.jsx("option",{value:"all",children:"Todas as categorias"}),p.map(C=>g.jsxs("option",{value:C.id,children:[C.icon," ",C.name]},C.id))]})]}),g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[g.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Total: ",_.length," ",_.length===1?"despesa":"despesas"]}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:nZ(E)})]})]}),g.jsx("section",{className:"px-4 space-y-3","aria-label":"Lista de despesas",children:_.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("p",{className:"text-gray-500 text-base",children:"Nenhuma despesa encontrada"}),(i||l!=="all")&&g.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Tente ajustar os filtros de busca"})]}):_.map(C=>{const N=v(C.category);return g.jsx(FL,{expense:C,categoryName:N?.name,categoryIcon:N?.icon,categoryColor:N?.color,onEdit:()=>A(C.id),onDelete:()=>S(C.id)},C.id)})})]})}function GL(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function oZ(t){const[e,n]=t.split("-");return new Date(parseInt(e),parseInt(n)-1,1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}function O_(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}function lZ(t,e){return t.filter(n=>{const r=new Date(n.date);return GL(r)===e})}function uZ(t){const e=new Map;return t.forEach(n=>{const r=e.get(n.category)||0;e.set(n.category,r+n.amount)}),e}function cZ(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(!1),[i,a]=w.useState(null),[l,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(""),v=w.useMemo(()=>new Date,[]),_=w.useMemo(()=>GL(v),[v]),{budgets:E,createBudget:S,updateBudget:A,deleteBudget:C,loading:N}=lA({userId:t.uid}),{categories:j,loading:D}=_u({userId:t.uid}),{expenses:V,loading:M}=vm({userId:t.uid}),P=w.useMemo(()=>E.filter(ue=>ue.month===_),[E,_]),R=w.useMemo(()=>lZ(V,_),[V,_]),L=w.useMemo(()=>uZ(R),[R]),F=w.useMemo(()=>P.reduce((ue,ye)=>ue+ye.amount,0),[P]),B=w.useMemo(()=>Array.from(L.values()).reduce((ue,ye)=>ue+ye,0),[L]),U=w.useMemo(()=>F-B,[F,B]),q=w.useMemo(()=>i?j:j.filter(ue=>!P.some(ye=>ye.categoryId===ue.id)),[j,P,i]),ge=w.useCallback(async ue=>{if(ue.preventDefault(),p(""),!l){p("Selecione uma categoria");return}const ye=parseFloat(d),$=bm(ye);if(!$.isValid){p($.error||"Valor invlido");return}try{i?await A(i,{amount:ye}):await S({categoryId:l,month:_,amount:ye}),r(!1),a(null),u(""),f("")}catch{p("Erro ao salvar oramento. Tente novamente.")}},[l,d,i,_,S,A]),fe=w.useCallback(ue=>{const ye=P.find($=>$.id===ue);ye&&(a(ue),u(ye.categoryId),f(ye.amount.toString()),r(!0),p(""))},[P]),W=w.useCallback(async ue=>{const ye=P.find(te=>te.id===ue),$=j.find(te=>te.id===ye?.categoryId);if(window.confirm(`Deletar oramento de ${$?.name||"categoria"}?`))try{await C(ue)}catch{p("Erro ao deletar oramento. Tente novamente.")}},[P,j,C]),ae=w.useCallback(()=>{r(!1),a(null),u(""),f(""),p("")},[]);return N||D||M?g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-orange-500 border-t-transparent"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Carregando..."})]})}):g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("header",{className:"border-b border-gray-200 bg-white p-4",children:[g.jsx("button",{onClick:()=>e("/finance"),className:"mb-2 text-sm text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Voltar para dashboard",children:" Voltar"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Oramentos "}),g.jsx("p",{className:"text-sm text-gray-500",children:oZ(_)})]}),g.jsxs("main",{className:"space-y-6 p-4",children:[g.jsxs("section",{className:"rounded-lg bg-white p-4 shadow","aria-label":"Resumo de oramentos",children:[g.jsx("h2",{className:"mb-4 text-lg font-bold text-gray-900",children:"Resumo"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Oramento Total"}),g.jsx("span",{className:"text-lg font-bold text-gray-900",children:O_(F)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Total Gasto"}),g.jsx("span",{className:"text-lg font-bold text-gray-900",children:O_(B)})]}),g.jsx("div",{className:"border-t border-gray-200"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium text-gray-700",children:U>=0?"Restante":"Acima do Oramento"}),g.jsx("span",{className:`text-xl font-bold ${U>=0?"text-emerald-600":"text-red-600"}`,children:O_(Math.abs(U))})]})]})]}),!n&&q.length>0&&g.jsx("button",{onClick:()=>r(!0),className:"min-h-[48px] w-full rounded-lg bg-orange-500 px-6 py-3 font-medium text-white shadow transition-colors hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Adicionar novo oramento",children:"+ Adicionar Oramento"}),!n&&q.length===0&&P.length>0&&g.jsx("div",{className:"rounded-lg bg-blue-50 p-4 text-center",children:g.jsx("p",{className:"text-sm text-blue-700",children:"Todas as categorias j possuem oramentos definidos"})}),n&&g.jsxs("form",{onSubmit:ge,className:"rounded-lg bg-white p-4 shadow","aria-label":i?"Editar oramento":"Adicionar oramento",children:[g.jsx("h2",{className:"mb-4 text-lg font-bold text-gray-900",children:i?"Editar Oramento":"Novo Oramento"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category",className:"mb-2 block text-sm font-medium text-gray-700",children:"Categoria"}),g.jsxs("select",{id:"category",value:l,onChange:ue=>u(ue.target.value),className:"min-h-[48px] w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,disabled:!!i,"aria-label":"Selecione a categoria",children:[g.jsx("option",{value:"",children:"Selecione a categoria"}),q.map(ue=>g.jsxs("option",{value:ue.id,children:[ue.icon," ",ue.name]},ue.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"amount",className:"mb-2 block text-sm font-medium text-gray-700",children:"Valor do Oramento"}),g.jsx("input",{id:"amount",type:"number",step:"0.01",min:"0.01",value:d,onChange:ue=>f(ue.target.value),placeholder:"R$ 0,00",className:"min-h-[48px] w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,"aria-label":"Digite o valor do oramento"})]}),m&&g.jsx("div",{className:"rounded-lg bg-red-50 p-3 text-sm text-red-700",role:"alert",children:m}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"min-h-[48px] flex-1 rounded-lg bg-orange-500 px-6 py-3 font-medium text-white shadow transition-colors hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":i?"Salvar alteraes":"Criar oramento",children:i?"Salvar":"Criar"}),g.jsx("button",{type:"button",onClick:ae,className:"min-h-[48px] flex-1 rounded-lg bg-gray-200 px-6 py-3 font-medium text-gray-700 shadow transition-colors hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2","aria-label":"Cancelar",children:"Cancelar"})]})]})]}),g.jsx("section",{"aria-label":"Lista de oramentos",children:P.length===0?g.jsxs("div",{className:"rounded-lg bg-white p-8 text-center shadow",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum oramento definido para este ms"}),g.jsx("p",{className:"mt-2 text-xs text-gray-400",children:'Clique em "Adicionar Oramento" para comear'})]}):g.jsx("div",{className:"space-y-4",children:P.map(ue=>{const ye=j.find(te=>te.id===ue.categoryId);if(!ye)return null;const $=L.get(ue.categoryId)||0;return g.jsxs("div",{className:"rounded-lg bg-white p-4 shadow",children:[g.jsx($L,{spent:$,budget:ue.amount,categoryName:ye.name,categoryIcon:ye.icon,showDetails:!0}),g.jsxs("div",{className:"mt-4 flex gap-2",children:[g.jsx("button",{onClick:()=>fe(ue.id),className:"min-h-[48px] flex-1 rounded-lg border-2 border-orange-500 px-4 py-2 text-sm font-medium text-orange-500 transition-colors hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":`Editar oramento de ${ye.name}`,children:"Editar"}),g.jsx("button",{onClick:()=>W(ue.id),className:"min-h-[48px] flex-1 rounded-lg border-2 border-red-500 px-4 py-2 text-sm font-medium text-red-500 transition-colors hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":`Remover oramento de ${ye.name}`,children:"Remover"})]})]},ue.id)})})})]})]})}function dZ(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(!1),[i,a]=w.useState(null),[l,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState("#f97316"),[v,_]=w.useState("variable"),[E,S]=w.useState(""),[A,C]=w.useState(null),{categories:N,createCategory:j,updateCategory:D,deleteCategory:V}=_u({userId:t.uid}),M=async B=>{B.preventDefault(),S("");const U=JX({name:l,icon:d,color:m,type:v});if(!U.isValid){S(U.errors.join(", "));return}try{i?await D(i,{name:l,icon:d,color:m,type:v}):await j({name:l,icon:d,color:m,type:v,budget:0}),P()}catch(q){S("Erro ao salvar categoria"),console.error("Error saving category:",q)}},P=()=>{r(!1),a(null),u(""),f(""),p("#f97316"),_("variable"),S("")},R=B=>{a(B.id),u(B.name),f(B.icon),p(B.color),_(B.type),r(!0),S("")},L=async B=>{if(A!==B){C(B);return}try{await V(B),C(null)}catch(U){S("Erro ao excluir categoria"),console.error("Error deleting category:",U)}},F=async()=>{try{await qX(j)}catch(B){S("Erro ao criar categorias padro"),console.error("Error initializing default categories:",B)}};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("div",{className:"bg-white border-b p-4 sticky top-0 z-10 shadow-sm",children:[g.jsxs("button",{onClick:()=>e("/finance"),className:"text-gray-600 mb-2 hover:text-gray-900 transition-colors flex items-center gap-1","aria-label":"Voltar para dashboard",children:[g.jsx("span",{className:"text-lg",children:""})," Voltar"]}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categorias"}),g.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie suas categorias de despesas"})]}),g.jsxs("div",{className:"p-4 space-y-6",children:[N.length===0&&g.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[g.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Voc ainda no tem categorias. Comece criando as categorias padro ou adicione suas prprias."}),g.jsx("button",{onClick:F,className:"w-full h-12 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 active:bg-blue-700 transition-colors","aria-label":"Criar categorias padro",children:" Criar Categorias Padro"})]}),!n&&g.jsx("button",{onClick:()=>r(!0),className:"w-full h-12 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 active:bg-orange-700 transition-colors shadow-md","aria-label":"Adicionar nova categoria",children:"+ Nova Categoria"}),n&&g.jsxs("form",{onSubmit:M,className:"bg-white rounded-lg p-4 shadow-md space-y-4 border border-gray-200",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i?"Editar Categoria":"Nova Categoria"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria"}),g.jsx("input",{id:"category-name",type:"text",value:l,onChange:B=>u(B.target.value),placeholder:"Ex: Alimentao",className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0,maxLength:50,"aria-label":"Nome da categoria"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category-icon",className:"block text-sm font-medium text-gray-700 mb-1",children:"cone (Emoji)"}),g.jsx("input",{id:"category-icon",type:"text",value:d,onChange:B=>f(B.target.value),placeholder:"",className:"w-full h-12 px-4 border border-gray-300 rounded-lg text-center text-2xl focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:2,required:!0,"aria-label":"cone da categoria"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use um emoji para representar a categoria"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category-color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("input",{id:"category-color",type:"color",value:m,onChange:B=>p(B.target.value),className:"w-16 h-12 border border-gray-300 rounded-lg cursor-pointer",required:!0,"aria-label":"Cor da categoria"}),g.jsx("input",{type:"text",value:m,onChange:B=>p(B.target.value),placeholder:"#f97316",className:"flex-1 h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent font-mono text-sm",pattern:"^#[0-9A-Fa-f]{6}$","aria-label":"Cdigo hexadecimal da cor"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Despesa"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("label",{className:"flex-1 flex items-center gap-2 h-12 px-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-orange-300 transition-colors",children:[g.jsx("input",{type:"radio",value:"variable",checked:v==="variable",onChange:()=>_("variable"),className:"w-4 h-4 text-orange-500 focus:ring-orange-500","aria-label":"Despesa varivel"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Varivel"})]}),g.jsxs("label",{className:"flex-1 flex items-center gap-2 h-12 px-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-orange-300 transition-colors",children:[g.jsx("input",{type:"radio",value:"fixed",checked:v==="fixed",onChange:()=>_("fixed"),className:"w-4 h-4 text-orange-500 focus:ring-orange-500","aria-label":"Despesa fixa"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fixa"})]})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fixa: despesas recorrentes (aluguel, contas). Varivel: despesas ocasionais"})]}),E&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",role:"alert",children:g.jsx("p",{className:"text-sm text-red-600",children:E})}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx("button",{type:"submit",className:"flex-1 h-12 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 active:bg-orange-700 transition-colors","aria-label":i?"Atualizar categoria":"Criar categoria",children:i?"Atualizar":"Criar"}),g.jsx("button",{type:"button",onClick:P,className:"flex-1 h-12 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 active:bg-gray-400 transition-colors","aria-label":"Cancelar",children:"Cancelar"})]})]}),N.length>0&&g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Suas Categorias (",N.length,")"]}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:N.map(B=>g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md border border-gray-200 relative group hover:shadow-lg transition-shadow",children:[g.jsx("button",{onClick:U=>{U.stopPropagation(),L(B.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-colors ${A===B.id?"bg-red-500 text-white":"bg-gray-200 text-gray-600 hover:bg-red-100 hover:text-red-600"}`,"aria-label":A===B.id?"Confirmar excluso":"Excluir categoria",title:A===B.id?"Clique novamente para confirmar":"Excluir",children:A===B.id?"":""}),g.jsxs("button",{onClick:()=>R(B),className:"w-full text-center","aria-label":`Editar categoria ${B.name}`,children:[g.jsx("div",{className:"text-4xl mb-2",children:B.icon}),g.jsx("p",{className:"font-medium text-sm text-gray-900 line-clamp-1",children:B.name}),g.jsx("div",{className:"w-full h-2 rounded mt-2",style:{backgroundColor:B.color},"aria-hidden":"true"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:B.type==="fixed"?"Fixa":"Varivel"})]})]},B.id))})]}),N.length===0&&!n&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("p",{className:"text-gray-600 mb-2",children:"Nenhuma categoria criada"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Crie categorias para organizar suas despesas"})]})]})]})}function fZ(t){const{userId:e}=t,{data:n,loading:r,error:i,create:a,update:l,delete:u}=ym({userId:e,collectionPath:"income"}),d=w.useCallback(async v=>{if(!v.amount||v.amount<=0)throw new Error("Amount must be greater than 0");if(!v.source)throw new Error("Source is required");if(!v.description)throw new Error("Description is required");if(!v.date)throw new Error("Date is required");if(typeof v.isRecurring!="boolean")throw new Error("isRecurring is required");if(!v.frequency)throw new Error("Frequency is required");const _=Date.now(),E={...v,userId:e,createdAt:_,updatedAt:_};return a(E)},[a,e]),f=w.useCallback((v,_)=>{const E=v.getTime(),S=_.getTime();return n.filter(A=>A.date>=E&&A.date<=S)},[n]),m=w.useCallback(v=>n.filter(_=>{const E=new Date(_.date);return`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`===v}),[n]),p=w.useCallback(v=>m(v).reduce((E,S)=>E+S.amount,0),[m]);return{income:n,loading:r,error:i,createIncome:d,updateIncome:l,deleteIncome:u,getIncomeByDateRange:f,getIncomeByMonth:m,getTotalIncomeByMonth:p}}function hZ(){const{user:t}=Na(),e=Ui(),n=new Date,r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`,{createIncome:i,deleteIncome:a,getIncomeByMonth:l,getTotalIncomeByMonth:u}=fZ({userId:t.uid}),[d,f]=w.useState(!1),[m,p]=w.useState(""),[v,_]=w.useState(""),[E,S]=w.useState(""),[A,C]=w.useState(new Date().toISOString().split("T")[0]),[N,j]=w.useState("one-time"),[D,V]=w.useState(""),[M,P]=w.useState(!1),R=l(r),L=u(r),F=[...R].sort((fe,W)=>W.date-fe.date),B=async fe=>{fe.preventDefault(),V("");const W=parseFloat(m),ae=bm(W);if(!ae.isValid){V(ae.error||"Valor invlido");return}if(!E.trim()){V("Fonte  obrigatria");return}try{P(!0),await i({amount:W,description:v.trim()||E,source:E.trim(),date:new Date(A).getTime(),isRecurring:N!=="one-time",frequency:N}),f(!1),p(""),_(""),S(""),C(new Date().toISOString().split("T")[0]),j("one-time")}catch(re){V("Erro ao adicionar receita"),console.error(re)}finally{P(!1)}},U=async(fe,W)=>{if(confirm(`Deletar receita "${W}"?`))try{await a(fe)}catch(ae){console.error("Error deleting income:",ae),alert("Erro ao deletar receita")}},q=fe=>new Date(fe).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),ge=()=>{f(!1),p(""),_(""),S(""),C(new Date().toISOString().split("T")[0]),j("one-time"),V("")};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[g.jsx("button",{onClick:()=>e("/finance"),className:"text-gray-600 hover:text-gray-900 mb-2 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 rounded","aria-label":"Voltar para dashboard",children:" Voltar"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Receitas"}),g.jsx("p",{className:"text-sm text-gray-500",children:r})]}),g.jsxs("div",{className:"p-4 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Total do Ms"}),g.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",L.toFixed(2)]}),g.jsxs("p",{className:"text-xs text-gray-500",children:[R.length," ",R.length===1?"receita":"receitas"]})]}),!d&&g.jsx("button",{onClick:()=>f(!0),className:"w-full h-12 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-all focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Adicionar nova receita",children:"+ Adicionar Receita"}),d&&g.jsxs("form",{onSubmit:B,className:"bg-white rounded-lg p-4 shadow space-y-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Nova Receita"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500","aria-hidden":"true",children:"R$"}),g.jsx("input",{id:"amount",type:"number",step:"0.01",min:"0",value:m,onChange:fe=>p(fe.target.value),className:"w-full h-12 pl-12 pr-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"0,00",required:!0,"aria-required":"true","aria-invalid":D.includes("valor")?"true":"false"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte *"}),g.jsx("input",{id:"source",type:"text",value:E,onChange:fe=>S(fe.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Ex: Salrio, Freelance",required:!0,"aria-required":"true","aria-invalid":D.includes("Fonte")?"true":"false"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio (opcional)"}),g.jsx("input",{id:"description",type:"text",value:v,onChange:fe=>_(fe.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Detalhes adicionais"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),g.jsx("input",{id:"date",type:"date",value:A,onChange:fe=>C(fe.target.value),className:"w-full h-12 px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,"aria-required":"true"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),g.jsx("div",{className:"grid grid-cols-3 gap-2",role:"group","aria-label":"Frequncia da receita",children:[{value:"one-time",label:"nica"},{value:"monthly",label:"Mensal"},{value:"weekly",label:"Semanal"}].map(fe=>g.jsx("button",{type:"button",onClick:()=>j(fe.value),className:`
                      h-12 rounded-lg border-2 transition-all font-medium text-sm
                      focus:ring-2 focus:ring-green-500 focus:ring-offset-2
                      ${N===fe.value?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50"}
                    `,"aria-pressed":N===fe.value,"aria-label":`Selecionar frequncia ${fe.label.toLowerCase()}`,children:fe.label},fe.value))})]}),D&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:g.jsx("p",{className:"text-sm text-red-600",children:D})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"submit",disabled:M,className:"flex-1 h-12 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-busy":M,children:M?"Salvando...":"Salvar"}),g.jsx("button",{type:"button",onClick:ge,disabled:M,className:"flex-1 h-12 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",children:"Cancelar"})]})]}),g.jsx("div",{className:"space-y-3",children:F.length===0?g.jsxs("div",{className:"bg-white rounded-lg p-8 shadow text-center",children:[g.jsx("p",{className:"text-gray-500",children:"Nenhuma receita registrada neste ms"}),!d&&g.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-green-600 hover:text-green-700 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 rounded",children:"Adicionar primeira receita"})]}):F.map(fe=>g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-gray-900",children:fe.source}),fe.description&&fe.description!==fe.source&&g.jsx("p",{className:"text-sm text-gray-600 mt-1",children:fe.description}),g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsx("p",{className:"text-xs text-gray-500",children:q(fe.date)}),fe.isRecurring&&g.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:fe.frequency==="monthly"?"Mensal":"Semanal"})]})]}),g.jsxs("p",{className:"text-lg font-bold text-green-600 ml-4",children:["R$ ",fe.amount.toFixed(2)]})]}),g.jsx("button",{onClick:()=>U(fe.id,fe.source),className:"mt-3 text-sm text-red-600 hover:text-red-700 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 rounded","aria-label":`Remover receita ${fe.source}`,children:"Remover"})]},fe.id))})]})]})}function WL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WL(t))&&(r&&(r+=" "),r+=e);return r}var mZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cA(t){if(typeof t!="string")return!1;var e=mZ;return e.includes(t)}var pZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gZ=new Set(pZ);function YL(t){return typeof t!="string"?!1:gZ.has(t)}function QL(t){return typeof t=="string"&&t.startsWith("data-")}function Fr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YL(n)||QL(n))&&(e[n]=t[n]);return e}function cu(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Fr(e)}return typeof t=="object"&&!Array.isArray(t)?Fr(t):null}function hr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YL(n)||QL(n)||cA(n))&&(e[n]=t[n]);return e}function yZ(t){return t==null?null:w.isValidElement(t)?hr(t.props):typeof t=="object"&&!Array.isArray(t)?hr(t):null}var vZ=["children","width","height","viewBox","className","style","title","desc"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function bZ(t,e){if(t==null)return{};var n,r,i=xZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dA=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=t,m=bZ(t,vZ),p=a||{width:r,height:i,x:0,y:0},v=it("recharts-surface",l);return w.createElement("svg",W1({},hr(m),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,f),n)}),_Z=["children","className"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(null,arguments)}function wZ(t,e){if(t==null)return{};var n,r,i=EZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ln=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=wZ(t,_Z),a=it("recharts-layer",r);return w.createElement("g",Y1({className:a},hr(i),{ref:e}),n)}),XL=w.createContext(null),SZ=()=>w.useContext(XL);function At(t){return function(){return t}}const ZL=Math.cos,Fy=Math.sin,qi=Math.sqrt,$y=Math.PI,f0=2*$y,Q1=Math.PI,X1=2*Q1,jl=1e-6,AZ=X1-jl;function JL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class CZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JL:TZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-e,f=i-n,m=l-e,p=u-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>jl)if(!(Math.abs(p*d-f*m)>jl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-u,S=d*d+f*f,A=_*_+E*E,C=Math.sqrt(S),N=Math.sqrt(v),j=a*Math.tan((Q1-Math.acos((S+v-A)/(2*C*N)))/2),D=j/N,V=j/C;Math.abs(D-1)>jl&&this._append`L${e+D*m},${n+D*p}`,this._append`A${a},${a},0,0,${+(p*_>m*E)},${this._x1=e+V*d},${this._y1=n+V*f}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=e+u,m=n+d,p=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>jl||Math.abs(this._y1-m)>jl)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%X1+X1),v>AZ?this._append`A${r},${r},0,1,${p},${e-u},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:v>jl&&this._append`A${r},${r},0,${+(v>=Q1)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new CZ(e)}function hA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e6(t){this._context=t}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function h0(t){return new e6(t)}function t6(t){return t[0]}function n6(t){return t[1]}function r6(t,e){var n=At(!0),r=null,i=h0,a=null,l=fA(u);t=typeof t=="function"?t:t===void 0?t6:At(t),e=typeof e=="function"?e:e===void 0?n6:At(e);function u(d){var f,m=(d=hA(d)).length,p,v=!1,_;for(r==null&&(a=i(_=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,d),+e(p,f,d));if(_)return a=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:At(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:At(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:At(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Ig(t,e,n){var r=null,i=At(!0),a=null,l=h0,u=null,d=fA(f);t=typeof t=="function"?t:t===void 0?t6:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?n6:At(+n);function f(p){var v,_,E,S=(p=hA(p)).length,A,C=!1,N,j=new Array(S),D=new Array(S);for(a==null&&(u=l(N=d())),v=0;v<=S;++v){if(!(v<S&&i(A=p[v],v,p))===C)if(C=!C)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=v-1;E>=_;--E)u.point(j[E],D[E]);u.lineEnd(),u.areaEnd()}C&&(j[v]=+t(A,v,p),D[v]=+e(A,v,p),u.point(r?+r(A,v,p):j[v],n?+n(A,v,p):D[v]))}if(N)return u=null,N+""||null}function m(){return r6().defined(i).curve(l).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:At(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:At(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:At(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),f):l},f.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),f):a},f}class i6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function IZ(t){return new i6(t,!0)}function OZ(t){return new i6(t,!1)}const mA={draw(t,e){const n=qi(e/$y);t.moveTo(n,0),t.arc(0,0,n,0,f0)}},NZ={draw(t,e){const n=qi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},a6=qi(1/3),PZ=a6*2,jZ={draw(t,e){const n=qi(e/PZ),r=n*a6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},RZ={draw(t,e){const n=qi(e),r=-n/2;t.rect(r,r,n,n)}},DZ=.8908130915292852,s6=Fy($y/10)/Fy(7*$y/10),kZ=Fy(f0/10)*s6,MZ=-ZL(f0/10)*s6,LZ={draw(t,e){const n=qi(e*DZ),r=kZ*n,i=MZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=f0*a/5,u=ZL(l),d=Fy(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},N_=qi(3),VZ={draw(t,e){const n=-qi(e/(N_*3));t.moveTo(0,n*2),t.lineTo(-N_*n,-n),t.lineTo(N_*n,-n),t.closePath()}},ai=-.5,si=qi(3)/2,Z1=1/qi(12),BZ=(Z1/2+1)*3,zZ={draw(t,e){const n=qi(e/BZ),r=n/2,i=n*Z1,a=r,l=n*Z1+n,u=-a,d=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,d),t.lineTo(ai*r-si*i,si*r+ai*i),t.lineTo(ai*a-si*l,si*a+ai*l),t.lineTo(ai*u-si*d,si*u+ai*d),t.lineTo(ai*r+si*i,ai*i-si*r),t.lineTo(ai*a+si*l,ai*l-si*a),t.lineTo(ai*u+si*d,ai*d-si*u),t.closePath()}};function UZ(t,e){let n=null,r=fA(i);t=typeof t=="function"?t:At(t||mA),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Hy(){}function Ky(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function o6(t){this._context=t}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ky(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qZ(t){return new o6(t)}function l6(t){this._context=t}l6.prototype={areaStart:Hy,areaEnd:Hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FZ(t){return new l6(t)}function u6(t){this._context=t}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ky(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Z(t){return new u6(t)}function c6(t){this._context=t}c6.prototype={areaStart:Hy,areaEnd:Hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HZ(t){return new c6(t)}function aj(t){return t<0?-1:1}function sj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(aj(a)+aj(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function oj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function P_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function Gy(t){this._context=t}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:P_(this,this._t0,oj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,P_(this,oj(this,n=sj(this,t,e)),n);break;default:P_(this,this._t0,n=sj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function d6(t){this._context=new f6(t)}(d6.prototype=Object.create(Gy.prototype)).point=function(t,e){Gy.prototype.point.call(this,e,t)};function f6(t){this._context=t}f6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function KZ(t){return new Gy(t)}function GZ(t){return new d6(t)}function h6(t){this._context=t}h6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=lj(t),i=lj(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lj(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function WZ(t){return new h6(t)}function m0(t,e){this._context=t,this._t=e}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YZ(t){return new m0(t,.5)}function QZ(t){return new m0(t,0)}function XZ(t){return new m0(t,1)}function du(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function J1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ZZ(t,e){return t[e]}function JZ(t){const e=[];return e.key=t,e}function eJ(){var t=At([]),e=J1,n=du,r=ZZ;function i(a){var l=Array.from(t.apply(this,arguments),JZ),u,d=l.length,f=-1,m;for(const p of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(p,l[u].key,f,a)]).data=p;for(u=0,m=hA(e(l));u<d;++u)l[m[u]].index=u;return n(l,m),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?J1:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??du,i):n},i}function tJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}du(t,e)}}function nJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}du(t,e)}}function rJ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var m=t[e[u]],p=m[r][1]||0,v=m[r-1][1]||0,_=(p-v)/2,E=0;E<u;++E){var S=t[e[E]],A=S[r][1]||0,C=S[r-1][1]||0;_+=A-C}d+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,du(t,e)}}var j_={},R_={},uj;function iJ(){return uj||(uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(R_)),R_}var D_={},cj;function m6(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(D_)),D_}var k_={},dj;function pA(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(k_)),k_}var M_={},L_={},fj;function aJ(){return fj||(fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(L_)),L_}var hj;function gA(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aJ(),n=pA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const p=i[u];f?p==="\\"&&u+1<l?(u++,d+=i[u]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,u++}return d&&a.push(d),a}t.toPath=r})(M_)),M_}var mj;function yA(){return mj||(mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iJ(),n=m6(),r=pA(),i=gA();function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function l(u,d,f){if(d.length===0)return f;let m=u;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=a})(j_)),j_}var V_,pj;function sJ(){return pj||(pj=1,V_=yA().get),V_}var oJ=sJ();const fu=_s(oJ);var lJ=4;function Io(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lJ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,l)=>{var u=n[l-1];return typeof u=="string"?i+u+a:u!==void 0?i+Io(u)+a:i+a},"")}var kn=t=>t===0?0:t>0?1:-1,Sa=t=>typeof t=="number"&&t!=+t,hu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ee=t=>(typeof t=="number"||t instanceof Number)&&!Sa(t),Aa=t=>Ee(t)||typeof t=="string",uJ=0,Lh=t=>{var e=++uJ;return"".concat(t||"").concat(e)},rr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&typeof e!="string")return r;var a;if(hu(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Sa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},p6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Dt(t,e,n){return Ee(t)&&Ee(e)?Io(t+n*(e-t)):e}function g6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):fu(r,e))===n)}var zt=t=>t===null||typeof t>"u",xm=t=>zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Er(t){return t!=null}function wu(){}var cJ=["type","size","sizeType"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return(e=fJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=hJ(t,"string");return typeof e=="symbol"?e:e+""}function hJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mJ(t,e){if(t==null)return{};var n,r,i=pJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y6={symbolCircle:mA,symbolCross:NZ,symbolDiamond:jZ,symbolSquare:RZ,symbolStar:LZ,symbolTriangle:VZ,symbolWye:zZ},gJ=Math.PI/180,yJ=t=>{var e="symbol".concat(xm(t));return y6[e]||mA},vJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*gJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bJ=(t,e)=>{y6["symbol".concat(xm(t))]=e},vA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=mJ(t,cJ),a=yj(yj({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var v=yJ(l),_=UZ().type(v).size(vJ(n,r,l)),E=_();if(E!==null)return E},{className:d,cx:f,cy:m}=a,p=hr(a);return Ee(f)&&Ee(m)&&Ee(n)?w.createElement("path",eE({},p,{className:it("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};vA.registerSymbol=bJ;var v6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,bA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{cA(i)&&(r[i]=(a=>n[i](n,a)))}),r},xJ=(t,e,n)=>r=>(t(e,n,r),null),_m=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];cA(i)&&typeof a=="function"&&(r||(r={}),r[i]=xJ(a,e,n))}),r};function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){wJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJ(t,e,n){return(e=EJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EJ(t){var e=SJ(t,"string");return typeof e=="symbol"?e:e+""}function SJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e){var n=_J({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return(e=CJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=IJ(t,"string");return typeof e=="symbol"?e:e+""}function IJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ui=32,OJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function NJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ui/2,a=ui/6,l=ui/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var f;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:ui,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ui,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var m=AJ({},e);return delete m.legendIcon,w.cloneElement(e.legendIcon,m)}return w.createElement(vA,{fill:u,cx:i,cy:i,size:ui,sizeType:"diameter",type:d})}function PJ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=t,u={x:0,y:0,width:ui,height:ui},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var v=m.formatter||i,_=it({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var E=m.inactive?a:m.color,S=v?v(m.value,m,p):m.value;return w.createElement("li",Wy({className:_,style:d,key:"legend-item-".concat(p)},_m(t,m,p)),w.createElement(dA,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},w.createElement(NJ,{data:m,iconType:l,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S))})}var jJ=t=>{var e=vn(t,OJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(PJ,Wy({},e,{payload:n})))},B_={},z_={},xj;function RJ(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l,a,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(z_)),z_}var U_={},_j;function DJ(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(U_)),U_}var q_={},wj;function b6(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(q_)),q_}var F_={},$_={},H_={},Ej;function kJ(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(H_)),H_}var Sj;function xA(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})($_)),$_}var K_={},Aj;function MJ(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(K_)),K_}var Tj;function LJ(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xA(),n=MJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(F_)),F_}var G_={},W_={},Cj;function VJ(){return Cj||(Cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(W_)),W_}var Y_={},Q_={},X_={},Z_={},Ij;function x6(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Z_)),Z_}var J_={},Oj;function _6(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(J_)),J_}var ew={},Nj;function w6(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(ew)),ew}var Pj;function BJ(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=_6(),r=w6();function i(m,p,v){return typeof v!="function"?i(m,p,()=>{}):a(m,p,function _(E,S,A,C,N,j){const D=v(E,S,A,C,N,j);return D!==void 0?!!D:a(E,S,_,j)},new Map)}function a(m,p,v,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,v,_);case"function":return Object.keys(p).length>0?a(m,{...p},v,_):r.isEqualsSameValueZero(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(m,p)}}function l(m,p,v,_){if(p==null)return!0;if(Array.isArray(p))return d(m,p,v,_);if(p instanceof Map)return u(m,p,v,_);if(p instanceof Set)return f(m,p,v,_);const E=Object.keys(p);if(m==null||n.isPrimitive(m))return E.length===0;if(E.length===0)return!0;if(_?.has(p))return _.get(p)===m;_?.set(p,m);try{for(let S=0;S<E.length;S++){const A=E[S];if(!n.isPrimitive(m)&&!(A in m)||p[A]===void 0&&m[A]!==void 0||p[A]===null&&m[A]!==null||!v(m[A],p[A],A,m,p,_))return!1}return!0}finally{_?.delete(p)}}function u(m,p,v,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[E,S]of p.entries()){const A=m.get(E);if(v(A,S,E,m,p,_)===!1)return!1}return!0}function d(m,p,v,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const E=new Set;for(let S=0;S<p.length;S++){const A=p[S];let C=!1;for(let N=0;N<m.length;N++){if(E.has(N))continue;const j=m[N];let D=!1;if(v(j,A,S,m,p,_)&&(D=!0),D){E.add(N),C=!0;break}}if(!C)return!1}return!0}function f(m,p,v,_){return p.size===0?!0:m instanceof Set?d([...m],[...p],v,_):!1}t.isMatchWith=i,t.isSetMatch=f})(X_)),X_}var jj;function E6(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Q_)),Q_}var tw={},nw={},rw={},Rj;function zJ(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(rw)),rw}var iw={},Dj;function _A(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(iw)),iw}var aw={},kj;function S6(){return kj||(kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",v="[object ArrayBuffer]",_="[object Object]",E="[object Error]",S="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",D="[object BigUint64Array]",V="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",R="[object BigInt64Array]",L="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=L,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=M,t.int32ArrayTag=P,t.int8ArrayTag=V,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=N,t.uint32ArrayTag=j,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(aw)),aw}var sw={},Mj;function UJ(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(sw)),sw}var Lj;function A6(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zJ(),n=_A(),r=S6(),i=_6(),a=UJ();function l(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,v,_=new Map,E=void 0){const S=E?.(m,p,v,_);if(S!==void 0)return S;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const A=new Array(m.length);_.set(m,A);for(let C=0;C<m.length;C++)A[C]=u(m[C],C,v,_,E);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;_.set(m,A);for(const[C,N]of m)A.set(C,u(N,C,v,_,E));return A}if(m instanceof Set){const A=new Set;_.set(m,A);for(const C of m)A.add(u(C,void 0,v,_,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,A);for(let C=0;C<m.length;C++)A[C]=u(m[C],C,v,_,E);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,A),d(A,m,v,_,E),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return _.set(m,A),d(A,m,v,_,E),A}if(typeof Blob<"u"&&m instanceof Blob){const A=new Blob([m],{type:m.type});return _.set(m,A),d(A,m,v,_,E),A}if(m instanceof Error){const A=new m.constructor;return _.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,d(A,m,v,_,E),A}if(m instanceof Boolean){const A=new Boolean(m.valueOf());return _.set(m,A),d(A,m,v,_,E),A}if(m instanceof Number){const A=new Number(m.valueOf());return _.set(m,A),d(A,m,v,_,E),A}if(m instanceof String){const A=new String(m.valueOf());return _.set(m,A),d(A,m,v,_,E),A}if(typeof m=="object"&&f(m)){const A=Object.create(Object.getPrototypeOf(m));return _.set(m,A),d(A,m,v,_,E),A}return m}function d(m,p,v=m,_,E){const S=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<S.length;A++){const C=S[A],N=Object.getOwnPropertyDescriptor(m,C);(N==null||N.writable)&&(m[C]=u(p[C],C,v,_,E))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(nw)),nw}var Vj;function qJ(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(tw)),tw}var Bj;function FJ(){return Bj||(Bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E6(),n=qJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Y_)),Y_}var ow={},lw={},uw={},zj;function $J(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A6(),n=_A(),r=S6();function i(a,l){return e.cloneDeepWith(a,(u,d,f,m)=>{const p=l?.(u,d,f,m);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const v={};return m.set(a,v),e.copyProperties(v,a,f,m),v}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new a.constructor(a?.valueOf());return e.copyProperties(v,a),v}case r.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}t.cloneDeepWith=i})(uw)),uw}var Uj;function HJ(){return Uj||(Uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(lw)),lw}var cw={},dw={},qj;function T6(){return qj||(qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(dw)),dw}var fw={},Fj;function KJ(){return Fj||(Fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_A();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(fw)),fw}var $j;function GJ(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m6(),n=T6(),r=KJ(),i=gA();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(cw)),cw}var Hj;function WJ(){return Hj||(Hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E6(),n=pA(),r=HJ(),i=yA(),a=GJ();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,u);return m===void 0?a.has(f,u):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(ow)),ow}var Kj;function YJ(){return Kj||(Kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6(),n=VJ(),r=FJ(),i=WJ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(G_)),G_}var Gj;function QJ(){return Gj||(Gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RJ(),n=DJ(),r=b6(),i=LJ(),a=YJ();function l(u,d=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(a.iteratee(d),1)):[]}t.uniqBy=l})(B_)),B_}var hw,Wj;function XJ(){return Wj||(Wj=1,hw=QJ().uniqBy),hw}var ZJ=XJ();const Yj=_s(ZJ);function C6(t,e,n){return e===!0?Yj(t,n):typeof e=="function"?Yj(t,e):t}var mw={exports:{}},pw={},gw={exports:{}},yw={};var Qj;function JJ(){if(Qj)return yw;Qj=1;var t=dd();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(p,v){var _=v(),E=r({inst:{value:_,getSnapshot:v}}),S=E[0].inst,A=E[1];return a(function(){S.value=_,S.getSnapshot=v,d(S)&&A({inst:S})},[p,_,v]),i(function(){return d(S)&&A({inst:S}),p(function(){d(S)&&A({inst:S})})},[p]),l(_),_}function d(p){var v=p.getSnapshot;p=p.value;try{var _=v();return!n(p,_)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return yw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,yw}var Xj;function eee(){return Xj||(Xj=1,gw.exports=JJ()),gw.exports}var Zj;function tee(){if(Zj)return pw;Zj=1;var t=dd(),e=eee();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return pw.useSyncExternalStoreWithSelector=function(f,m,p,v,_){var E=a(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=u(function(){function C(M){if(!N){if(N=!0,j=M,M=v(M),_!==void 0&&S.hasValue){var P=S.value;if(_(P,M))return D=P}return D=M}if(P=D,r(j,M))return P;var R=v(M);return _!==void 0&&_(P,R)?(j=M,P):(j=M,D=R)}var N=!1,j,D,V=p===void 0?null:p;return[function(){return C(m())},V===null?void 0:function(){return C(V())}]},[m,p,v,_]);var A=i(f,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=A},[A]),d(A),A},pw}var Jj;function nee(){return Jj||(Jj=1,mw.exports=tee()),mw.exports}var ree=nee(),wA=w.createContext(null),iee=t=>t,Tt=()=>{var t=w.useContext(wA);return t?t.store.dispatch:iee},cy=()=>{},aee=()=>cy,see=(t,e)=>t===e;function Ce(t){var e=w.useContext(wA),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:cy,[e,t]);return ree.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:aee,e?e.store.getState:cy,e?e.store.getState:cy,n,see)}function oee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function lee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function uee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var eR=t=>Array.isArray(t)?t:[t];function cee(t){const e=Array.isArray(t[0])?t[0]:t;return uee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function dee(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var fee=class{constructor(t){this.value=t}deref(){return this.value}},hee=typeof WeakRef<"u"?WeakRef:fee,mee=0,tR=1;function Og(){return{s:mee,v:void 0,o:null,p:null}}function I6(t,e={}){let n=Og();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let u=n;const{length:d}=arguments;for(let p=0,v=d;p<v;p++){const _=arguments[p];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const S=E.get(_);S===void 0?(u=Og(),E.set(_,u)):u=S}else{let E=u.p;E===null&&(u.p=E=new Map);const S=E.get(_);S===void 0?(u=Og(),E.set(_,u)):u=S}}const f=u;let m;if(u.s===tR)m=u.v;else if(m=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new hee(m):m}return f.s=tR,f.v=m,m}return l.clearCache=()=>{n=Og(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function pee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),oee(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:v=[],argsMemoize:_=I6,argsMemoizeOptions:E=[]}=m,S=eR(v),A=eR(E),C=cee(i),N=p(function(){return a++,f.apply(null,arguments)},...S),j=_(function(){l++;const V=dee(C,arguments);return u=N.apply(null,V),u},...A);return Object.assign(j,{resultFunc:f,memoizedResultFunc:N,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var X=pee(I6),gee=Object.assign((t,e=X)=>{lee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>gee}),vw={},bw={},xw={},nR;function yee(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(xw)),xw}var _w={},ww={},rR;function O6(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ww)),ww}var iR;function vee(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(_w)),_w}var aR;function bee(){return aR||(aR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yee(),n=vee(),r=gA();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,E)=>{let S=_;for(let A=0;A<E.length&&S!=null;++A)S=S[E[A]];return S},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:f(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?f(E,_):typeof E=="object"?E[_]:E,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:p.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let S=0;S<p.length;S++){const A=e.compareValues(_.criteria[S],E.criteria[S],u[S]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=i})(bw)),bw}var Ew={},sR;function xee(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<a?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Ew)),Ew}var Sw={},oR;function N6(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6(),n=xA(),r=x6(),i=w6();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],l):!1}t.isIterateeCall=a})(Sw)),Sw}var lR;function _ee(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bee(),n=xee(),r=N6();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(vw)),vw}var Aw,uR;function wee(){return uR||(uR=1,Aw=_ee().sortBy),Aw}var Eee=wee();const p0=_s(Eee);var P6=t=>t.legend.settings,See=t=>t.legend.size,Aee=t=>t.legend.payload,Tee=X([Aee,P6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?p0(r,n):r});function Cee(){return Ce(Tee)}var Ng=1;function j6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Ng||Math.abs(l.left-e.left)>Ng||Math.abs(l.top-e.top)>Ng||Math.abs(l.width-e.width)>Ng)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Kn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Iee=typeof Symbol=="function"&&Symbol.observable||"@@observable",cR=Iee,Tw=()=>Math.random().toString(36).substring(7).split("").join("."),Oee={INIT:`@@redux/INIT${Tw()}`,REPLACE:`@@redux/REPLACE${Tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tw()}`},Yy=Oee;function EA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R6(t,e,n){if(typeof t!="function")throw new Error(Kn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kn(1));return n(R6)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((A,C)=>{l.set(C,A)}))}function m(){if(d)throw new Error(Kn(3));return i}function p(A){if(typeof A!="function")throw new Error(Kn(4));if(d)throw new Error(Kn(5));let C=!0;f();const N=u++;return l.set(N,A),function(){if(C){if(d)throw new Error(Kn(6));C=!1,f(),l.delete(N),a=null}}}function v(A){if(!EA(A))throw new Error(Kn(7));if(typeof A.type>"u")throw new Error(Kn(8));if(typeof A.type!="string")throw new Error(Kn(17));if(d)throw new Error(Kn(9));try{d=!0,i=r(i,A)}finally{d=!1}return(a=l).forEach(N=>{N()}),A}function _(A){if(typeof A!="function")throw new Error(Kn(10));r=A,v({type:Yy.REPLACE})}function E(){const A=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Kn(11));function N(){const D=C;D.next&&D.next(m())}return N(),{unsubscribe:A(N)}},[cR](){return this}}}return v({type:Yy.INIT}),{dispatch:v,subscribe:p,getState:m,replaceReducer:_,[cR]:E}}function Nee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Yy.INIT})>"u")throw new Error(Kn(12));if(typeof n(void 0,{type:Yy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kn(13))})}function D6(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{Nee(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],v=n[p],_=l[p],E=v(_,u);if(typeof E>"u")throw u&&u.type,new Error(Kn(14));f[p]=E,d=d||E!==_}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Qy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Pee(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Kn(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=t.map(d=>d(l));return a=Qy(...u)(i.dispatch),{...i,dispatch:a}}}function k6(t){return EA(t)&&"type"in t&&typeof t.type=="string"}var M6=Symbol.for("immer-nothing"),dR=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object,id=zr.getPrototypeOf,Xy="constructor",g0="prototype",tE="configurable",Zy="enumerable",dy="writable",Vh="value",ms=t=>!!t&&!!t[mr];function zi(t){return t?L6(t)||v0(t)||!!t[dR]||!!t[Xy]?.[dR]||b0(t)||x0(t):!1}var jee=zr[g0][Xy].toString(),fR=new WeakMap;function L6(t){if(!t||!SA(t))return!1;const e=id(t);if(e===null||e===zr[g0])return!0;const n=zr.hasOwnProperty.call(e,Xy)&&e[Xy];if(n===Object)return!0;if(!Nc(n))return!1;let r=fR.get(n);return r===void 0&&(r=Function.toString.call(n),fR.set(n,r)),r===jee}function y0(t,e,n=!0){wm(t)===0?(n?Reflect.ownKeys(t):zr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function wm(t){const e=t[mr];return e?e.type_:v0(t)?1:b0(t)?2:x0(t)?3:0}var hR=(t,e,n=wm(t))=>n===2?t.has(e):zr[g0].hasOwnProperty.call(t,e),nE=(t,e,n=wm(t))=>n===2?t.get(e):t[e],Jy=(t,e,n,r=wm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Ree(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var v0=Array.isArray,b0=t=>t instanceof Map,x0=t=>t instanceof Set,SA=t=>typeof t=="object",Nc=t=>typeof t=="function",Cw=t=>typeof t=="boolean";function Dee(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Xa=t=>t.copy_||t.base_,AA=t=>t.modified_?t.copy_:t.base_;function rE(t,e){if(b0(t))return new Map(t);if(x0(t))return new Set(t);if(v0(t))return Array[g0].slice.call(t);const n=L6(t);if(e===!0||e==="class_only"&&!n){const r=zr.getOwnPropertyDescriptors(t);delete r[mr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[dy]===!1&&(u[dy]=!0,u[tE]=!0),(u.get||u.set)&&(r[l]={[tE]:!0,[dy]:!0,[Zy]:u[Zy],[Vh]:t[l]})}return zr.create(id(t),r)}else{const r=id(t);if(r!==null&&n)return{...t};const i=zr.create(r);return zr.assign(i,t)}}function TA(t,e=!1){return _0(t)||ms(t)||!zi(t)||(wm(t)>1&&zr.defineProperties(t,{set:Pg,add:Pg,clear:Pg,delete:Pg}),zr.freeze(t),e&&y0(t,(n,r)=>{TA(r,!0)},!1)),t}function kee(){ji(2)}var Pg={[Vh]:kee};function _0(t){return t===null||!SA(t)?!0:zr.isFrozen(t)}var ev="MapSet",iE="Patches",mR="ArrayMethods",V6={};function mu(t){const e=V6[t];return e||ji(0,t),e}var pR=t=>!!V6[t],Bh,B6=()=>Bh,Mee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:pR(ev)?mu(ev):void 0,arrayMethodsPlugin_:pR(mR)?mu(mR):void 0});function gR(t,e){e&&(t.patchPlugin_=mu(iE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function aE(t){sE(t),t.drafts_.forEach(Lee),t.drafts_=null}function sE(t){t===Bh&&(Bh=t.parent_)}var yR=t=>Bh=Mee(Bh,t);function Lee(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[mr].modified_&&(aE(e),ji(4)),zi(t)&&(t=bR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[mr].base_,t,e)}else t=bR(e,n);return Vee(e,t,!0),aE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M6?t:void 0}function bR(t,e){if(_0(e))return e;const n=e[mr];if(!n)return tv(e,t.handledSet_,t);if(!w0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);q6(n,t)}return n.copy_}function Vee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&TA(e,n)}function z6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var w0=(t,e)=>t.scope_===e,Bee=[];function U6(t,e,n,r){const i=Xa(t),a=t.type_;if(r!==void 0&&nE(i,r,a)===e){Jy(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;y0(i,(d,f)=>{if(ms(f)){const m=u.get(f)||[];m.push(d),u.set(f,m)}})}const l=t.draftLocations_.get(e)??Bee;for(const u of l)Jy(i,u,n,a)}function zee(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!w0(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=AA(a);U6(t,a.draft_??a,l,n),q6(a,i)})}function q6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}z6(t)}}function Uee(t,e,n){const{scope_:r}=t;if(ms(n)){const i=n[mr];w0(i,r)&&i.callbacks_.push(function(){fy(t);const l=AA(i);U6(t,n,l,e)})}else zi(n)&&t.callbacks_.push(function(){const a=Xa(t);t.type_===3?a.has(n)&&tv(n,r.handledSet_,r):nE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&tv(nE(t.copy_,e,t.type_),r.handledSet_,r)})}function tv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ms(t)||e.has(t)||!zi(t)||_0(t)||(e.add(t),y0(t,(r,i)=>{if(ms(i)){const a=i[mr];if(w0(a,n)){const l=AA(a);Jy(t,r,l,t.type_),z6(a)}}else zi(i)&&tv(i,e,n)})),t}function qee(t,e){const n=v0(t),r={type_:n?1:0,scope_:e?e.scope_:B6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=nv;n&&(i=[r],a=zh);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var nv={get(t,e){if(e===mr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Xa(t);if(!hR(i,e,t.type_))return Fee(t,i,e);const a=i[e];if(t.finalized_||!zi(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Dee(e))return a;if(a===Iw(t.base_,e)){fy(t);const l=t.type_===1?+e:e,u=lE(t.scope_,a,t,l);return t.copy_[l]=u}return a},has(t,e){return e in Xa(t)},ownKeys(t){return Reflect.ownKeys(Xa(t))},set(t,e,n){const r=F6(Xa(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Iw(Xa(t),e),a=i?.[mr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Ree(n,i)&&(n!==void 0||hR(t.base_,e,t.type_)))return!0;fy(t),oE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Uee(t,e,n)),!0},deleteProperty(t,e){return fy(t),Iw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),oE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[dy]:!0,[tE]:t.type_!==1||e!=="length",[Zy]:r[Zy],[Vh]:n[e]}},defineProperty(){ji(11)},getPrototypeOf(t){return id(t.base_)},setPrototypeOf(){ji(12)}},zh={};for(let t in nv){let e=nv[t];zh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}zh.deleteProperty=function(t,e){return zh.set.call(this,t,e,void 0)};zh.set=function(t,e,n){return nv.set.call(this,t[0],e,n,t[0])};function Iw(t,e){const n=t[mr];return(n?Xa(n):t)[e]}function Fee(t,e,n){const r=F6(e,n);return r?Vh in r?r[Vh]:r.get?.call(t.draft_):void 0}function F6(t,e){if(!(e in t))return;let n=id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=id(n)}}function oE(t){t.modified_||(t.modified_=!0,t.parent_&&oE(t.parent_))}function fy(t){t.copy_||(t.assigned_=new Map,t.copy_=rE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $ee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Nc(n)&&!Nc(r)){const l=r;r=n;const u=this;return function(f=l,...m){return u.produce(f,p=>r.call(this,p,...m))}}Nc(r)||ji(6),i!==void 0&&!Nc(i)&&ji(7);let a;if(zi(n)){const l=yR(this),u=lE(l,n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?aE(l):sE(l)}return gR(l,i),vR(a,l)}else if(!n||!SA(n)){if(a=r(n),a===void 0&&(a=n),a===M6&&(a=void 0),this.autoFreeze_&&TA(a,!0),i){const l=[],u=[];mu(iE).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else ji(1,n)},this.produceWithPatches=(n,r)=>{if(Nc(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,a;return[this.produce(n,r,(u,d)=>{i=u,a=d}),i,a]},Cw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Cw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Cw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zi(e)||ji(8),ms(e)&&(e=Vi(e));const n=yR(this),r=lE(n,e,void 0);return r[mr].isManual_=!0,sE(n),r}finishDraft(e,n){const r=e&&e[mr];(!r||!r.isManual_)&&ji(9);const{scope_:i}=r;return gR(i,n),vR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=mu(iE).applyPatches_;return ms(e)?i(e,n):this.produce(e,a=>i(a,n))}};function lE(t,e,n,r){const[i,a]=b0(e)?mu(ev).proxyMap_(e,n):x0(e)?mu(ev).proxySet_(e,n):qee(e,n);return(n?.scope_??B6()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?zee(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function Vi(t){return ms(t)||ji(10,t),$6(t)}function $6(t){if(!zi(t)||_0(t))return t;const e=t[mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=rE(t,!0);return y0(n,(i,a)=>{Jy(n,i,$6(a))},r),e&&(e.finalized_=!1),n}var Hee=new $ee,H6=Hee.produce;function K6(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Kee=K6(),Gee=K6,Wee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qy:Qy.apply(null,arguments)};function mi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ur(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>k6(r)&&r.type===t,n}var G6=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function xR(t){return zi(t)?H6(t,()=>{}):t}function jg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Yee(t){return typeof t=="boolean"}var Qee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new G6;return n&&(Yee(n)?l.push(Kee):l.push(Gee(n.extraArgument))),l},W6="RTK_autoBatch",jt=()=>t=>({payload:t,meta:{[W6]:!0}}),_R=t=>e=>{setTimeout(e,t)},Y6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_R(10):t.type==="callback"?t.queueNotification:_R(t.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),v=r.subscribe(p);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return i=!m?.meta?.[W6],a=!i,a&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},Xee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new G6(t);return r&&i.push(Y6(typeof r=="object"?r:void 0)),i};function Zee(t){const e=Qee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(EA(n))u=D6(n);else throw new Error(Ur(1));let d;typeof r=="function"?d=r(e):d=e();let f=Qy;i&&(f=Wee({trace:!1,...typeof i=="object"&&i}));const m=Pee(...d),p=Xee(m);let v=typeof l=="function"?l(p):p();const _=f(...v);return R6(u,a,_)}function Q6(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Ur(28));if(u in e)throw new Error(Ur(29));return e[u]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Jee(t){return typeof t=="function"}function ete(t,e){let[n,r,i]=Q6(e),a;if(Jee(t))a=()=>xR(t());else{const u=xR(t);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(ms(m)){const _=p(m,d);return _===void 0?m:_}else{if(zi(m))return H6(m,v=>p(v,d));{const v=p(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=a,l}var tte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nte=(t=21)=>{let e="",n=t;for(;n--;)e+=tte[Math.random()*64|0];return e},rte=Symbol.for("rtk-slice-createasyncthunk");function ite(t,e){return`${t}/${e}`}function ate({creators:t}={}){const e=t?.asyncThunk?.[rte];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ur(11));const l=(typeof r.reducers=="function"?r.reducers(ote()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,D){const V=typeof j=="string"?j:j.type;if(!V)throw new Error(Ur(12));if(V in d.sliceCaseReducersByType)throw new Error(Ur(13));return d.sliceCaseReducersByType[V]=D,f},addMatcher(j,D){return d.sliceMatchers.push({matcher:j,reducer:D}),f},exposeAction(j,D){return d.actionCreators[j]=D,f},exposeCaseReducer(j,D){return d.sliceCaseReducersByName[j]=D,f}};u.forEach(j=>{const D=l[j],V={reducerName:j,type:ite(i,j),createNotation:typeof r.reducers=="function"};ute(D)?dte(V,D,f,e):lte(V,D,f)});function m(){const[j={},D=[],V=void 0]=typeof r.extraReducers=="function"?Q6(r.extraReducers):[r.extraReducers],M={...j,...d.sliceCaseReducersByType};return ete(r.initialState,P=>{for(let R in M)P.addCase(R,M[R]);for(let R of d.sliceMatchers)P.addMatcher(R.matcher,R.reducer);for(let R of D)P.addMatcher(R.matcher,R.reducer);V&&P.addDefaultCase(V)})}const p=j=>j,v=new Map,_=new WeakMap;let E;function S(j,D){return E||(E=m()),E(j,D)}function A(){return E||(E=m()),E.getInitialState()}function C(j,D=!1){function V(P){let R=P[j];return typeof R>"u"&&D&&(R=jg(_,V,A)),R}function M(P=p){const R=jg(v,D,()=>new WeakMap);return jg(R,P,()=>{const L={};for(const[F,B]of Object.entries(r.selectors??{}))L[F]=ste(B,P,()=>jg(_,P,A),D);return L})}return{reducerPath:j,getSelectors:M,get selectors(){return M(V)},selectSlice:V}}const N={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...C(a),injectInto(j,{reducerPath:D,...V}={}){const M=D??a;return j.inject({reducerPath:M,reducer:S},V),{...N,...C(M,!0)}}};return N}}function ste(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Ar=ate();function ote(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lte({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!cte(r))throw new Error(Ur(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?mi(t,l):mi(t))}function ute(t){return t._reducerDefinitionType==="asyncThunk"}function cte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function dte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ur(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Rg,pending:u||Rg,rejected:d||Rg,settled:f||Rg})}function Rg(){}var fte="task",X6="listener",Z6="completed",CA="cancelled",hte=`task-${CA}`,mte=`task-${Z6}`,uE=`${X6}-${CA}`,pte=`${X6}-${Z6}`,E0=class{constructor(t){this.code=t,this.message=`${fte} ${CA} (reason: ${t})`}name="TaskAbortError";message},IA=(t,e)=>{if(typeof t!="function")throw new TypeError(Ur(32))},rv=()=>{},J6=(t,e=rv)=>(t.catch(e),t),eV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ql=t=>{if(t.aborted)throw new E0(t.reason)};function tV(t,e){let n=rv;return new Promise((r,i)=>{const a=()=>i(new E0(t.reason));if(t.aborted){a();return}n=eV(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rv})}var gte=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof E0?"cancelled":"rejected",error:n}}finally{e?.()}},iv=t=>e=>J6(tV(t,e).then(n=>(Ql(t),n))),nV=t=>{const e=iv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Uc}=Object,wR={},S0="listenerMiddleware",yte=(t,e)=>{const n=r=>eV(t,()=>r.abort(t.reason));return(r,i)=>{IA(r);const a=new AbortController;n(a);const l=gte(async()=>{Ql(t),Ql(a.signal);const u=await r({pause:iv(a.signal),delay:nV(a.signal),signal:a.signal});return Ql(a.signal),u},()=>a.abort(mte));return i?.autoJoin&&e.push(l.catch(rv)),{result:iv(t)(l),cancel(){a.abort(hte)}}}},vte=(t,e)=>{const n=async(r,i)=>{Ql(e);let a=()=>{};const u=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),d([p,v.getState(),v.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await tV(e,Promise.race(u));return Ql(e),d}finally{a()}};return(r,i)=>J6(n(r,i))},rV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=mi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ur(21));return IA(a),{predicate:i,type:e,effect:a}},iV=Uc(t=>{const{type:e,predicate:n,effect:r}=rV(t);return{id:nte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ur(22))}}},{withTypes:()=>iV}),ER=(t,e)=>{const{type:n,effect:r,predicate:i}=rV(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},cE=t=>{t.pending.forEach(e=>{e.abort(uE)})},bte=(t,e)=>()=>{for(const n of e.keys())cE(n);t.clear()},SR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},aV=Uc(mi(`${S0}/add`),{withTypes:()=>aV}),xte=mi(`${S0}/removeAll`),sV=Uc(mi(`${S0}/remove`),{withTypes:()=>sV}),_te=(...t)=>{console.error(`${S0}/error`,...t)},Em=(t={})=>{const e=new Map,n=new Map,r=_=>{const E=n.get(_)??0;n.set(_,E+1)},i=_=>{const E=n.get(_)??1;E===1?n.delete(_):n.set(_,E-1)},{extra:a,onError:l=_te}=t;IA(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),E=>{_.unsubscribe(),E?.cancelActive&&cE(_)}),d=_=>{const E=ER(e,_)??iV(_);return u(E)};Uc(d,{withTypes:()=>d});const f=_=>{const E=ER(e,_);return E&&(E.unsubscribe(),_.cancelActive&&cE(E)),!!E};Uc(f,{withTypes:()=>f});const m=async(_,E,S,A)=>{const C=new AbortController,N=vte(d,C.signal),j=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(E,Uc({},S,{getOriginalState:A,condition:(D,V)=>N(D,V).then(Boolean),take:N,delay:nV(C.signal),pause:iv(C.signal),extra:a,signal:C.signal,fork:yte(C.signal,j),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((D,V,M)=>{D!==C&&(D.abort(uE),M.delete(D))})},cancel:()=>{C.abort(uE),_.pending.delete(C)},throwIfCancelled:()=>{Ql(C.signal)}})))}catch(D){D instanceof E0||SR(l,D,{raisedBy:"effect"})}finally{await Promise.all(j),C.abort(pte),i(_),_.pending.delete(C)}},p=bte(e,n);return{middleware:_=>E=>S=>{if(!k6(S))return E(S);if(aV.match(S))return d(S.payload);if(xte.match(S)){p();return}if(sV.match(S))return f(S.payload);let A=_.getState();const C=()=>{if(A===wR)throw new Error(Ur(23));return A};let N;try{if(N=E(S),e.size>0){const j=_.getState(),D=Array.from(e.values());for(const V of D){let M=!1;try{M=V.predicate(S,j,A)}catch(P){M=!1,SR(l,P,{raisedBy:"predicate"})}M&&m(V,S,_,C)}}}finally{A=wR}return N},startListening:d,stopListening:f,clearListeners:p}};function Ur(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},oV=Ar({name:"chartLayout",initialState:wte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Ete,setLayout:Ste,setChartSize:Ate,setScale:Tte}=oV.actions,Cte=oV.reducer;function lV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function et(t){return Number.isFinite(t)}function Ta(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wt(t,e,n){return zt(t)||zt(e)?n:Aa(e)?fu(t,e,n):typeof e=="function"?e(t):n}var Pte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Ee(t[a]))return Pc(Pc({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Ee(t[l]))return Pc(Pc({},t),{},{[l]:t[l]+(i||0)})}return t},As=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",uV=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},cV=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:v,axisType:_}=t;if(!l)return null;var E=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=_==="angleAxis"&&a&&a.length>=2?kn(a[0]-a[1])*2*S:S,p||v){var A=(p||v||[]).map((C,N)=>{var j=r?r.indexOf(C):C,D=l.map(j);return et(D)?{coordinate:D+S,value:C,offset:S,index:N}:null}).filter(Er);return A}return d&&f?f.map((C,N)=>{var j=l.map(C);return et(j)?{coordinate:j+S,value:C,index:N,offset:S}:null}).filter(Er):l.ticks&&m!=null?l.ticks(m).map((C,N)=>{var j=l.map(C);return et(j)?{coordinate:j+S,value:C,index:N,offset:S}:null}).filter(Er):l.domain().map((C,N)=>{var j=l.map(C);return et(j)?{coordinate:j+S,value:r?r[C]:C,index:N,offset:S}:null}).filter(Er)},jte=(t,e)=>{if(!e||e.length!==2||!Ee(e[0])||!Ee(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ee(t[0])||t[0]<n)&&(i[0]=n),(!Ee(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Rte=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,u=0;u<n;++u){var d=t[u],f=d?.[i];if(f!=null){var m=f[1],p=f[0],v=Sa(m)?p:m;v>=0?(f[0]=a,a+=v,f[1]=a):(f[0]=l,l+=v,f[1]=l)}}}},Dte=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var f=Sa(d[1])?d[0]:d[1];f>=0?(d[0]=a,a+=f,d[1]=a):(d[0]=0,d[1]=0)}}}},kte={sign:Rte,expand:tJ,none:du,silhouette:nJ,wiggle:rJ,positive:Dte},Mte=(t,e,n)=>{var r,i=(r=kte[n])!==null&&r!==void 0?r:du,a=eJ().keys(e).value((u,d)=>Number(wt(u,d,0))).order(J1).offset(i),l=a(t);return l.forEach((u,d)=>{u.forEach((f,m)=>{var p=wt(t[m],e[d],0);Array.isArray(p)&&p.length===2&&Ee(p[0])&&Ee(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function Lte(t){return t==null?void 0:String(t)}function TR(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zt(i[e.dataKey])){var u=g6(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var d=wt(i,zt(l)?e.dataKey:l),f=e.scale.map(d);return Ee(f)?f:null}var CR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=wt(a,e.dataKey,e.scale.domain()[l]);if(zt(u))return null;var d=e.scale.map(u);return Ee(d)?d-i/2+r:null},Vte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Bte=t=>{var e=t.flat(2).filter(Ee);return[Math.min(...e),Math.max(...e)]},zte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ute=(t,e,n)=>{if(t!=null)return zte(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:l}=a,u=l.reduce((d,f)=>{var m=lV(f,e,n),p=Bte(m);return!et(p[0])||!et(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},IR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ad=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=p0(e,m=>m.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min((d?.coordinate||0)-(f?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function NR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Pc(Pc({},e),{},{dataKey:n,payload:r,value:i,name:a})}function wd(t,e){if(t)return String(t);if(typeof e=="string")return e}var qte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Fte=(t,e)=>e==="centric"?t.angle:t.radius,Ts=t=>t.layout.width,Cs=t=>t.layout.height,$te=t=>t.layout.scale,dV=t=>t.layout.margin,A0=X(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),T0=X(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),fV="data-recharts-item-index",hV="data-recharts-item-id",Sm=60;function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wte=t=>t.brush.height;function Yte(t){var e=T0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sm;return n+i}return n},0)}function Qte(t){var e=T0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sm;return n+i}return n},0)}function Xte(t){var e=A0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Zte(t){var e=A0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var An=X([Ts,Cs,dV,Wte,Yte,Qte,Xte,Zte,P6,See],(t,e,n,r,i,a,l,u,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Dg(Dg({},p),m),_=v.bottom;v.bottom+=r,v=Pte(v,d,f);var E=t-v.left-v.right,S=e-v.top-v.bottom;return Dg(Dg({brushBottom:_},v),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Jte=X(An,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),OA=X(Ts,Cs,(t,e)=>({x:0,y:0,width:t,height:e})),ene=w.createContext(null),ir=()=>w.useContext(ene)!=null,C0=t=>t.brush,I0=X([C0,An,dV],(t,e,n)=>({height:t.height,x:Ee(t.x)?t.x:e.left,y:Ee(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ee(t.width)?t.width:e.width})),Ow={},Nw={},Pw={},jR;function tne(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{f&&m(),S()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{E(),l=void 0,u=null},A=()=>{m()},C=function(...N){if(i?.aborted)return;l=this,u=N;const j=v==null;_(),d&&j&&m()};return C.schedule=_,C.cancel=S,C.flush=A,i?.addEventListener("abort",S,{once:!0}),C}t.debounce=e})(Pw)),Pw}var RR;function nne(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tne();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let m,p=null;const v=e.debounce(function(...S){m=r.apply(this,S),p=null},i,{edges:f}),_=function(...S){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,S),p=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,S),m)},E=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=E,_}t.debounce=n})(Nw)),Nw}var DR;function rne(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nne();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Ow)),Ow}var jw,kR;function ine(){return kR||(kR=1,jw=rne().throttle),jw}var ane=ine();const sne=_s(ane);var av=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},ya={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},mV=(t,e,n)=>{var{width:r=ya.width,height:i=ya.height,aspect:a,maxHeight:l}=n,u=hu(r)?t:Number(r),d=hu(i)?e:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},one={width:0,height:0,overflow:"visible"},lne={width:0,overflowX:"visible"},une={height:0,overflowY:"visible"},cne={},dne=t=>{var{width:e,height:n}=t,r=hu(e),i=hu(n);return r&&i?one:r?lne:i?une:cne};function fne(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=ya.width,a=ya.height):i===void 0?i=r&&r>0?void 0:ya.width:a===void 0&&(a=r&&r>0?void 0:ya.height),{width:i,height:a}}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pV=w.createContext(ya.initialDimension);function gne(t){return Ta(t.width)&&Ta(t.height)}function gV(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return gne(i)?w.createElement(pV.Provider,{value:i},e):null}var NA=()=>w.useContext(pV),yne=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ya.initialDimension,width:i,height:a,minWidth:l=ya.minWidth,minHeight:u,maxHeight:d,children:f,debounce:m=ya.debounce,id:p,className:v,onResize:_,style:E={}}=t,S=w.useRef(null),A=w.useRef();A.current=_,w.useImperativeHandle(e,()=>S.current);var[C,N]=w.useState({containerWidth:r.width,containerHeight:r.height}),j=w.useCallback((R,L)=>{N(F=>{var B=Math.round(R),U=Math.round(L);return F.containerWidth===B&&F.containerHeight===U?F:{containerWidth:B,containerHeight:U}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return wu;var R=U=>{var q,ge=U[0];if(ge!=null){var{width:fe,height:W}=ge.contentRect;j(fe,W),(q=A.current)===null||q===void 0||q.call(A,fe,W)}};m>0&&(R=sne(R,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(R),{width:F,height:B}=S.current.getBoundingClientRect();return j(F,B),L.observe(S.current),()=>{L.disconnect()}},[j,m]);var{containerWidth:D,containerHeight:V}=C;av(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:P}=mV(D,V,{width:i,height:a,aspect:n,maxHeight:d});return av(M!=null&&M>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,P,i,a,l,u,n),w.createElement("div",{id:p?"".concat(p):void 0,className:it("recharts-responsive-container",v),style:LR(LR({},E),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:S},w.createElement("div",{style:dne({width:i,height:a})},w.createElement(gV,{width:M,height:P},f)))}),PA=w.forwardRef((t,e)=>{var n=NA();if(Ta(n.width)&&Ta(n.height))return t.children;var{width:r,height:i}=fne({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=mV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ee(a)&&Ee(l)?w.createElement(gV,{width:a,height:l},t.children):w.createElement(yne,dE({},t,{width:r,height:i,ref:e}))});function jA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var O0=()=>{var t,e=ir(),n=Ce(Jte),r=Ce(I0),i=(t=Ce(C0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yV=()=>{var t;return(t=Ce(An))!==null&&t!==void 0?t:vne},RA=()=>Ce(Ts),DA=()=>Ce(Cs),bne=()=>Ce(t=>t.layout.margin),st=t=>t.layout.layoutType,Eu=()=>Ce(st),vV=()=>{var t=Eu();if(t==="horizontal"||t==="vertical")return t},bV=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},xne=()=>{var t=Eu();return t!==void 0},Am=t=>{var e=Tt(),n=ir(),{width:r,height:i}=t,a=NA(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),w.useEffect(()=>{!n&&Ta(l)&&Ta(u)&&e(Ate({width:l,height:u}))},[e,n,l,u]),null},xV=Symbol.for("immer-nothing"),VR=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function Ri(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Uh=Object.getPrototypeOf;function sd(t){return!!t&&!!t[$r]}function pu(t){return t?_V(t)||Array.isArray(t)||!!t[VR]||!!t.constructor?.[VR]||Tm(t)||P0(t):!1}var _ne=Object.prototype.constructor.toString(),BR=new WeakMap;function _V(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=BR.get(n);return r===void 0&&(r=Function.toString.call(n),BR.set(n,r)),r===_ne}function sv(t,e,n=!0){N0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function N0(t){const e=t[$r];return e?e.type_:Array.isArray(t)?1:Tm(t)?2:P0(t)?3:0}function fE(t,e){return N0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wV(t,e,n){const r=N0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function wne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tm(t){return t instanceof Map}function P0(t){return t instanceof Set}function Rl(t){return t.copy_||t.base_}function hE(t,e){if(Tm(t))return new Map(t);if(P0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_V(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[$r];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Uh(t),r)}else{const r=Uh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kA(t,e=!1){return j0(t)||sd(t)||!pu(t)||(N0(t)>1&&Object.defineProperties(t,{set:kg,add:kg,clear:kg,delete:kg}),Object.freeze(t),e&&Object.values(t).forEach(n=>kA(n,!0))),t}function Ene(){Ri(2)}var kg={value:Ene};function j0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Sne={};function gu(t){const e=Sne[t];return e||Ri(0,t),e}var qh;function EV(){return qh}function Ane(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zR(t,e){e&&(gu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mE(t){pE(t),t.drafts_.forEach(Tne),t.drafts_=null}function pE(t){t===qh&&(qh=t.parent_)}function UR(t){return qh=Ane(qh,t)}function Tne(t){const e=t[$r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$r].modified_&&(mE(e),Ri(4)),pu(t)&&(t=ov(e,t),e.parent_||lv(e,t)),e.patches_&&gu("Patches").generateReplacementPatches_(n[$r].base_,t,e.patches_,e.inversePatches_)):t=ov(e,n,[]),mE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xV?t:void 0}function ov(t,e,n){if(j0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[$r];if(!i)return sv(e,(a,l)=>FR(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return lv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),sv(l,(d,f)=>FR(t,i,a,d,f,n,u),r),lv(t,a,!1),n&&t.patches_&&gu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function FR(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=j0(i);if(!(u&&!l)){if(sd(i)){const d=a&&e&&e.type_!==3&&!fE(e.assigned_,r)?a.concat(r):void 0,f=ov(t,i,d);if(wV(n,r,f),sd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(pu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ov(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Tm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lv(t,i)}}}function lv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kA(e,n)}function Cne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:EV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=MA;n&&(i=[r],a=Fh);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var MA={get(t,e){if(e===$r)return t;const n=Rl(t);if(!fE(n,e))return Ine(t,n,e);const r=n[e];return t.finalized_||!pu(r)?r:r===Rw(t.base_,e)?(Dw(t),t.copy_[e]=yE(r,t)):r},has(t,e){return e in Rl(t)},ownKeys(t){return Reflect.ownKeys(Rl(t))},set(t,e,n){const r=SV(Rl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Rw(Rl(t),e),a=i?.[$r];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(wne(n,i)&&(n!==void 0||fE(t.base_,e)))return!0;Dw(t),gE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Rw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Dw(t),gE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Rl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ri(11)},getPrototypeOf(t){return Uh(t.base_)},setPrototypeOf(){Ri(12)}},Fh={};sv(MA,(t,e)=>{Fh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fh.deleteProperty=function(t,e){return Fh.set.call(this,t,e,void 0)};Fh.set=function(t,e,n){return MA.set.call(this,t[0],e,n,t[0])};function Rw(t,e){const n=t[$r];return(n?Rl(n):t)[e]}function Ine(t,e,n){const r=SV(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function SV(t,e){if(!(e in t))return;let n=Uh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uh(n)}}function gE(t){t.modified_||(t.modified_=!0,t.parent_&&gE(t.parent_))}function Dw(t){t.copy_||(t.copy_=hE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var One=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(d=a,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&Ri(6),r!==void 0&&typeof r!="function"&&Ri(7);let i;if(pu(e)){const a=UR(this),l=yE(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?mE(a):pE(a)}return zR(a,r),qR(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xV&&(i=void 0),this.autoFreeze_&&kA(i,!0),r){const a=[],l=[];gu("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Ri(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pu(t)||Ri(8),sd(t)&&(t=Nne(t));const e=UR(this),n=yE(t,void 0);return n[$r].isManual_=!0,pE(e),n}finishDraft(t,e){const n=t&&t[$r];(!n||!n.isManual_)&&Ri(9);const{scope_:r}=n;return zR(r,e),qR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=gu("Patches").applyPatches_;return sd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function yE(t,e){const n=Tm(t)?gu("MapSet").proxyMap_(t,e):P0(t)?gu("MapSet").proxySet_(t,e):Cne(t,e);return(e?e.scope_:EV()).drafts_.push(n),n}function Nne(t){return sd(t)||Ri(10,t),AV(t)}function AV(t){if(!pu(t)||j0(t))return t;const e=t[$r];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hE(t,!0);return sv(n,(i,a)=>{wV(n,i,AV(a))},r),e&&(e.finalized_=!1),n}var Pne=new One;Pne.produce;var jne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TV=Ar({name:"legend",initialState:jne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:jt()},removeLegendPayload:{reducer(t,e){var n=Vi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:jt()}}}),{setLegendSize:$R,setLegendSettings:Rne,addLegendPayload:CV,replaceLegendPayload:IV,removeLegendPayload:OV}=TV.actions,Dne=TV.reducer,kne=["contextPayload"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return typeof e=="symbol"?e:e+""}function Vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){if(t==null)return{};var n,r,i=zne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Une(t){return t.value}function qne(t){var{contextPayload:e}=t,n=Bne(t,kne),r=C6(e,t.payloadUniqBy,Une),i=od(od({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(jJ,i)}function Fne(t,e,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=e,f,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((i||0)-a.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),od(od({},f),m)}function $ne(t){var e=Tt();return w.useEffect(()=>{e(Rne(t))},[e,t]),null}function Hne(t){var e=Tt();return w.useEffect(()=>(e($R(t)),()=>{e($R({width:0,height:0}))}),[e,t]),null}function Kne(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Gne={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function LA(t){var e=vn(t,Gne),n=Cee(),r=SZ(),i=bne(),{width:a,height:l,wrapperStyle:u,portal:d}=e,[f,m]=j6([n]),p=RA(),v=DA();if(p==null||v==null)return null;var _=p-(i?.left||0)-(i?.right||0),E=Kne(e.layout,l,a,_),S=d?u:od(od({position:"absolute",width:E?.width||a||"auto",height:E?.height||l||"auto"},Fne(u,e,i,p,v,f)),u),A=d??r;if(A==null||n==null)return null;var C=w.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},w.createElement($ne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement(Hne,{width:f.width,height:f.height}),w.createElement(qne,vE({},e,E,{margin:i,chartWidth:p,chartHeight:v,contextPayload:n})));return rS.createPortal(C,A)}LA.displayName="Legend";function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xne(t){return Array.isArray(t)&&Aa(t[0])&&Aa(t[1])?t.join(" ~ "):t}var _c={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Zne=t=>{var{separator:e=_c.separator,contentStyle:n,itemStyle:r,labelStyle:i=_c.labelStyle,payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:v=_c.accessibilityLayer}=t,_=()=>{if(a&&a.length){var V={padding:0,margin:0},M=(u?p0(a,u):a).map((P,R)=>{if(P.type==="none")return null;var L=P.formatter||l||Xne,{value:F,name:B}=P,U=F,q=B;if(L){var ge=L(F,B,P,R,a);if(Array.isArray(ge))[U,q]=ge;else if(ge!=null)U=ge;else return null}var fe=$f($f({},_c.itemStyle),{},{color:P.color||_c.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:fe},Aa(q)?w.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Aa(q)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},U),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},M)}return null},E=$f($f({},_c.contentStyle),n),S=$f({margin:0},i),A=!zt(m),C=A?m:"",N=it("recharts-default-tooltip",d),j=it("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(C=p(m,a));var D=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",bE({className:N,style:E},D),w.createElement("p",{className:j,style:S},w.isValidElement(C)?C:"".concat(C)),_())},Hf="recharts-tooltip-wrapper",Jne={visibility:"hidden"};function ere(t){var{coordinate:e,translateX:n,translateY:r}=t;return it(Hf,{["".concat(Hf,"-right")]:Ee(n)&&e&&Ee(e.x)&&n>=e.x,["".concat(Hf,"-left")]:Ee(n)&&e&&Ee(e.x)&&n<e.x,["".concat(Hf,"-bottom")]:Ee(r)&&e&&Ee(e.y)&&r>=e.y,["".concat(Hf,"-top")]:Ee(r)&&e&&Ee(e.y)&&r<e.y})}function GR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=t;if(a&&Ee(a[r]))return a[r];var m=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var v=d[r];if(v==null)return 0;if(l[r]){var _=m,E=v;return _<E?Math.max(p,v):Math.max(m,v)}if(f==null)return 0;var S=p+u,A=v+f;return S>A?Math.max(m,v):Math.max(p,v)}function tre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:u,useTranslate3d:d,viewBox:f}=t,m,p,v;return u.height>0&&u.width>0&&n?(p=GR({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),v=GR({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),m=tre({translateX:p,translateY:v,useTranslate3d:d})):m=Jne,{cssProperties:m,cssClasses:ere({translateX:p,translateY:v,coordinate:n})}}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){xE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xE(t,e,n){return(e=rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class are extends w.PureComponent{constructor(){super(...arguments),xE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:_,wrapperStyle:E,lastBoundingBox:S,innerRef:A,hasPortalFromProps:C}=this.props,N=typeof f=="number"?f:f.x,j=typeof f=="number"?f:f.y,{cssClasses:D,cssProperties:V}=nre({allowEscapeViewBox:n,coordinate:l,offsetLeft:N,offsetTop:j,position:m,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:_}),M=C?{}:Mg(Mg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Mg(Mg({},M),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:P,ref:A},a)}}var NV=()=>{var t;return(t=Ce(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XR={curveBasisClosed:FZ,curveBasisOpen:$Z,curveBasis:qZ,curveBumpX:IZ,curveBumpY:OZ,curveLinearClosed:HZ,curveLinear:h0,curveMonotoneX:KZ,curveMonotoneY:GZ,curveNatural:WZ,curveStep:YZ,curveStepAfter:XZ,curveStepBefore:QZ},uv=t=>et(t.x)&&et(t.y),ZR=t=>t.base!=null&&uv(t.base)&&uv(t),Kf=t=>t.x,Gf=t=>t.y,ure=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(xm(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=XR["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return XR[n]||h0},JR={connectNulls:!1,type:"linear"},cre=t=>{var{type:e=JR.type,points:n=[],baseLine:r,layout:i,connectNulls:a=JR.connectNulls}=t,l=ure(e,i),u=a?n.filter(uv):n;if(Array.isArray(r)){var d,f=n.map((E,S)=>QR(QR({},E),{},{base:r[S]}));i==="vertical"?d=Ig().y(Gf).x1(Kf).x0(E=>E.base.x):d=Ig().x(Kf).y1(Gf).y0(E=>E.base.y);var m=d.defined(ZR).curve(l),p=a?f.filter(ZR):f;return m(p)}var v;i==="vertical"&&Ee(r)?v=Ig().y(Gf).x1(Kf).x0(r):Ee(r)?v=Ig().x(Kf).y1(Gf).y0(r):v=r6().x(Kf).y(Gf);var _=v.defined(uv).curve(l);return _(u)},VA=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Eu();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},u=n&&n.length?cre(l):r;return w.createElement("path",_E({},Fr(t),bA(t),{className:it("recharts-curve",e),d:u===null?void 0:u,ref:i}))},dre=["x","y","top","left","width","height","className"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t,e){if(t==null)return{};var n,r,i=yre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vre=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),bre=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,d=gre(t,dre),f=fre({x:e,y:n,top:r,left:i,width:a,height:l},d);return!Ee(e)||!Ee(n)||!Ee(a)||!Ee(l)||!Ee(r)||!Ee(i)?null:w.createElement("path",wE({},hr(f),{className:it("recharts-cross",u),d:vre(e,n,a,l,r,i)}))};function xre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),PV=(t,e,n)=>t.map(r=>"".concat(Sre(r)," ").concat(e,"ms ").concat(n)).join(","),Are=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),$h=(t,e)=>Object.keys(e).reduce((n,r)=>nD(nD({},n),{},{[r]:t(r,e[r])}),{});function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cv=(t,e,n)=>t+(e-t)*n,EE=t=>{var{from:e,to:n}=t;return e!==n},jV=(t,e,n)=>{var r=$h((i,a)=>{if(EE(a)){var[l,u]=t(a.from,a.to,a.velocity);return wn(wn({},a),{},{from:l,velocity:u})}return a},e);return n<1?$h((i,a)=>EE(a)&&r[i]!=null?wn(wn({},a),{},{velocity:cv(a.velocity,r[i].velocity,n),from:cv(a.from,r[i].from,n)}):a,e):jV(t,r,n-1)};function Ore(t,e,n,r,i,a){var l,u=r.reduce((v,_)=>wn(wn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>$h((v,_)=>_.from,u),f=()=>!Object.values(u).filter(EE).length,m=null,p=v=>{l||(l=v);var _=v-l,E=_/n.dt;u=jV(n,u,E),i(wn(wn(wn({},t),e),d())),l=v,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var v;(v=m)===null||v===void 0||v()})}function Nre(t,e,n,r,i,a,l){var u=null,d=i.reduce((p,v)=>{var _=t[v],E=e[v];return _==null||E==null?p:wn(wn({},p),{},{[v]:[_,E]})},{}),f,m=p=>{f||(f=p);var v=(p-f)/r,_=$h((S,A)=>cv(...A,n(v)),d);if(a(wn(wn(wn({},t),e),_)),v<1)u=l.setTimeout(m);else{var E=$h((S,A)=>cv(...A,n(1)),d);a(wn(wn(wn({},t),e),E))}};return()=>(u=l.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}const Pre=(t,e,n,r,i,a)=>{var l=Are(t,e);return n==null?()=>(i(wn(wn({},t),e)),()=>{}):n.isStepper===!0?Ore(t,e,n,l,i,a):Nre(t,e,n,r,l,i,a)};var dv=1e-4,RV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],DV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),iD=(t,e)=>n=>{var r=RV(t,e);return DV(r,n)},jre=(t,e)=>n=>{var r=RV(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return DV(i,n)},Rre=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Dre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Rre(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},kre=(t,e,n,r)=>{var i=iD(t,n),a=iD(e,r),l=jre(t,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,v=0;v<8;++v){var _=i(p)-m,E=l(p);if(Math.abs(_-m)<dv||E<dv)return a(p);p=u(p-_/E)}return a(p)};return d.isStepper=!1,d},aD=function(){return kre(...Dre(...arguments))},Mre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,d)=>{var f=-(l-u)*n,m=d*r,p=d+(f-m)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<dv&&Math.abs(p)<dv?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Lre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aD(t);case"spring":return Mre();default:if(t.split("(")[0]==="cubic-bezier")return aD(t)}return typeof t=="function"?t:null};function Vre(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=t.setTimeout(a.bind(null,f),d);return}a(d),i=t.setTimeout(a.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Bre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function zre(){return Vre(new Bre)}var Ure=w.createContext(zre);function qre(t,e){var n=w.useContext(Ure);return w.useMemo(()=>e??n(t),[t,e,n])}var Fre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),R0={isSsr:Fre()},$re={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sD={t:0},kw={t:1};function Cm(t){var e=vn(t,$re),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=e,m=n==="auto"?!R0.isSsr:n,p=qre(e.animationId,e.animationManager),[v,_]=w.useState(m?sD:kw),E=w.useRef(null);return w.useEffect(()=>{m||_(kw)},[m]),w.useEffect(()=>{if(!m||!r)return wu;var S=Pre(sD,kw,Lre(a),i,_,p.getTimeoutController()),A=()=>{E.current=S()};return p.start([d,l,A,i,u]),()=>{p.stop(),E.current&&E.current(),u()}},[m,r,i,a,l,d,u,p]),f(v.t)}function Im(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Lh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Lh(e),r.current=t),n.current}var Hre=["radius"],Kre=["radius"],oD,lD,uD,cD,dD,fD,hD,mD,pD,gD;function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(null,arguments)}function bD(t,e){if(t==null)return{};var n,r,i=Qre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ca(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xD=(t,e,n,r,i)=>{var a=Io(n),l=Io(r),u=Math.min(Math.abs(a)/2,Math.abs(l)/2),d=l>=0?1:-1,f=a>=0?1:-1,m=l>=0&&a>=0||l<0&&a<0?1:0,p;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],_=0,E=4;_<E;_++){var S,A=(S=i[_])!==null&&S!==void 0?S:0;v[_]=A>u?u:A}p=Ht(oD||(oD=ca(["M",",",""])),t,e+d*v[0]),v[0]>0&&(p+=Ht(lD||(lD=ca(["A ",",",",0,0,",",",",",""])),v[0],v[0],m,t+f*v[0],e)),p+=Ht(uD||(uD=ca(["L ",",",""])),t+n-f*v[1],e),v[1]>0&&(p+=Ht(cD||(cD=ca(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],m,t+n,e+d*v[1])),p+=Ht(dD||(dD=ca(["L ",",",""])),t+n,e+r-d*v[2]),v[2]>0&&(p+=Ht(fD||(fD=ca(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],m,t+n-f*v[2],e+r)),p+=Ht(hD||(hD=ca(["L ",",",""])),t+f*v[3],e+r),v[3]>0&&(p+=Ht(mD||(mD=ca(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],m,t,e+r-d*v[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);p=Ht(pD||(pD=ca(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*C,C,C,m,t+f*C,e,t+n-f*C,e,C,C,m,t+n,e+d*C,t+n,e+r-d*C,C,C,m,t+n-f*C,e+r,t+f*C,e+r,C,C,m,t,e+r-d*C)}else p=Ht(gD||(gD=ca(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},_D={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BA=t=>{var e=vn(t,_D),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ae=n.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:v,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:S}=e,A=w.useRef(u),C=w.useRef(d),N=w.useRef(a),j=w.useRef(l),D=w.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),V=Im(D,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=it("recharts-rectangle",m);if(!S){var P=hr(e),{radius:R}=P,L=bD(P,Hre);return w.createElement("path",fv({},L,{x:Io(a),y:Io(l),width:Io(u),height:Io(d),radius:typeof f=="number"?f:void 0,className:M,d:xD(a,l,u,d,f)}))}var F=A.current,B=C.current,U=N.current,q=j.current,ge="0px ".concat(r===-1?1:r,"px"),fe="".concat(r,"px 0px"),W=PV(["strokeDasharray"],v,typeof p=="string"?p:_D.animationEasing);return w.createElement(Cm,{animationId:V,key:V,canBegin:r>0,duration:v,easing:p,isActive:S,begin:_},ae=>{var re=Dt(F,u,ae),ue=Dt(B,d,ae),ye=Dt(U,a,ae),$=Dt(q,l,ae);n.current&&(A.current=re,C.current=ue,N.current=ye,j.current=$);var te;E?ae>0?te={transition:W,strokeDasharray:fe}:te={strokeDasharray:ge}:te={strokeDasharray:fe};var pe=hr(e),{radius:be}=pe,Pe=bD(pe,Kre);return w.createElement("path",fv({},Pe,{radius:typeof f=="number"?f:void 0,className:M,d:xD(ye,$,re,ue,f),ref:n,style:vD(vD({},te),e.style)}))})};function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hv=Math.PI/180,eie=t=>t*180/Math.PI,mn=(t,e,n,r)=>({x:t+Math.cos(-hv*r)*n,y:e+Math.sin(-hv*r)*n}),kV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},tie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},nie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=tie({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:eie(d),angleInRadian:d}},rie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},iie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},aie=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=nie({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=rie(e),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?ED(ED({},e),{},{radius:i,angle:iie(m,e)}):null};function MV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=mn(e,n,r,i),u=mn(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var SD,AD,TD,CD,ID,OD,ND;function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function Ul(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sie=(t,e)=>{var n=kn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Lg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,f=u*(l?1:-1)+r,m=Math.asin(u/f)/hv,p=d?i:i+a*m,v=mn(e,n,f,p),_=mn(e,n,r,p),E=d?i-a*m:i,S=mn(e,n,f*Math.cos(m*hv),E);return{center:v,circleTangency:_,lineTangency:S,theta:m}},LV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=sie(a,l),d=a+u,f=mn(e,n,i,a),m=mn(e,n,i,d),p=Ht(SD||(SD=Ul(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(a>d),m.x,m.y);if(r>0){var v=mn(e,n,r,a),_=mn(e,n,r,d);p+=Ht(AD||(AD=Ul(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(a<=d),v.x,v.y)}else p+=Ht(TD||(TD=Ul(["L ",","," Z"])),e,n);return p},oie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=t,m=kn(f-d),{circleTangency:p,lineTangency:v,theta:_}=Lg({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:u}),{circleTangency:E,lineTangency:S,theta:A}=Lg({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(d-f):Math.abs(d-f)-_-A;if(C<0)return l?Ht(CD||(CD=Ul(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):LV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var N=Ht(ID||(ID=Ul(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(m<0),p.x,p.y,i,i,+(C>180),+(m<0),E.x,E.y,a,a,+(m<0),S.x,S.y);if(r>0){var{circleTangency:j,lineTangency:D,theta:V}=Lg({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:M,lineTangency:P,theta:R}=Lg({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),L=u?Math.abs(d-f):Math.abs(d-f)-V-R;if(L<0&&a===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+=Ht(OD||(OD=Ul(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(m<0),M.x,M.y,r,r,+(L>180),+(m>0),j.x,j.y,a,a,+(m<0),D.x,D.y)}else N+=Ht(ND||(ND=Ul(["L",",","Z"])),e,n);return N},lie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VV=t=>{var e=vn(t,lie),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(a<i||f===m)return null;var v=it("recharts-sector",p),_=a-i,E=rr(l,_,0,!0),S;return E>0&&Math.abs(f-m)<360?S=oie({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):S=LV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),w.createElement("path",SE({},hr(e),{className:v,d:S}))};function uie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(v6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=e,d=mn(r,i,a,u),f=mn(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return MV(e)}}var Mw={},Lw={},Vw={},PD;function cie(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Vw)),Vw}var jD;function die(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Lw)),Lw}var RD;function fie(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=die();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}t.range=r})(Mw)),Mw}var Bw,DD;function hie(){return DD||(DD=1,Bw=fie().range),Bw}var mie=hie();const BV=_s(mie);function Mo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zA(t){let e,n,r;t.length!==2?(e=Mo,n=(u,d)=>Mo(t(u),d),r=(u,d)=>t(u)-d):(e=t===Mo||t===pie?t:gie,n=t,r=t);function i(u,d,f=0,m=u.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(u[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(u,d,f=0,m=u.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(u[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(u,d,f=0,m=u.length){const p=i(u,d,f,m-1);return p>f&&r(u[p-1],d)>-r(u[p],d)?p-1:p}return{left:i,center:l,right:a}}function gie(){return 0}function zV(t){return t===null?NaN:+t}function*yie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vie=zA(Mo),Om=vie.right;zA(zV).center;class kD extends Map{constructor(e,n=_ie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(MD(this,e))}has(e){return super.has(MD(this,e))}set(e,n){return super.set(bie(this,e),n)}delete(e){return super.delete(xie(this,e))}}function MD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _ie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wie(t=Mo){if(t===Mo)return UV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function UV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Eie=Math.sqrt(50),Sie=Math.sqrt(10),Aie=Math.sqrt(2);function mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Eie?10:a>=Sie?5:a>=Aie?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=n&&n<2?mv(t,e,n*2):[u,d,f]}function AE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?mv(e,t,n):mv(t,e,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function TE(t,e,n){return e=+e,t=+t,n=+n,mv(t,e,n)[2]}function CE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?TE(e,t,n):TE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?UV:wie(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/d+v)),E=Math.min(r,Math.floor(e+(d-f)*p/d+v));qV(t,e,_,E,i)}const a=t[e];let l=n,u=r;for(Wf(t,n,e),i(t[r],a)>0&&Wf(t,n,r);l<u;){for(Wf(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Wf(t,n,u):(++u,Wf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Wf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tie(t,e,n){if(t=Float64Array.from(yie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VD(t);if(e>=1)return LD(t);var r,i=(r-1)*e,a=Math.floor(i),l=LD(qV(t,a).subarray(0,a+1)),u=VD(t.subarray(a+1));return l+(u-l)*(i-a)}}function Cie(t,e,n=zV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function Iie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function gi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Is(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IE=Symbol("implicit");function UA(){var t=new kD,e=[],n=[],r=IE;function i(a){let l=t.get(a);if(l===void 0){if(r!==IE)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kD;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UA(e,n).unknown(r)},gi.apply(i,arguments),i}function qA(){var t=UA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var v=e().length,_=i<r,E=_?i:r,S=_?r:i;a=(S-E)/Math.max(1,v-d+f*2),u&&(a=Math.floor(a)),E+=(S-E-a*(v-d))*m,l=a*(1-d),u&&(E=Math.round(E),l=Math.round(l));var A=Iie(v).map(function(C){return E+a*C});return n(_?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),p()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},t.copy=function(){return qA(e(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(m)},gi.apply(p(),arguments)}function FV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FV(e())},t}function Oie(){return FV(qA.apply(null,arguments).paddingInner(1))}function FA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $V(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nm(){}var Hh=.7,pv=1/Hh,qc="\\s*([+-]?\\d+)\\s*",Kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nie=/^#([0-9a-f]{3,8})$/,Pie=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),jie=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),Rie=new RegExp(`^rgba\\(${qc},${qc},${qc},${Kh}\\)$`),Die=new RegExp(`^rgba\\(${_a},${_a},${_a},${Kh}\\)$`),kie=new RegExp(`^hsl\\(${Kh},${_a},${_a}\\)$`),Mie=new RegExp(`^hsla\\(${Kh},${_a},${_a},${Kh}\\)$`),BD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FA(Nm,Gh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHex8:Lie,formatHsl:Vie,formatRgb:UD,toString:UD});function zD(){return this.rgb().formatHex()}function Lie(){return this.rgb().formatHex8()}function Vie(){return HV(this).formatHsl()}function UD(){return this.rgb().formatRgb()}function Gh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Nie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qD(e):n===3?new Sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pie.exec(t))?new Sr(e[1],e[2],e[3],1):(e=jie.exec(t))?new Sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rie.exec(t))?Vg(e[1],e[2],e[3],e[4]):(e=Die.exec(t))?Vg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kie.exec(t))?HD(e[1],e[2]/100,e[3]/100,1):(e=Mie.exec(t))?HD(e[1],e[2]/100,e[3]/100,e[4]):BD.hasOwnProperty(t)?qD(BD[t]):t==="transparent"?new Sr(NaN,NaN,NaN,0):null}function qD(t){return new Sr(t>>16&255,t>>8&255,t&255,1)}function Vg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sr(t,e,n,r)}function Bie(t){return t instanceof Nm||(t=Gh(t)),t?(t=t.rgb(),new Sr(t.r,t.g,t.b,t.opacity)):new Sr}function OE(t,e,n,r){return arguments.length===1?Bie(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FA(Sr,OE,$V(Nm,{brighter(t){return t=t==null?pv:Math.pow(pv,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hh:Math.pow(Hh,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sr(Xl(this.r),Xl(this.g),Xl(this.b),gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FD,formatHex:FD,formatHex8:zie,formatRgb:$D,toString:$D}));function FD(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function zie(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function $D(){const t=gv(this.opacity);return`${t===1?"rgb(":"rgba("}${Xl(this.r)}, ${Xl(this.g)}, ${Xl(this.b)}${t===1?")":`, ${t})`}`}function gv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ql(t){return t=Xl(t),(t<16?"0":"")+t.toString(16)}function HD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Di(t,e,n,r)}function HV(t){if(t instanceof Di)return new Di(t.h,t.s,t.l,t.opacity);if(t instanceof Nm||(t=Gh(t)),!t)return new Di;if(t instanceof Di)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new Di(l,u,d,t.opacity)}function Uie(t,e,n,r){return arguments.length===1?HV(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FA(Di,Uie,$V(Nm,{brighter(t){return t=t==null?pv:Math.pow(pv,t),new Di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hh:Math.pow(Hh,t),new Di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sr(zw(t>=240?t-240:t+120,i,r),zw(t,i,r),zw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Di(KD(this.h),Bg(this.s),Bg(this.l),gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gv(this.opacity);return`${t===1?"hsl(":"hsla("}${KD(this.h)}, ${Bg(this.s)*100}%, ${Bg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KD(t){return t=(t||0)%360,t<0?t+360:t}function Bg(t){return Math.max(0,Math.min(1,t||0))}function zw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $A=t=>()=>t;function qie(t,e){return function(n){return t+n*e}}function Fie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $ie(t){return(t=+t)==1?KV:function(e,n){return n-e?Fie(e,n,t):$A(isNaN(e)?n:e)}}function KV(t,e){var n=e-t;return n?qie(t,n):$A(isNaN(t)?e:t)}const GD=(function t(e){var n=$ie(e);function r(i,a){var l=n((i=OE(i)).r,(a=OE(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=KV(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function Hie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Kie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Ed(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function Wie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ed(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var NE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uw=new RegExp(NE.source,"g");function Qie(t){return function(){return t}}function Xie(t){return function(e){return t(e)+""}}function Zie(t,e){var n=NE.lastIndex=Uw.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=NE.exec(t))&&(i=Uw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:yv(r,i)})),n=Uw.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?Xie(d[0].x):Qie(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)u[(p=d[m]).i]=p.x(f);return u.join("")})}function Ed(t,e){var n=typeof e,r;return e==null||n==="boolean"?$A(e):(n==="number"?yv:n==="string"?(r=Gh(e))?(e=r,GD):Zie:e instanceof Gh?GD:e instanceof Date?Wie:Kie(e)?Hie:Array.isArray(e)?Gie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yie:yv)(t,e)}function HA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Jie(t,e){e===void 0&&(e=t,t=Ed);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function eae(t){return function(){return t}}function vv(t){return+t}var WD=[0,1];function dr(t){return t}function PE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eae(isNaN(e)?NaN:.5)}function tae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nae(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=PE(i,r),a=n(l,a)):(r=PE(r,i),a=n(a,l)),function(u){return a(r(u))}}function rae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=PE(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var d=Om(t,u,1,r)-1;return a[d](i[d](u))}}function Pm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D0(){var t=WD,e=WD,n=Ed,r,i,a,l=dr,u,d,f;function m(){var v=Math.min(t.length,e.length);return l!==dr&&(l=tae(t[0],t[v-1])),u=v>2?rae:nae,d=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(d||(d=u(t.map(r),e,n)))(r(l(v)))}return p.invert=function(v){return l(i((f||(f=u(e,t.map(r),yv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,vv),m()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=HA,m()},p.clamp=function(v){return arguments.length?(l=v?!0:dr,m()):l!==dr},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,_){return r=v,i=_,m()}}function KA(){return D0()(dr,dr)}function iae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ld(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function aae(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function sae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wh(t){if(!(e=oae.exec(t)))throw new Error("invalid format: "+t);var e;return new GA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wh.prototype=GA.prototype;function GA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xv;function uae(t,e){var n=bv(t,e);if(!n)return xv=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(xv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bv(t,Math.max(0,e+a-1))[0]}function YD(t,e){var n=bv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YD(t*100,e),r:YD,s:uae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XD(t){return t}var ZD=Array.prototype.map,JD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cae(t){var e=t.grouping===void 0||t.thousands===void 0?XD:aae(ZD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?XD:sae(ZD.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p,v){p=Wh(p);var _=p.fill,E=p.align,S=p.sign,A=p.symbol,C=p.zero,N=p.width,j=p.comma,D=p.precision,V=p.trim,M=p.type;M==="n"?(j=!0,M="g"):QD[M]||(D===void 0&&(D=12),V=!0,M="g"),(C||_==="0"&&E==="=")&&(C=!0,_="0",E="=");var P=(v&&v.prefix!==void 0?v.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),R=(A==="$"?r:/[%p]/.test(M)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),L=QD[M],F=/[defgprs%]/.test(M);D=D===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function B(U){var q=P,ge=R,fe,W,ae;if(M==="c")ge=L(U)+ge,U="";else{U=+U;var re=U<0||1/U<0;if(U=isNaN(U)?d:L(Math.abs(U),D),V&&(U=lae(U)),re&&+U==0&&S!=="+"&&(re=!1),q=(re?S==="("?S:u:S==="-"||S==="("?"":S)+q,ge=(M==="s"&&!isNaN(U)&&xv!==void 0?JD[8+xv/3]:"")+ge+(re&&S==="("?")":""),F){for(fe=-1,W=U.length;++fe<W;)if(ae=U.charCodeAt(fe),48>ae||ae>57){ge=(ae===46?i+U.slice(fe+1):U.slice(fe))+ge,U=U.slice(0,fe);break}}}j&&!C&&(U=e(U,1/0));var ue=q.length+U.length+ge.length,ye=ue<N?new Array(N-ue+1).join(_):"";switch(j&&C&&(U=e(ye+U,ye.length?N-ge.length:1/0),ye=""),E){case"<":U=q+U+ge+ye;break;case"=":U=q+ye+U+ge;break;case"^":U=ye.slice(0,ue=ye.length>>1)+q+U+ge+ye.slice(ue);break;default:U=ye+q+U+ge;break}return a(U)}return B.toString=function(){return p+""},B}function m(p,v){var _=Math.max(-8,Math.min(8,Math.floor(ld(v)/3)))*3,E=Math.pow(10,-_),S=f((p=Wh(p),p.type="f",p),{suffix:JD[8+_/3]});return function(A){return S(E*A)}}return{format:f,formatPrefix:m}}var zg,WA,GV;dae({thousands:",",grouping:[3],currency:["$",""]});function dae(t){return zg=cae(t),WA=zg.format,GV=zg.formatPrefix,zg}function fae(t){return Math.max(0,-ld(Math.abs(t)))}function hae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ld(e)/3)))*3-ld(Math.abs(t)))}function mae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ld(e)-ld(t))+1}function WV(t,e,n,r){var i=CE(t,e,n),a;switch(r=Wh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=hae(i,l))&&(r.precision=a),GV(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=mae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fae(i))&&(r.precision=a-(r.type==="%")*2);break}}return WA(r)}function Yo(t){var e=t.domain;return t.ticks=function(n){var r=e();return AE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return WV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);m-- >0;){if(f=TE(l,u,n),f===d)return r[i]=l,r[a]=u,e(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function YV(){var t=KA();return t.copy=function(){return Pm(t,YV())},gi.apply(t,arguments),Yo(t)}function QV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return QV(t).unknown(e)},t=arguments.length?Array.from(t,vv):[0,1],Yo(n)}function XV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ek(t){return Math.log(t)}function tk(t){return Math.exp(t)}function pae(t){return-Math.log(-t)}function gae(t){return-Math.exp(-t)}function yae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vae(t){return t===10?yae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nk(t){return(e,n)=>-t(-e,n)}function YA(t){const e=t(ek,tk),n=e.domain;let r=10,i,a;function l(){return i=bae(r),a=vae(r),n()[0]<0?(i=nk(i),a=nk(a),t(pae,gae)):t(ek,tk),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let v=i(f),_=i(m),E,S;const A=u==null?10:+u;let C=[];if(!(r%1)&&_-v<A){if(v=Math.floor(v),_=Math.ceil(_),f>0){for(;v<=_;++v)for(E=1;E<r;++E)if(S=v<0?E/a(-v):E*a(v),!(S<f)){if(S>m)break;C.push(S)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/a(-v):E*a(v),!(S<f)){if(S>m)break;C.push(S)}C.length*2<A&&(C=AE(f,m,A))}else C=AE(v,_,Math.min(_-v,A)).map(a);return p?C.reverse():C},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Wh(d)).precision==null&&(d.trim=!0),d=WA(d)),u===1/0)return d;const f=Math.max(1,r*u/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(XV(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function ZV(){const t=YA(D0()).domain([1,10]);return t.copy=()=>Pm(t,ZV()).base(t.base()),gi.apply(t,arguments),t}function rk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ik(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QA(t){var e=1,n=t(rk(e),ik(e));return n.constant=function(r){return arguments.length?t(rk(e=+r),ik(e)):e},Yo(n)}function JV(){var t=QA(D0());return t.copy=function(){return Pm(t,JV()).constant(t.constant())},gi.apply(t,arguments)}function ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _ae(t){return t<0?-t*t:t*t}function XA(t){var e=t(dr,dr),n=1;function r(){return n===1?t(dr,dr):n===.5?t(xae,_ae):t(ak(n),ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yo(e)}function ZA(){var t=XA(D0());return t.copy=function(){return Pm(t,ZA()).exponent(t.exponent())},gi.apply(t,arguments),t}function wae(){return ZA.apply(null,arguments).exponent(.5)}function sk(t){return Math.sign(t)*t*t}function Eae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eB(){var t=KA(),e=[0,1],n=!1,r;function i(a){var l=Eae(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(sk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,vv)).map(sk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},gi.apply(i,arguments),Yo(i)}function tB(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=Cie(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[Om(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Mo),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tB().domain(t).range(e).unknown(r)},gi.apply(a,arguments)}function nB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[Om(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return nB().domain([t,e]).range(i).unknown(a)},gi.apply(Yo(l),arguments)}function rB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Om(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rB().domain(t).range(e).unknown(n)},gi.apply(i,arguments)}const qw=new Date,Fw=new Date;function Tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<l);return d},i.filter=a=>Tn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(qw.setTime(+a),Fw.setTime(+l),t(qw),t(Fw),Math.floor(n(qw,Fw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const _v=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_v.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_v);_v.range;const rs=1e3,fi=rs*60,is=fi*60,ps=is*24,JA=ps*7,ok=ps*30,$w=ps*365,Fl=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCSeconds());Fl.range;const eT=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());eT.range;const tT=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());tT.range;const nT=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getHours());nT.range;const rT=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCHours());rT.range;const jm=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/ps,t=>t.getDate()-1);jm.range;const k0=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ps,t=>t.getUTCDate()-1);k0.range;const iB=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ps,t=>Math.floor(t/ps));iB.range;function Su(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fi)/JA)}const M0=Su(0),wv=Su(1),Sae=Su(2),Aae=Su(3),ud=Su(4),Tae=Su(5),Cae=Su(6);M0.range;wv.range;Sae.range;Aae.range;ud.range;Tae.range;Cae.range;function Au(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JA)}const L0=Au(0),Ev=Au(1),Iae=Au(2),Oae=Au(3),cd=Au(4),Nae=Au(5),Pae=Au(6);L0.range;Ev.range;Iae.range;Oae.range;cd.range;Nae.range;Pae.range;const iT=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iT.range;const aT=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aT.range;const gs=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gs.range;const ys=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ys.range;function aB(t,e,n,r,i,a){const l=[[Fl,1,rs],[Fl,5,5*rs],[Fl,15,15*rs],[Fl,30,30*rs],[a,1,fi],[a,5,5*fi],[a,15,15*fi],[a,30,30*fi],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[r,1,ps],[r,2,2*ps],[n,1,JA],[e,1,ok],[e,3,3*ok],[t,1,$w]];function u(f,m,p){const v=m<f;v&&([f,m]=[m,f]);const _=p&&typeof p.range=="function"?p:d(f,m,p),E=_?_.range(f,+m+1):[];return v?E.reverse():E}function d(f,m,p){const v=Math.abs(m-f)/p,_=zA(([,,A])=>A).right(l,v);if(_===l.length)return t.every(CE(f/$w,m/$w,p));if(_===0)return _v.every(Math.max(CE(f,m,p),1));const[E,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(S)}return[u,d]}const[jae,Rae]=aB(ys,aT,L0,iB,rT,tT),[Dae,kae]=aB(gs,iT,M0,jm,nT,eT);function Hw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Mae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,f=Qf(i),m=Xf(i),p=Qf(a),v=Xf(a),_=Qf(l),E=Xf(l),S=Qf(u),A=Xf(u),C=Qf(d),N=Xf(d),j={a:ae,A:re,b:ue,B:ye,c:null,d:hk,e:hk,f:ase,g:pse,G:yse,H:nse,I:rse,j:ise,L:sB,m:sse,M:ose,p:$,q:te,Q:gk,s:yk,S:lse,u:use,U:cse,V:dse,w:fse,W:hse,x:null,X:null,y:mse,Y:gse,Z:vse,"%":pk},D={a:pe,A:be,b:Pe,B:ke,c:null,d:mk,e:mk,f:wse,g:jse,G:Dse,H:bse,I:xse,j:_se,L:lB,m:Ese,M:Sse,p:De,q:Vt,Q:gk,s:yk,S:Ase,u:Tse,U:Cse,V:Ise,w:Ose,W:Nse,x:null,X:null,y:Pse,Y:Rse,Z:kse,"%":pk},V={a:F,A:B,b:U,B:q,c:ge,d:dk,e:dk,f:Zae,g:ck,G:uk,H:fk,I:fk,j:Wae,L:Xae,m:Gae,M:Yae,p:L,q:Kae,Q:ese,s:tse,S:Qae,u:Uae,U:qae,V:Fae,w:zae,W:$ae,x:fe,X:W,y:ck,Y:uk,Z:Hae,"%":Jae};j.x=M(n,j),j.X=M(r,j),j.c=M(e,j),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(oe,Be){return function($e){var he=[],Yt=-1,Ke=0,bn=oe.length,Qt,Cr,Rs;for($e instanceof Date||($e=new Date(+$e));++Yt<bn;)oe.charCodeAt(Yt)===37&&(he.push(oe.slice(Ke,Yt)),(Cr=lk[Qt=oe.charAt(++Yt)])!=null?Qt=oe.charAt(++Yt):Cr=Qt==="e"?" ":"0",(Rs=Be[Qt])&&(Qt=Rs($e,Cr)),he.push(Qt),Ke=Yt+1);return he.push(oe.slice(Ke,Yt)),he.join("")}}function P(oe,Be){return function($e){var he=Yf(1900,void 0,1),Yt=R(he,oe,$e+="",0),Ke,bn;if(Yt!=$e.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Be&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ke=Kw(Yf(he.y,0,1)),bn=Ke.getUTCDay(),Ke=bn>4||bn===0?Ev.ceil(Ke):Ev(Ke),Ke=k0.offset(Ke,(he.V-1)*7),he.y=Ke.getUTCFullYear(),he.m=Ke.getUTCMonth(),he.d=Ke.getUTCDate()+(he.w+6)%7):(Ke=Hw(Yf(he.y,0,1)),bn=Ke.getDay(),Ke=bn>4||bn===0?wv.ceil(Ke):wv(Ke),Ke=jm.offset(Ke,(he.V-1)*7),he.y=Ke.getFullYear(),he.m=Ke.getMonth(),he.d=Ke.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),bn="Z"in he?Kw(Yf(he.y,0,1)).getUTCDay():Hw(Yf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(bn+5)%7:he.w+he.U*7-(bn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Kw(he)):Hw(he)}}function R(oe,Be,$e,he){for(var Yt=0,Ke=Be.length,bn=$e.length,Qt,Cr;Yt<Ke;){if(he>=bn)return-1;if(Qt=Be.charCodeAt(Yt++),Qt===37){if(Qt=Be.charAt(Yt++),Cr=V[Qt in lk?Be.charAt(Yt++):Qt],!Cr||(he=Cr(oe,$e,he))<0)return-1}else if(Qt!=$e.charCodeAt(he++))return-1}return he}function L(oe,Be,$e){var he=f.exec(Be.slice($e));return he?(oe.p=m.get(he[0].toLowerCase()),$e+he[0].length):-1}function F(oe,Be,$e){var he=_.exec(Be.slice($e));return he?(oe.w=E.get(he[0].toLowerCase()),$e+he[0].length):-1}function B(oe,Be,$e){var he=p.exec(Be.slice($e));return he?(oe.w=v.get(he[0].toLowerCase()),$e+he[0].length):-1}function U(oe,Be,$e){var he=C.exec(Be.slice($e));return he?(oe.m=N.get(he[0].toLowerCase()),$e+he[0].length):-1}function q(oe,Be,$e){var he=S.exec(Be.slice($e));return he?(oe.m=A.get(he[0].toLowerCase()),$e+he[0].length):-1}function ge(oe,Be,$e){return R(oe,e,Be,$e)}function fe(oe,Be,$e){return R(oe,n,Be,$e)}function W(oe,Be,$e){return R(oe,r,Be,$e)}function ae(oe){return l[oe.getDay()]}function re(oe){return a[oe.getDay()]}function ue(oe){return d[oe.getMonth()]}function ye(oe){return u[oe.getMonth()]}function $(oe){return i[+(oe.getHours()>=12)]}function te(oe){return 1+~~(oe.getMonth()/3)}function pe(oe){return l[oe.getUTCDay()]}function be(oe){return a[oe.getUTCDay()]}function Pe(oe){return d[oe.getUTCMonth()]}function ke(oe){return u[oe.getUTCMonth()]}function De(oe){return i[+(oe.getUTCHours()>=12)]}function Vt(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Be=M(oe+="",j);return Be.toString=function(){return oe},Be},parse:function(oe){var Be=P(oe+="",!1);return Be.toString=function(){return oe},Be},utcFormat:function(oe){var Be=M(oe+="",D);return Be.toString=function(){return oe},Be},utcParse:function(oe){var Be=P(oe+="",!0);return Be.toString=function(){return oe},Be}}}var lk={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,Lae=/^%/,Vae=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Bae(t){return t.replace(Vae,"\\$&")}function Qf(t){return new RegExp("^(?:"+t.map(Bae).join("|")+")","i")}function Xf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zae(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Uae(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $ae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uk(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ck(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kae(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Gae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Wae(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Yae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Qae(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xae(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zae(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jae(t,e,n){var r=Lae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ese(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tse(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hk(t,e){return at(t.getDate(),e,2)}function nse(t,e){return at(t.getHours(),e,2)}function rse(t,e){return at(t.getHours()%12||12,e,2)}function ise(t,e){return at(1+jm.count(gs(t),t),e,3)}function sB(t,e){return at(t.getMilliseconds(),e,3)}function ase(t,e){return sB(t,e)+"000"}function sse(t,e){return at(t.getMonth()+1,e,2)}function ose(t,e){return at(t.getMinutes(),e,2)}function lse(t,e){return at(t.getSeconds(),e,2)}function use(t){var e=t.getDay();return e===0?7:e}function cse(t,e){return at(M0.count(gs(t)-1,t),e,2)}function oB(t){var e=t.getDay();return e>=4||e===0?ud(t):ud.ceil(t)}function dse(t,e){return t=oB(t),at(ud.count(gs(t),t)+(gs(t).getDay()===4),e,2)}function fse(t){return t.getDay()}function hse(t,e){return at(wv.count(gs(t)-1,t),e,2)}function mse(t,e){return at(t.getFullYear()%100,e,2)}function pse(t,e){return t=oB(t),at(t.getFullYear()%100,e,2)}function gse(t,e){return at(t.getFullYear()%1e4,e,4)}function yse(t,e){var n=t.getDay();return t=n>=4||n===0?ud(t):ud.ceil(t),at(t.getFullYear()%1e4,e,4)}function vse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function mk(t,e){return at(t.getUTCDate(),e,2)}function bse(t,e){return at(t.getUTCHours(),e,2)}function xse(t,e){return at(t.getUTCHours()%12||12,e,2)}function _se(t,e){return at(1+k0.count(ys(t),t),e,3)}function lB(t,e){return at(t.getUTCMilliseconds(),e,3)}function wse(t,e){return lB(t,e)+"000"}function Ese(t,e){return at(t.getUTCMonth()+1,e,2)}function Sse(t,e){return at(t.getUTCMinutes(),e,2)}function Ase(t,e){return at(t.getUTCSeconds(),e,2)}function Tse(t){var e=t.getUTCDay();return e===0?7:e}function Cse(t,e){return at(L0.count(ys(t)-1,t),e,2)}function uB(t){var e=t.getUTCDay();return e>=4||e===0?cd(t):cd.ceil(t)}function Ise(t,e){return t=uB(t),at(cd.count(ys(t),t)+(ys(t).getUTCDay()===4),e,2)}function Ose(t){return t.getUTCDay()}function Nse(t,e){return at(Ev.count(ys(t)-1,t),e,2)}function Pse(t,e){return at(t.getUTCFullYear()%100,e,2)}function jse(t,e){return t=uB(t),at(t.getUTCFullYear()%100,e,2)}function Rse(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function Dse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cd(t):cd.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function kse(){return"+0000"}function pk(){return"%"}function gk(t){return+t}function yk(t){return Math.floor(+t/1e3)}var wc,cB,dB;Mse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mse(t){return wc=Mae(t),cB=wc.format,wc.parse,dB=wc.utcFormat,wc.utcParse,wc}function Lse(t){return new Date(t)}function Vse(t){return t instanceof Date?+t:+new Date(+t)}function sT(t,e,n,r,i,a,l,u,d,f){var m=KA(),p=m.invert,v=m.domain,_=f(".%L"),E=f(":%S"),S=f("%I:%M"),A=f("%I %p"),C=f("%a %d"),N=f("%b %d"),j=f("%B"),D=f("%Y");function V(M){return(d(M)<M?_:u(M)<M?E:l(M)<M?S:a(M)<M?A:r(M)<M?i(M)<M?C:N:n(M)<M?j:D)(M)}return m.invert=function(M){return new Date(p(M))},m.domain=function(M){return arguments.length?v(Array.from(M,Vse)):v().map(Lse)},m.ticks=function(M){var P=v();return t(P[0],P[P.length-1],M??10)},m.tickFormat=function(M,P){return P==null?V:f(P)},m.nice=function(M){var P=v();return(!M||typeof M.range!="function")&&(M=e(P[0],P[P.length-1],M??10)),M?v(XV(P,M)):m},m.copy=function(){return Pm(m,sT(t,e,n,r,i,a,l,u,d,f))},m}function Bse(){return gi.apply(sT(Dae,kae,gs,iT,M0,jm,nT,eT,Fl,cB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zse(){return gi.apply(sT(jae,Rae,ys,aT,L0,k0,rT,tT,Fl,dB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V0(){var t=0,e=1,n,r,i,a,l=dr,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(v){var _,E;return arguments.length?([_,E]=v,l=p(_,E),f):[l(0),l(1)]}}return f.range=m(Ed),f.rangeRound=m(HA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fB(){var t=Yo(V0()(dr));return t.copy=function(){return Qo(t,fB())},Is.apply(t,arguments)}function hB(){var t=YA(V0()).domain([1,10]);return t.copy=function(){return Qo(t,hB()).base(t.base())},Is.apply(t,arguments)}function mB(){var t=QA(V0());return t.copy=function(){return Qo(t,mB()).constant(t.constant())},Is.apply(t,arguments)}function oT(){var t=XA(V0());return t.copy=function(){return Qo(t,oT()).exponent(t.exponent())},Is.apply(t,arguments)}function Use(){return oT.apply(null,arguments).exponent(.5)}function pB(){var t=[],e=dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Om(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Tie(t,a/r))},n.copy=function(){return pB(e).domain(t)},Is.apply(n,arguments)}function B0(){var t=0,e=.5,n=1,r=1,i,a,l,u,d,f=dr,m,p=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+m(S))-a)*(r*S<r*a?u:d),f(p?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=m(t=+t),a=m(e=+e),l=m(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(p=!!S,_):p},_.interpolator=function(S){return arguments.length?(f=S,_):f};function E(S){return function(A){var C,N,j;return arguments.length?([C,N,j]=A,f=Jie(S,[C,N,j]),_):[f(0),f(.5),f(1)]}}return _.range=E(Ed),_.rangeRound=E(HA),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return m=S,i=S(t),a=S(e),l=S(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function gB(){var t=Yo(B0()(dr));return t.copy=function(){return Qo(t,gB())},Is.apply(t,arguments)}function yB(){var t=YA(B0()).domain([.1,1,10]);return t.copy=function(){return Qo(t,yB()).base(t.base())},Is.apply(t,arguments)}function vB(){var t=QA(B0());return t.copy=function(){return Qo(t,vB()).constant(t.constant())},Is.apply(t,arguments)}function lT(){var t=XA(B0());return t.copy=function(){return Qo(t,lT()).exponent(t.exponent())},Is.apply(t,arguments)}function qse(){return lT.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qA,scaleDiverging:gB,scaleDivergingLog:yB,scaleDivergingPow:lT,scaleDivergingSqrt:qse,scaleDivergingSymlog:vB,scaleIdentity:QV,scaleImplicit:IE,scaleLinear:YV,scaleLog:ZV,scaleOrdinal:UA,scalePoint:Oie,scalePow:ZA,scaleQuantile:tB,scaleQuantize:nB,scaleRadial:eB,scaleSequential:fB,scaleSequentialLog:hB,scaleSequentialPow:oT,scaleSequentialQuantile:pB,scaleSequentialSqrt:Use,scaleSequentialSymlog:mB,scaleSqrt:wae,scaleSymlog:JV,scaleThreshold:rB,scaleTime:Bse,scaleUtc:zse,tickFormat:WV},Symbol.toStringTag,{value:"Module"}));var Os=t=>t.chartData,z0=X([Os],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),uT=(t,e,n,r)=>r?z0(t):Os(t),Fse=(t,e,n)=>n?z0(t):Os(t);function vs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(et(e)&&et(n))return!0}return!1}function vk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function bB(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(et(n))i=n;else if(typeof n=="function")return;if(et(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(vs(l))return l}}function $se(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(vs(r))return vk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ee(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&IR.test(i)){var d=IR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Ee(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&OR.test(a)){var m=OR.exec(a);if(m==null||m[1]==null||e==null)u=void 0;else{var p=+m[1];u=e[1]+p}}else u=e?.[1];var v=[l,u];if(vs(v))return e==null?v:vk(v,e,n)}}}var Sd=1e9,Hse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dT,kt=!0,pi="[DecimalError] ",Zl=pi+"Invalid argument: ",cT=pi+"Exponent out of range: ",Ad=Math.floor,Dl=Math.pow,Kse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Dn=1e7,Ot=7,xB=9007199254740991,Sv=Ad(xB/Ot),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return os(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return St(os(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return gn(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vr))throw Error(pi+"NaN");if(n.s<1)throw Error(pi+(n.s?"NaN":"-Infinity"));return n.eq(Vr)?new r(0):(kt=!1,e=os(Yh(n,a),Yh(t,a),a),kt=!0,St(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EB(e,t):_B(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(pi+"NaN");return n.s?(kt=!1,e=os(n,t,0,1).times(t),kt=!0,n.minus(e)):St(new r(n),i)};Se.naturalExponential=Se.exp=function(){return wB(this)};Se.naturalLogarithm=Se.ln=function(){return Yh(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_B(e,t):EB(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zl+t);if(e=gn(i)+1,r=i.d.length-1,n=r*Ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(pi+"NaN")}for(t=gn(u),kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=va(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(os(u,a,l+2)).times(.5),va(a.d).slice(0,l)===(e=va(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return kt=!0,St(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,a,l,u,d,f,m=this,p=m.constructor,v=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=v.length,f=_.length,d<f&&(a=v,v=_,_=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)u=a[i]+_[r]*v[i-r-1]+e,a[i--]=u%Dn|0,e=u/Dn|0;a[i]=(a[i]+e)%Dn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,kt?St(t,p.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ca(t,0,Sd),e===void 0?e=r.rounding:Ca(e,0,8),St(n,t+gn(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yu(r,!0):(Ca(t,0,Sd),e===void 0?e=i.rounding:Ca(e,0,8),r=St(new i(r),t+1,e),n=yu(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?yu(i):(Ca(t,0,Sd),e===void 0?e=a.rounding:Ca(e,0,8),r=St(new a(i),t+gn(i)+1,e),n=yu(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return St(new e(t),gn(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,a,l,u=this,d=u.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(Vr);if(u=new d(u),!u.s){if(t.s<1)throw Error(pi+"Infinity");return u}if(u.eq(Vr))return u;if(r=d.precision,t.eq(Vr))return St(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=m<0?-m:m)<=xB){for(i=new d(Vr),e=Math.ceil(r/Ot+4),kt=!1;n%2&&(i=i.times(u),xk(i.d,e)),n=Ad(n/2),n!==0;)u=u.times(u),xk(u.d,e);return kt=!0,t.s<0?new d(Vr).div(i):St(i,r)}}else if(a<0)throw Error(pi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,kt=!1,i=t.times(Yh(u,r+f)),kt=!0,i=wB(i),i.s=a,i};Se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=yu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ca(t,1,Sd),e===void 0?e=a.rounding:Ca(e,0,8),i=St(new a(i),t,e),n=gn(i),r=yu(i,t<=n||n<=a.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ca(t,1,Sd),e===void 0?e=r.rounding:Ca(e,0,8)),St(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function _B(t,e){var n,r,i,a,l,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),kt?St(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(p/Ot),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Dn|0,d[a]%=Dn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,kt?St(e,p):e}function Ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zl+t)}function va(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Ot-r.length,n&&(a+=xo(n)),a+=r;l=t[e],r=l+"",n=Ot-r.length,n&&(a+=xo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var os=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Dn|0,l=a/Dn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Dn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,m,p,v,_,E,S,A,C,N,j,D,V,M,P,R,L=r.constructor,F=r.s==i.s?1:-1,B=r.d,U=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(pi+"Division by zero");for(d=r.e-i.e,P=U.length,V=B.length,_=new L(F),E=_.d=[],f=0;U[f]==(B[f]||0);)++f;if(U[f]>(B[f]||0)&&--d,a==null?N=a=L.precision:l?N=a+(gn(r)-gn(i))+1:N=a,N<0)return new L(0);if(N=N/Ot+2|0,f=0,P==1)for(m=0,U=U[0],N++;(f<V||m)&&N--;f++)j=m*Dn+(B[f]||0),E[f]=j/U|0,m=j%U|0;else{for(m=Dn/(U[0]+1)|0,m>1&&(U=t(U,m),B=t(B,m),P=U.length,V=B.length),D=P,S=B.slice(0,P),A=S.length;A<P;)S[A++]=0;R=U.slice(),R.unshift(0),M=U[0],U[1]>=Dn/2&&++M;do m=0,u=e(U,S,P,A),u<0?(C=S[0],P!=A&&(C=C*Dn+(S[1]||0)),m=C/M|0,m>1?(m>=Dn&&(m=Dn-1),p=t(U,m),v=p.length,A=S.length,u=e(p,S,v,A),u==1&&(m--,n(p,P<v?R:U,v))):(m==0&&(u=m=1),p=U.slice()),v=p.length,v<A&&p.unshift(0),n(S,p,A),u==-1&&(A=S.length,u=e(U,S,P,A),u<1&&(m++,n(S,P<A?R:U,A))),A=S.length):u===0&&(m++,S=[0]),E[f++]=m,u&&S[0]?S[A++]=B[D]||0:(S=[B[D]],A=1);while((D++<V||S[0]!==void 0)&&N--)}return E[0]||E.shift(),_.e=d,St(_,l?a+gn(_)+1:a)}})();function wB(t,e){var n,r,i,a,l,u,d=0,f=0,m=t.constructor,p=m.precision;if(gn(t)>16)throw Error(cT+gn(t));if(!t.s)return new m(Vr);for(kt=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(Dl(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new m(Vr),m.precision=u;;){if(i=St(i.times(t),u),n=n.times(++d),l=a.plus(os(i,n,u)),va(l.d).slice(0,u)===va(a.d).slice(0,u)){for(;f--;)a=St(a.times(a),u);return m.precision=p,e==null?(kt=!0,St(a,p)):a}a=l}}function gn(t){for(var e=t.e*Ot,n=t.d[0];n>=10;n/=10)e++;return e}function Gw(t,e,n){if(e>t.LN10.sd())throw kt=!0,n&&(t.precision=n),Error(pi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function xo(t){for(var e="";t--;)e+="0";return e}function Yh(t,e){var n,r,i,a,l,u,d,f,m,p=1,v=10,_=t,E=_.d,S=_.constructor,A=S.precision;if(_.s<1)throw Error(pi+(_.s?"NaN":"-Infinity"));if(_.eq(Vr))return new S(0);if(e==null?(kt=!1,f=A):f=e,_.eq(10))return e==null&&(kt=!0),Gw(S,f);if(f+=v,S.precision=f,n=va(E),r=n.charAt(0),a=gn(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=va(_.d),r=n.charAt(0),p++;a=gn(_),r>1?(_=new S("0."+n),a++):_=new S(r+"."+n.slice(1))}else return d=Gw(S,f+2,A).times(a+""),_=Yh(new S(r+"."+n.slice(1)),f-v).plus(d),S.precision=A,e==null?(kt=!0,St(_,A)):_;for(u=l=_=os(_.minus(Vr),_.plus(Vr),f),m=St(_.times(_),f),i=3;;){if(l=St(l.times(m),f),d=u.plus(os(l,new S(i),f)),va(d.d).slice(0,f)===va(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Gw(S,f+2,A).times(a+""))),u=os(u,new S(p),f),S.precision=A,e==null?(kt=!0,St(u,A)):u;u=d,i+=2}}function bk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ad(n/Ot),t.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ot;r<i;)t.d.push(+e.slice(r,r+=Ot));e=e.slice(r),r=Ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kt&&(t.e>Sv||t.e<-Sv))throw Error(cT+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,l,u,d,f,m,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Ot,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Ot),a=p.length,m>=a)return t;for(f=a=p[m],l=1;a>=10;a/=10)l++;r%=Ot,i=r-Ot+l}if(n!==void 0&&(a=Dl(10,l-i-1),u=f/a%10|0,d=e<0||p[m+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/Dl(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(a=gn(t),p.length=1,e=e-a-1,p[0]=Dl(10,(Ot-e%Ot)%Ot),t.e=Ad(-e/Ot)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Dl(10,Ot-r),p[m]=i>0?(f/Dl(10,l-i)%Dl(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==Dn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=Dn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(kt&&(t.e>Sv||t.e<-Sv))throw Error(cT+gn(t));return t}function EB(t,e){var n,r,i,a,l,u,d,f,m,p,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),kt?St(e,_):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,u=p.length):(n=p,r=f,u=d.length),i=Math.max(Math.ceil(_/Ot),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=Dn-1;--d[a],d[i]+=Dn}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,kt?St(e,_):e):new v(0)}function yu(t,e,n){var r,i=gn(t),a=va(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+xo(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xo(-i-1)+a,n&&(r=n-l)>0&&(a+=xo(r))):i>=l?(a+=xo(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+xo(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=xo(r))),t.s<0?"-"+a:a}function xk(t,e){if(t.length>e)return t.length=e,!0}function SB(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return bk(l,a.toString())}else if(typeof a!="string")throw Error(Zl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Kse.test(a))bk(l,a);else throw Error(Zl+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SB,i.config=i.set=Gse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Gse(t){if(!t||typeof t!="object")throw Error(pi+"Object expected");var e,n,r,i=["precision",1,Sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zl+n+": "+r);return this}var dT=SB(Hse);Vr=new dT(1);const ht=dT;function AB(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function TB(t,e,n){for(var r=new ht(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var CB=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},IB=(t,e,n)=>{if(t.lte(0))return new ht(0);var r=AB(t.toNumber()),i=new ht(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new ht(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new ht(d.toNumber()):new ht(Math.ceil(d.toNumber()))},Wse=(t,e,n)=>{var r=new ht(1),i=new ht(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ht(10).pow(AB(t)-1),i=new ht(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ht(Math.floor(t)))}else t===0?i=new ht(Math.floor((e-1)/2)):n||(i=new ht(Math.floor(t)));for(var l=Math.floor((e-1)/2),u=[],d=0;d<e;d++)u.push(i.add(new ht(d-l).mul(r)).toNumber());return u},OB=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var l=IB(new ht(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new ht(0):(u=new ht(e).add(n).div(2),u=u.sub(new ht(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new ht(n).sub(u).div(l).toNumber()),m=d+f+1;return m>r?OB(e,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:u.sub(new ht(d).mul(l)),tickMax:u.add(new ht(f).mul(l))})},Yse=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=CB([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?f.reverse():f}if(u===d)return Wse(u,i,a);var{step:m,tickMin:p,tickMax:v}=OB(u,d,l,a,0),_=TB(p,v.add(new ht(.1).mul(m)),m);return n>r?_.reverse():_},Qse=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=CB([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=IB(new ht(u).sub(l).div(d-1),a,0),m=[...TB(new ht(l),new ht(u),f),u];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},NB=t=>t.rootProps.maxBarSize,Xse=t=>t.rootProps.barGap,PB=t=>t.rootProps.barCategoryGap,Zse=t=>t.rootProps.barSize,Rm=t=>t.rootProps.stackOffset,jB=t=>t.rootProps.reverseStackOrder,fT=t=>t.options.chartName,hT=t=>t.rootProps.syncId,RB=t=>t.rootProps.syncMethod,mT=t=>t.options.eventEmitter,pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Il={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},da={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},U0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function q0(t,e,n){if(n!=="auto")return n;if(t!=null)return As(t,e)?"category":"number"}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wk={allowDataOverflow:Il.allowDataOverflow,allowDecimals:Il.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Il.angleAxisId,includeHidden:!1,name:void 0,reversed:Il.reversed,scale:Il.scale,tick:Il.tick,tickCount:void 0,ticks:void 0,type:Il.type,unit:void 0},Ek={allowDataOverflow:da.allowDataOverflow,allowDecimals:da.allowDecimals,allowDuplicatedCategory:da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:da.radiusAxisId,includeHidden:da.includeHidden,name:void 0,reversed:da.reversed,scale:da.scale,tick:da.tick,tickCount:da.tickCount,ticks:void 0,type:da.type,unit:void 0},noe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},pT=X([noe,bV],(t,e)=>{var n;if(t!=null)return t;var r=(n=q0(e,"angleAxis",wk.type))!==null&&n!==void 0?n:"category";return Av(Av({},wk),{},{type:r})}),roe=(t,e)=>t.polarAxis.radiusAxis[e],gT=X([roe,bV],(t,e)=>{var n;if(t!=null)return t;var r=(n=q0(e,"radiusAxis",Ek.type))!==null&&n!==void 0?n:"category";return Av(Av({},Ek),{},{type:r})}),F0=t=>t.polarOptions,yT=X([Ts,Cs,An],kV),DB=X([F0,yT],(t,e)=>{if(t!=null)return rr(t.innerRadius,e,0)}),kB=X([F0,yT],(t,e)=>{if(t!=null)return rr(t.outerRadius,e,e*.8)}),ioe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},MB=X([F0],ioe);X([pT,MB],U0);var LB=X([yT,DB,kB],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});X([gT,LB],U0);var VB=X([st,F0,DB,kB,Ts,Cs],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=e;return{cx:rr(l,i,i/2),cy:rr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Ut=(t,e)=>e,Dm=(t,e,n)=>n;function vT(t){return t?.id}function BB(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=vT(u);f.forEach((p,v)=>{var _=a==null||i?v:String(wt(p,a,null)),E=wt(p,u.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[m]:E}),l.set(_,S)})}}),Array.from(l.values())}function $0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var H0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function K0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function aoe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Bn=t=>{var e=st(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Td=t=>t.tooltip.settings.axisId;function soe(t){if(t in sh)return sh[t]();var e="scale".concat(xm(t));if(e in sh)return sh[e]()}function Sk(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],u=i[1];return l<=u?a>=l&&a<=u:a>=u&&a<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,l)=>{var u=t(a);if(u!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var d=t.bandwidth();switch(l.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function Ak(t,e,n){if(typeof t=="function")return Sk(t.copy().domain(e).range(n));if(t!=null){var r=soe(t);if(r!=null)return r.domain(e).range(n),Sk(r)}}var zB=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!vs(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];et(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jE=[0,"auto"],Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UB=(t,e)=>t.cartesianAxis.xAxis[e],Ns=(t,e)=>{var n=UB(t,e);return n??Pn},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sm},qB=(t,e)=>t.cartesianAxis.yAxis[e],Ps=(t,e)=>{var n=qB(t,e);return n??jn},coe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bT=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??coe},Wt=(t,e,n)=>{switch(e){case"xAxis":return Ns(t,n);case"yAxis":return Ps(t,n);case"zAxis":return bT(t,n);case"angleAxis":return pT(t,n);case"radiusAxis":return gT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},doe=(t,e,n)=>{switch(e){case"xAxis":return Ns(t,n);case"yAxis":return Ps(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Cd=(t,e,n)=>{switch(e){case"xAxis":return Ns(t,n);case"yAxis":return Ps(t,n);case"angleAxis":return pT(t,n);case"radiusAxis":return gT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},FB=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function xT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var G0=t=>t.graphicalItems.cartesianItems,foe=X([Ut,Dm],xT),_T=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),km=X([G0,Wt,foe],_T,{memoizeOptions:{resultEqualityCheck:K0}}),$B=X([km],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter($0)),HB=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),hoe=X([km],HB),wT=t=>t.map(e=>e.data).filter(Boolean).flat(1),moe=X([km],wT,{memoizeOptions:{resultEqualityCheck:K0}}),ET=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},ST=X([moe,uT],ET),AT=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:wt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:wt(i,r)}))):t.map(r=>({value:r})),W0=X([ST,Wt,km],AT);function KB(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function hy(t){if(Aa(t)||t instanceof Date){var e=Number(t);if(et(e))return e}}function Ck(t){if(Array.isArray(t)){var e=[hy(t[0]),hy(t[1])];return vs(e)?e:void 0}var n=hy(t);if(n!=null)return[n,n]}function bs(t){return t.map(hy).filter(Er)}function poe(t,e,n){return!n||typeof e!="number"||Sa(e)?[]:n.length?bs(n.flatMap(r=>{var i=wt(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!et(a)||!et(l)))return[e-a,e+l]})):[]}var Cn=t=>{var e=Bn(t),n=Td(t);return Cd(t,e,n)},Mm=X([Cn],t=>t?.dataKey),goe=X([$B,uT,Cn],BB),GB=(t,e,n,r)=>{var i={},a=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,m=f.map(vT);return[u,{stackedData:Mte(t,m,n),graphicalItems:f}]}))},RE=X([goe,$B,Rm,jB],GB),WB=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=Ute(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},yoe=X([Wt],t=>t.allowDataOverflow),TT=t=>{var e;if(t==null||!("domain"in t))return jE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:jE},CT=X([Wt],TT),IT=X([CT,yoe],bB),voe=X([RE,Os,Ut,IT],WB,{memoizeOptions:{resultEqualityCheck:H0}}),Y0=t=>t.errorBars,boe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>KB(n,r)),Cv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},OT=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(C=>KB(i,C)),v=wt(u,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),_=poe(u,v,p);if(_.length>=2){var E=Math.min(..._),S=Math.max(..._);(a==null||E<a)&&(a=E),(l==null||S>l)&&(l=S)}var A=Ck(v);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=Ck(wt(u,e.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),et(a)&&et(l))return[a,l]},xoe=X([ST,Wt,hoe,Y0,Ut],OT,{memoizeOptions:{resultEqualityCheck:H0}});function _oe(t){var{value:e}=t;if(Aa(e)||e instanceof Date)return e}var woe=(t,e,n)=>{var r=t.map(_oe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&p6(r))?BV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},YB=t=>t.referenceElements.dots,Id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Eoe=X([YB,Ut,Dm],Id),QB=t=>t.referenceElements.areas,Soe=X([QB,Ut,Dm],Id),XB=t=>t.referenceElements.lines,Aoe=X([XB,Ut,Dm],Id),ZB=(t,e)=>{if(t!=null){var n=bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Toe=X(Eoe,Ut,ZB),JB=(t,e)=>{if(t!=null){var n=bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Coe=X([Soe,Ut],JB);function Ioe(t){var e;if(t.x!=null)return bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function Ooe(t){var e;if(t.y!=null)return bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var ez=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Ioe(r):Ooe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Noe=X([Aoe,Ut],ez),Poe=X(Toe,Noe,Coe,(t,e,n)=>Cv(t,n,e)),NT=(t,e,n,r,i,a,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Cv(r,a,i):Cv(a,i);return $se(e,f,t.allowDataOverflow)},joe=X([Wt,CT,IT,voe,xoe,Poe,st,Ut],NT,{memoizeOptions:{resultEqualityCheck:H0}}),Roe=[0,1],PT=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,f=As(e,a);if(f&&u==null){var m;return BV(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?woe(r,t,f):i==="expand"?Roe:l}},jT=X([Wt,st,ST,W0,Rm,Ut,joe],PT);function Doe(t){return t in sh}var tz=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(xm(r));return Doe(a)?a:"point"}}},Xo=X([Wt,FB,fT],tz);function RT(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?Ak(t.scale,n,r):Ak(e,n,r)}var DT=(t,e,n)=>{var r=TT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&vs(t))return Yse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&vs(t))return Qse(t,e.tickCount,e.allowDecimals)}},kT=X([jT,Cd,Xo],DT),MT=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&vs(e)&&Array.isArray(n)&&n.length>0){var i,a,l=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,d=e[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,u),Math.max(d,f)]}return e},koe=X([Wt,jT,kT,Ut],MT),Moe=X(W0,Wt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(bs(t.map(p=>p.value))).sort((p,v)=>p-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var m=f-d;n=Math.min(n,m)}}return n/l}}),nz=X(Moe,st,PB,An,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!et(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=rr(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),Loe=(t,e,n)=>{var r=Ns(t,e);return r==null||typeof r.padding!="string"?0:nz(t,"xAxis",e,n,r.padding)},Voe=(t,e,n)=>{var r=Ps(t,e);return r==null||typeof r.padding!="string"?0:nz(t,"yAxis",e,n,r.padding)},Boe=X(Ns,Loe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),zoe=X(Ps,Voe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Uoe=X([An,Boe,I0,C0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),qoe=X([An,st,zoe,I0,C0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Lm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Uoe(t,n,r);case"yAxis":return qoe(t,n,r);case"zAxis":return(i=bT(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return MB(t);case"radiusAxis":return LB(t,n);default:return}},rz=X([Wt,Lm],U0),Foe=X([Xo,koe],zB),Q0=X([Wt,Xo,Foe,rz],RT);X([km,Y0,Ut],boe);function iz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var X0=(t,e)=>e,Z0=(t,e,n)=>n,$oe=X(A0,X0,Z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iz)),Hoe=X(T0,X0,Z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iz)),az=(t,e)=>({width:t.width,height:e.height}),Koe=(t,e)=>{var n=typeof e.width=="number"?e.width:Sm;return{width:n,height:t.height}},sz=X(An,Ns,az),Goe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Woe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Yoe=X(Cs,An,$oe,X0,Z0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=az(e,u);l==null&&(l=Goe(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),Qoe=X(Ts,An,Hoe,X0,Z0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=Koe(e,u);l==null&&(l=Woe(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),Xoe=(t,e)=>{var n=Ns(t,e);if(n!=null)return Yoe(t,n.orientation,n.mirror)},Zoe=X([An,Ns,Xoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Joe=(t,e)=>{var n=Ps(t,e);if(n!=null)return Qoe(t,n.orientation,n.mirror)},ele=X([An,Ps,Joe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),oz=X(An,Ps,(t,e)=>{var n=typeof e.width=="number"?e.width:Sm;return{width:n,height:t.height}}),Ik=(t,e,n)=>{switch(e){case"xAxis":return sz(t,n).width;case"yAxis":return oz(t,n).height;default:return}},lz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=As(t,r),d=e.map(f=>f.value);if(l&&u&&a==="category"&&i&&p6(d))return d}},LT=X([st,W0,Wt,Ut],lz),uz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=As(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},VT=X([st,W0,Cd,Ut],uz),Ok=X([st,doe,Xo,Q0,LT,VT,Lm,kT,Ut],(t,e,n,r,i,a,l,u,d)=>{if(e!=null){var f=As(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),tle=(t,e,n,r,i,a,l,u,d)=>{if(!(e==null||r==null)){var f=As(t,d),{type:m,ticks:p,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=d==="angleAxis"&&a!=null&&a.length>=2?kn(a[0]-a[1])*2*E:E;var S=p||i;return S?S.map((A,C)=>{var N=l?l.indexOf(A):A,j=r.map(N);return et(j)?{index:C,coordinate:j+E,value:A,offset:E}:null}).filter(Er):f&&u?u.map((A,C)=>{var N=r.map(A);return et(N)?{coordinate:N+E,value:A,index:C,offset:E}:null}).filter(Er):r.ticks?r.ticks(v).map((A,C)=>{var N=r.map(A);return et(N)?{coordinate:N+E,value:A,index:C,offset:E}:null}).filter(Er):r.domain().map((A,C)=>{var N=r.map(A);return et(N)?{coordinate:N+E,value:l?l[A]:A,index:C,offset:E}:null}).filter(Er)}},cz=X([st,Cd,Xo,Q0,kT,Lm,LT,VT,Ut],tle),nle=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=As(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?kn(r[0]-r[1])*2*f:f,u&&a?a.map((m,p)=>{var v=n.map(m);return et(v)?{coordinate:v+f,value:m,index:p,offset:f}:null}).filter(Er):n.ticks?n.ticks(d).map((m,p)=>{var v=n.map(m);return et(v)?{coordinate:v+f,value:m,index:p,offset:f}:null}).filter(Er):n.domain().map((m,p)=>{var v=n.map(m);return et(v)?{coordinate:v+f,value:i?i[m]:m,index:p,offset:f}:null}).filter(Er)}},Fo=X([st,Cd,Q0,Lm,LT,VT,Ut],nle),$o=X(Wt,Q0,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})}),rle=X([Wt,Xo,jT,rz],RT);X((t,e,n)=>bT(t,n),rle,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})});var ile=X([st,A0,T0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dz=t=>t.options.defaultTooltipEventType,fz=t=>t.options.validateTooltipEventTypes;function hz(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function BT(t,e){var n=dz(t),r=fz(t);return hz(e,n,r)}function ale(t){return Ce(e=>BT(e,t))}var mz=(t,e)=>{var n,r=Number(e);if(!(Sa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},sle=t=>t.tooltip.settings,To={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ole={itemInteraction:{click:To,hover:To},axisInteraction:{click:To,hover:To},keyboardInteraction:To,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pz=Ar({name:"tooltip",initialState:ole,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:jt()},removeTooltipEntrySettings:{reducer(t,e){var n=Vi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:lle,replaceTooltipEntrySettings:ule,removeTooltipEntrySettings:cle,setTooltipSettingsState:dle,setActiveMouseOverItemIndex:gz,mouseLeaveItem:fle,mouseLeaveChart:yz,setActiveClickItemIndex:hle,setMouseOverAxisIndex:vz,setMouseClickAxisIndex:mle,setSyncInteraction:DE,setKeyboardInteraction:kE}=pz.actions,ple=pz.reducer;function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=vle(t,"string");return typeof e=="symbol"?e:e+""}function vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ble(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function xle(t){return t.index!=null}var bz=(t,e,n,r)=>{if(e==null)return To;var i=ble(t,e,n);if(i==null)return To;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(xle(i)){if(a)return Ug(Ug({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ug(Ug({},To),{},{coordinate:i.coordinate})};function _le(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function wle(t,e){var n=_le(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Ele(t,e,n){if(n==null||e==null)return!0;var r=wt(t,e);return r==null||!vs(n)?!0:wle(r,n)}var zT=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!et(a))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(a,u)),f=e[d];return f==null||Ele(f,n,r)?String(d):null},xz=(t,e,n,r,i,a,l)=>{if(a!=null){var u=l[0],d=u?.getPosition(a);if(d!=null)return d;var f=i?.[Number(a)];if(f)return n==="horizontal"?{x:f.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:f.coordinate}}},_z=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},wz=t=>t.options.tooltipPayloadSearcher,Od=t=>t.tooltip;function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cle(t,e){return t??e}var Ez=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((v,_)=>{var E,{dataDefinedOnItem:S,settings:A}=_,C=Cle(S,u),N=Array.isArray(C)?lV(C,f,m):C,j=(E=A?.dataKey)!==null&&E!==void 0?E:r,D=A?.nameKey,V;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?V=g6(N,r,i):V=a(N,e,d,D),Array.isArray(V))V.forEach(P=>{var R=jk(jk({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(NR({tooltipEntrySettings:R,dataKey:P.dataKey,payload:P.payload,value:wt(P.payload,P.dataKey),name:P.name}))});else{var M;v.push(NR({tooltipEntrySettings:A,dataKey:j,payload:V,value:wt(V,j),name:(M=wt(V,D))!==null&&M!==void 0?M:A?.name}))}return v},p)}},UT=X([Cn,FB,fT],tz),Ile=X([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ole=X([Bn,Td],xT),Nd=X([Ile,Cn,Ole],_T,{memoizeOptions:{resultEqualityCheck:K0}}),Nle=X([Nd],t=>t.filter($0)),Ple=X([Nd],wT,{memoizeOptions:{resultEqualityCheck:K0}}),Pd=X([Ple,Os],ET),jle=X([Nle,Os,Cn],BB),qT=X([Pd,Cn,Nd],AT),Sz=X([Cn],TT),Rle=X([Cn],t=>t.allowDataOverflow),Az=X([Sz,Rle],bB),Dle=X([Nd],t=>t.filter($0)),kle=X([jle,Dle,Rm,jB],GB),Mle=X([kle,Os,Bn,Az],WB),Lle=X([Nd],HB),Vle=X([Pd,Cn,Lle,Y0,Bn],OT,{memoizeOptions:{resultEqualityCheck:H0}}),Ble=X([YB,Bn,Td],Id),zle=X([Ble,Bn],ZB),Ule=X([QB,Bn,Td],Id),qle=X([Ule,Bn],JB),Fle=X([XB,Bn,Td],Id),$le=X([Fle,Bn],ez),Hle=X([zle,$le,qle],Cv),Kle=X([Cn,Sz,Az,Mle,Vle,Hle,st,Bn],NT),Vm=X([Cn,st,Pd,qT,Rm,Bn,Kle],PT),Gle=X([Vm,Cn,UT],DT),Wle=X([Cn,Vm,Gle,Bn],MT),Tz=t=>{var e=Bn(t),n=Td(t),r=!1;return Lm(t,e,n,r)},Cz=X([Cn,Tz],U0),Iz=X([Cn,UT,Wle,Cz],RT),Yle=X([st,qT,Cn,Bn],lz),Qle=X([st,qT,Cn,Bn],uz),Xle=(t,e,n,r,i,a,l,u)=>{if(e){var{type:d}=e,f=As(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?kn(i[0]-i[1])*2*p:p,f&&l?l.map((v,_)=>{var E=r.map(v);return et(E)?{coordinate:E+p,value:v,index:_,offset:p}:null}).filter(Er):r.domain().map((v,_)=>{var E=r.map(v);return et(E)?{coordinate:E+p,value:a?a[v]:v,index:_,offset:p}:null}).filter(Er)}}},js=X([st,Cn,UT,Iz,Tz,Yle,Qle,Bn],Xle),FT=X([dz,fz,sle],(t,e,n)=>hz(n.shared,t,e)),Oz=t=>t.tooltip.settings.trigger,$T=t=>t.tooltip.settings.defaultIndex,Bm=X([Od,FT,Oz,$T],bz),Ho=X([Bm,Pd,Mm,Vm],zT),Nz=X([js,Ho],mz),HT=X([Bm],t=>{if(t)return t.dataKey}),Zle=X([Bm],t=>{if(t)return t.graphicalItemId}),Pz=X([Od,FT,Oz,$T],_z),Jle=X([Ts,Cs,st,An,js,$T,Pz],xz),eue=X([Bm,Jle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),tue=X([Bm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),nue=X([Pz,Ho,Os,Mm,Nz,wz,FT],Ez),rue=X([nue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oue=()=>Ce(Cn),lue=()=>{var t=oue(),e=Ce(js),n=Ce(Iz);return ad(!t||!n?void 0:Dk(Dk({},t),{},{scale:n}),e)};function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return(e=cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fue=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},hue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Ec(Ec(Ec({},r),mn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return Ec(Ec(Ec({},r),mn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var jz=(t,e,n,r,i)=>{var a,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,m,p,v,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,E=(m=n[u])===null||m===void 0?void 0:m.coordinate,S=u>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,A=void 0;if(!(_==null||E==null||S==null))if(kn(E-_)!==kn(S-E)){var C=[];if(kn(S-E)===kn(i[1]-i[0])){A=S;var N=E+i[1]-i[0];C[0]=Math.min(N,(N+_)/2),C[1]=Math.max(N,(N+_)/2)}else{A=_;var j=S+i[1]-i[0];C[0]=Math.min(E,(j+E)/2),C[1]=Math.max(E,(j+E)/2)}var D=[Math.min(E,(A+E)/2),Math.max(E,(A+E)/2)];if(t>D[0]&&t<=D[1]||t>=C[0]&&t<=C[1]){var V;return(V=n[u])===null||V===void 0?void 0:V.index}}else{var M=Math.min(_,S),P=Math.max(_,S);if(t>(M+E)/2&&t<=(P+E)/2){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}}else if(e)for(var L=0;L<l;L++){var F=e[L];if(F!=null){var B=e[L+1],U=e[L-1];if(L===0&&B!=null&&t<=(F.coordinate+B.coordinate)/2||L===l-1&&U!=null&&t>(F.coordinate+U.coordinate)/2||L>0&&L<l-1&&U!=null&&B!=null&&t>(F.coordinate+U.coordinate)/2&&t<=(F.coordinate+B.coordinate)/2)return F.index}}return-1},pue=()=>Ce(fT),KT=(t,e)=>e,Rz=(t,e,n)=>n,GT=(t,e,n,r)=>r,gue=X(js,t=>p0(t,e=>e.coordinate)),WT=X([Od,KT,Rz,GT],bz),YT=X([WT,Pd,Mm,Vm],zT),yue=(t,e,n)=>{if(e!=null){var r=Od(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Dz=X([Od,KT,Rz,GT],_z),Iv=X([Ts,Cs,st,An,js,GT,Dz],xz),vue=X([WT,Iv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),kz=X([js,YT],mz),bue=X([Dz,YT,Os,Mm,kz,wz,KT],Ez),xue=X([WT,YT],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),_ue=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&mue(t,l)){var u=qte(t,e),d=jz(u,a,i,n,r),f=fue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},wue=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var u=aie(t,n);if(u){var d=Fte(u,e),f=jz(d,l,a,r,i),m=hue(e,a,f,u);return{activeIndex:String(f),activeCoordinate:m}}}},Eue=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?_ue(t,e,r,i,a,l,u):wue(t,e,n,r,i,a,l)},Sue=X(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Aue=X(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(pn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:aoe}});function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oue={},Nue={zIndexMap:Object.values(pn).reduce((t,e)=>Lk(Lk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Oue)},Pue=new Set(Object.values(pn));function jue(t){return Pue.has(t)}var Mz=Ar({name:"zIndex",initialState:Nue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!jue(n)&&delete t.zIndexMap[n])},prepare:jt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:jt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:jt()}}}),{registerZIndexPortal:Rue,unregisterZIndexPortal:Due,registerZIndexPortalElement:kue,unregisterZIndexPortalElement:Mue}=Mz.actions,Lue=Mz.reducer;function Tr(t){var{zIndex:e,children:n}=t,r=xne(),i=r&&e!==void 0&&e!==0,a=ir(),l=Tt();w.useLayoutEffect(()=>i?(l(Rue({zIndex:e})),()=>{l(Due({zIndex:e}))}):wu,[l,e,i]);var u=Ce(d=>Sue(d,e,a));return i?u?rS.createPortal(n,u):null:n}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function que(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,v=r,_=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var E,S,A;if(m==="ScatterChart")E=p,S=bre,A=pn.cursorLine;else if(m==="BarChart")E=xre(u,p,a,l),S=BA,A=pn.cursorRectangle;else if(u==="radial"&&v6(p)){var{cx:C,cy:N,radius:j,startAngle:D,endAngle:V}=MV(p);E={cx:C,cy:N,startAngle:D,endAngle:V,innerRadius:j,outerRadius:j},S=VV,A=pn.cursorLine}else E={points:uie(u,p,a)},S=VA,A=pn.cursorLine;var M=typeof d=="object"&&"className"in d?d.className:void 0,P=qg(qg(qg(qg({stroke:"#ccc",pointerEvents:"none"},a),E),cu(d)),{},{payload:v,payloadIndex:_,className:it("recharts-tooltip-cursor",M)});return w.createElement(Tr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},w.createElement(Uue,{cursor:d,cursorComp:S,cursorProps:P}))}function Fue(t){var e=lue(),n=yV(),r=Eu(),i=pue();return e==null||n==null||r==null||i==null?null:w.createElement(que,ME({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Lz=w.createContext(null),$ue=()=>w.useContext(Lz),Ww={exports:{}},Bk;function Hue(){return Bk||(Bk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||d,v),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],_]:d._events[E].push(_):(d._events[E]=_,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,E=new Array(_);v<_;v++)E[v]=p[v].fn;return E},u.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,m,p,v,_,E){var S=n?n+f:f;if(!this._events[S])return!1;var A=this._events[S],C=arguments.length,N,j;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,p),!0;case 4:return A.fn.call(A.context,m,p,v),!0;case 5:return A.fn.call(A.context,m,p,v,_),!0;case 6:return A.fn.call(A.context,m,p,v,_,E),!0}for(j=1,N=new Array(C-1);j<C;j++)N[j-1]=arguments[j];A.fn.apply(A.context,N)}else{var D=A.length,V;for(j=0;j<D;j++)switch(A[j].once&&this.removeListener(f,A[j].fn,void 0,!0),C){case 1:A[j].fn.call(A[j].context);break;case 2:A[j].fn.call(A[j].context,m);break;case 3:A[j].fn.call(A[j].context,m,p);break;case 4:A[j].fn.call(A[j].context,m,p,v);break;default:if(!N)for(V=1,N=new Array(C-1);V<C;V++)N[V-1]=arguments[V];A[j].fn.apply(A[j].context,N)}}return!0},u.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},u.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},u.prototype.removeListener=function(f,m,p,v){var _=n?n+f:f;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!v||E.once)&&(!p||E.context===p)&&l(this,_);else{for(var S=0,A=[],C=E.length;S<C;S++)(E[S].fn!==m||v&&!E[S].once||p&&E[S].context!==p)&&A.push(E[S]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Ww)),Ww.exports}var Kue=Hue();const Gue=_s(Kue);var Qh=new Gue,LE="recharts.syncEvent.tooltip",zk="recharts.syncEvent.brush",QT=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Sa(n))return t[n]}},Wue={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Vz=Ar({name:"options",initialState:Wue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yue=Vz.reducer,{createEventEmitter:Que}=Vz.actions;function Xue(t){return t.tooltip.syncInteraction}var Zue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Bz=Ar({name:"chartData",initialState:Zue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Uk,setDataStartEndIndexes:Jue,setComputedData:ave}=Bz.actions,ece=Bz.reducer,tce=["x","y"];function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ace(t,e){if(t==null)return{};var n,r,i=sce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oce(){var t=Ce(hT),e=Ce(mT),n=Tt(),r=Ce(RB),i=Ce(js),a=Eu(),l=O0(),u=Ce(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return wu;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:E,y:S}=_,A=ace(_,tce),{x:C,y:N,width:j,height:D}=m.payload.sourceViewBox,V=Sc(Sc({},A),{},{x:l.x+(j?(E-C)/j:0)*l.width,y:l.y+(D?(S-N)/D:0)*l.height});n(Sc(Sc({},m),{},{payload:Sc(Sc({},m.payload),{},{coordinate:V})}))}else n(m);return}if(i!=null){var M;if(typeof r=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},R=r(i,P);M=i[R]}else r==="value"&&(M=i.find(W=>String(W.value)===m.payload.label));var{coordinate:L}=m.payload;if(M==null||m.payload.active===!1||L==null||l==null){n(DE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:B}=L,U=Math.min(F,l.x+l.width),q=Math.min(B,l.y+l.height),ge={x:a==="horizontal"?M.coordinate:U,y:a==="horizontal"?q:M.coordinate},fe=DE({active:m.payload.active,coordinate:ge,dataKey:m.payload.dataKey,index:String(M.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(fe)}}};return Qh.on(LE,d),()=>{Qh.off(LE,d)}},[u,n,e,t,r,i,a,l])}function lce(){var t=Ce(hT),e=Ce(mT),n=Tt();w.useEffect(()=>{if(t==null)return wu;var r=(i,a,l)=>{e!==l&&t===i&&n(Jue(a))};return Qh.on(zk,r),()=>{Qh.off(zk,r)}},[n,e,t])}function uce(){var t=Tt();w.useEffect(()=>{t(Que())},[t]),oce(),lce()}function cce(t,e,n,r,i,a){var l=Ce(_=>yue(_,t,e)),u=Ce(mT),d=Ce(hT),f=Ce(RB),m=Ce(Xue),p=m?.active,v=O0();w.useEffect(()=>{if(!p&&d!=null&&u!=null){var _=DE({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Qh.emit(LE,d,_,u)}},[p,n,l,i,r,u,d,f,a,v])}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return typeof e=="symbol"?e:e+""}function hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mce(t){return t.dataKey}function pce(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(Zne,e)}var Hk=[],gce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function XT(t){var e,n,r=vn(t,gce),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:v,position:_,reverseDirection:E,useTranslate3d:S,wrapperStyle:A,cursor:C,shared:N,trigger:j,defaultIndex:D,portal:V,axisId:M}=r,P=Tt(),R=typeof D=="number"?String(D):D;w.useEffect(()=>{P(dle({shared:N,trigger:j,axisId:M,active:i,defaultIndex:R}))},[P,N,j,M,i,R]);var L=O0(),F=NV(),B=ale(N),{activeIndex:U,isActive:q}=(e=Ce(De=>xue(De,B,j,R)))!==null&&e!==void 0?e:{},ge=Ce(De=>bue(De,B,j,R)),fe=Ce(De=>kz(De,B,j,R)),W=Ce(De=>vue(De,B,j,R)),ae=ge,re=$ue(),ue=(n=i??q)!==null&&n!==void 0?n:!1,[ye,$]=j6([ae,ue]),te=B==="axis"?fe:void 0;cce(B,j,W,te,U,ue);var pe=V??re;if(pe==null||L==null||B==null)return null;var be=ae??Hk;ue||(be=Hk),f&&be.length&&(be=C6(be.filter(De=>De.value!=null&&(De.hide!==!0||r.includeHidden)),v,mce));var Pe=be.length>0,ke=w.createElement(are,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:m,active:ue,coordinate:W,hasPayload:Pe,offset:p,position:_,reverseDirection:E,useTranslate3d:S,viewBox:L,wrapperStyle:A,lastBoundingBox:ye,innerRef:$,hasPortalFromProps:!!V},pce(d,$k($k({},r),{},{payload:be,label:te,active:ue,activeIndex:U,coordinate:W,accessibilityLayer:F})));return w.createElement(w.Fragment,null,rS.createPortal(ke,pe),ue&&w.createElement(Fue,{cursor:C,tooltipEventType:B,coordinate:W,payload:be,index:U}))}var zm=t=>null;zm.displayName="Cell";function yce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xce{constructor(e){yce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ace={cacheSize:2e3,enableCache:!0},zz=_ce({},Ace),Gk=new xce(zz.cacheSize),Tce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wk="recharts_measurement_span";function Cce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var Yk=(t,e)=>{try{var n=document.getElementById(Wk);n||(n=document.createElement("span"),n.setAttribute("id",Wk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Tce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||R0.isSsr)return{width:0,height:0};if(!zz.enableCache)return Yk(e,n);var r=Cce(e,n),i=Gk.get(r);if(i)return i;var a=Yk(e,n);return Gk.set(r,a),a},Uz;function Ice(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Rce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dce=["cm","mm","pt","pc","in","Q","px"];function kce(t){return Dce.includes(t)}var jc="NaN";function Mce(t,e){return t*Rce[e]}class Gn{static parse(e){var n,[,r,i]=(n=jce.exec(e))!==null&&n!==void 0?n:[];return r==null?Gn.NaN:new Gn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Sa(e)&&(this.unit=""),n!==""&&!Pce.test(n)&&(this.num=NaN,this.unit=""),kce(n)&&(this.num=Mce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Gn(NaN,""):new Gn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Gn(NaN,""):new Gn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gn(NaN,""):new Gn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gn(NaN,""):new Gn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sa(this.num)}}Uz=Gn;Ice(Gn,"NaN",new Uz(NaN,""));function qz(t){if(t==null||t.includes(jc))return jc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=Qk.exec(e))!==null&&n!==void 0?n:[],l=Gn.parse(r??""),u=Gn.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return jc;e=e.replace(Qk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,v]=(f=Xk.exec(e))!==null&&f!==void 0?f:[],_=Gn.parse(m??""),E=Gn.parse(v??""),S=p==="+"?_.add(E):_.subtract(E);if(S.isNaN())return jc;e=e.replace(Xk,S.toString())}return e}var Zk=/\(([^()]*)\)/;function Lce(t){for(var e=t,n;(n=Zk.exec(e))!=null;){var[,r]=n;e=e.replace(Zk,qz(r))}return e}function Vce(t){var e=t.replace(/\s+/g,"");return e=Lce(e),e=qz(e),e}function Bce(t){try{return Vce(t)}catch{return jc}}function Yw(t){var e=Bce(t.slice(5,-1));return e===jc?"":e}var zce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Uce=["dx","dy","angle","className","breakAll"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function Jk(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fz=/[ \f\n\r\t\v\u2028\u2029]+/,$z=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zt(e)||(n?i=e.toString().split(""):i=e.toString().split(Fz));var a=i.map(u=>({word:u,width:vh(u,r).width})),l=n?0:vh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Fce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Hz=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),Kz=t=>t.reduce((e,n)=>e.width>n.width?e:n),$ce="",eM=(t,e,n,r,i,a,l,u)=>{var d=t.slice(0,e),f=$z({breakAll:n,style:r,children:d+$ce});if(!f)return[!1,[]];var m=Hz(f.wordsWithComputedWidth,a,l,u),p=m.length>i||Kz(m).width>Number(a);return[p,m]},Hce=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=t,f=Ee(a),m=String(l),p=Hz(e,r,n,i);if(!f||i)return p;var v=p.length>a||Kz(p).width>Number(r);if(!v)return p;for(var _=0,E=m.length-1,S=0,A;_<=E&&S<=m.length-1;){var C=Math.floor((_+E)/2),N=C-1,[j,D]=eM(m,N,d,u,a,r,n,i),[V]=eM(m,C,d,u,a,r,n,i);if(!j&&!V&&(_=C+1),j&&V&&(E=C-1),!j&&V){A=D;break}S++}return A||p},tM=t=>{var e=zt(t)?[]:t.toString().split(Fz);return[{words:e,width:void 0}]},Kce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!R0.isSsr){var u,d,f=$z({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;u=m,d=p}else return tM(r);return Hce({breakAll:a,children:r,maxLines:l,style:i},u,d,e,!!n)}return tM(r)},Gz="#808080",Gce={angle:0,breakAll:!1,capHeight:"0.71em",fill:Gz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},J0=w.forwardRef((t,e)=>{var n=vn(t,Gce),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=Jk(n,zce),v=w.useMemo(()=>Kce({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:_,dy:E,angle:S,className:A,breakAll:C}=p,N=Jk(p,Uce);if(!Aa(r)||!Aa(i)||v.length===0)return null;var j=Number(r)+(Ee(_)?_:0),D=Number(i)+(Ee(E)?E:0);if(!et(j)||!et(D))return null;var V;switch(m){case"start":V=Yw("calc(".concat(l,")"));break;case"middle":V=Yw("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:V=Yw("calc(".concat(v.length-1," * -").concat(a,")"));break}var M=[],P=v[0];if(d&&P!=null){var R=P.width,{width:L}=p;M.push("scale(".concat(Ee(L)&&Ee(R)?L/R:1,")"))}return S&&M.push("rotate(".concat(S,", ").concat(j,", ").concat(D,")")),M.length&&(N.transform=M.join(" ")),w.createElement("text",VE({},hr(N),{ref:e,x:j,y:D,className:it("recharts-text",A),textAnchor:f,fill:u.includes("url")?Gz:u}),v.map((F,B)=>{var U=F.words.join(C?"":" ");return w.createElement("tspan",{x:j,dy:B===0?V:a,key:"".concat(U,"-").concat(B)},U)}))});J0.displayName="Text";function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return(e=Yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=Qce(t,"string");return typeof e=="symbol"?e:e+""}function Qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xce=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:l,height:u,upperWidth:d,lowerWidth:f}=jA(e),m=a,p=a+(d-f)/2,v=(m+p)/2,_=(d+f)/2,E=m+d/2,S=u>=0?1:-1,A=S*r,C=S>0?"end":"start",N=S>0?"start":"end",j=d>=0?1:-1,D=j*r,V=j>0?"end":"start",M=j>0?"start":"end",P=i;if(n==="top"){var R={x:m+d/2,y:l-A,horizontalAnchor:"middle",verticalAnchor:C};return P&&(R.height=Math.max(l-P.y,0),R.width=d),R}if(n==="bottom"){var L={x:p+f/2,y:l+u+A,horizontalAnchor:"middle",verticalAnchor:N};return P&&(L.height=Math.max(P.y+P.height-(l+u),0),L.width=f),L}if(n==="left"){var F={x:v-D,y:l+u/2,horizontalAnchor:V,verticalAnchor:"middle"};return P&&(F.width=Math.max(F.x-P.x,0),F.height=u),F}if(n==="right"){var B={x:v+_+D,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return P&&(B.width=Math.max(P.x+P.width-B.x,0),B.height=u),B}var U=P?{width:_,height:u}:{};return n==="insideLeft"?fa({x:v+D,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"},U):n==="insideRight"?fa({x:v+_-D,y:l+u/2,horizontalAnchor:V,verticalAnchor:"middle"},U):n==="insideTop"?fa({x:m+d/2,y:l+A,horizontalAnchor:"middle",verticalAnchor:N},U):n==="insideBottom"?fa({x:p+f/2,y:l+u-A,horizontalAnchor:"middle",verticalAnchor:C},U):n==="insideTopLeft"?fa({x:m+D,y:l+A,horizontalAnchor:M,verticalAnchor:N},U):n==="insideTopRight"?fa({x:m+d-D,y:l+A,horizontalAnchor:V,verticalAnchor:N},U):n==="insideBottomLeft"?fa({x:p+D,y:l+u-A,horizontalAnchor:M,verticalAnchor:C},U):n==="insideBottomRight"?fa({x:p+f-D,y:l+u-A,horizontalAnchor:V,verticalAnchor:C},U):n&&typeof n=="object"&&(Ee(n.x)||hu(n.x))&&(Ee(n.y)||hu(n.y))?fa({x:a+rr(n.x,_),y:l+rr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},U):fa({x:E,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},Zce=["labelRef"],Jce=["content"];function rM(t,e){if(t==null)return{};var n,r,i=ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return(e=nde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(null,arguments)}var Wz=w.createContext(null),ide=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return w.createElement(Wz.Provider,{value:d},u)},Yz=()=>{var t=w.useContext(Wz),e=O0();return t||(e?jA(e):void 0)},ade=w.createContext(null),sde=()=>{var t=w.useContext(ade),e=Ce(VB);return t||e},ode=t=>{var{value:e,formatter:n}=t,r=zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},ZT=t=>t!=null&&typeof t=="function",lde=(t,e)=>{var n=kn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ude=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:v,clockWise:_}=i,E=(f+m)/2,S=lde(p,v),A=S>=0?1:-1,C,N;switch(e){case"insideStart":C=p+A*a,N=_;break;case"insideEnd":C=v-A*a,N=!_;break;case"end":C=v+A*a,N=_;break;default:throw new Error("Unsupported position ".concat(e))}N=S<=0?N:!N;var j=mn(u,d,E,C),D=mn(u,d,E,C+(N?1:-1)*359),V="M".concat(j.x,",").concat(j.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),M=zt(t.id)?Lh("recharts-radial-line-"):t.id;return w.createElement("text",Ja({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:M,d:V})),w.createElement("textPath",{xlinkHref:"#".concat(M)},n))},cde=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=t,f=(u+d)/2;if(n==="outside"){var{x:m,y:p}=mn(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:_,y:E}=mn(r,i,v,f);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},my=t=>t!=null&&"cx"in t&&Ee(t.cx),dde={angle:0,offset:5,zIndex:pn.label,position:"middle",textBreakAll:!1};function fde(t){if(!my(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function _o(t){var e=vn(t,dde),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:u,className:d="",textBreakAll:f,labelRef:m}=e,p=sde(),v=Yz(),_=i==="center"?v:p??v,E,S,A;n==null?E=_:my(n)?E=n:E=jA(n);var C=fde(E);if(!E||zt(a)&&zt(l)&&!w.isValidElement(u)&&typeof u!="function")return null;var N=oh(oh({},e),{},{viewBox:E});if(w.isValidElement(u)){var{labelRef:j}=N,D=rM(N,Zce);return w.cloneElement(u,D)}if(typeof u=="function"){var{content:V}=N,M=rM(N,Jce);if(S=w.createElement(u,M),w.isValidElement(S))return S}else S=ode(e);var P=hr(e);if(my(E)){if(i==="insideStart"||i==="insideEnd"||i==="end")return ude(e,i,S,P,E);A=cde(E,e.offset,e.position)}else{if(!C)return null;var R=Xce({viewBox:C,position:i,offset:e.offset,parentViewBox:my(r)?void 0:r});A=oh(oh({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return w.createElement(Tr,{zIndex:e.zIndex},w.createElement(J0,Ja({ref:m,className:it("recharts-label",d)},P,A,{textAnchor:Fce(P.textAnchor)?P.textAnchor:A.textAnchor,breakAll:f}),S))}_o.displayName="Label";var hde=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(_o,Ja({key:"label-implicit"},r)):Aa(t)?w.createElement(_o,Ja({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===_o?w.cloneElement(t,oh({key:"label-implicit"},r)):w.createElement(_o,Ja({key:"label-implicit",content:t},r)):ZT(t)?w.createElement(_o,Ja({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(_o,Ja({},t,{key:"label-implicit"},r)):null};function mde(t){var{label:e,labelRef:n}=t,r=Yz();return hde(e,r,n)||null}var Qw={},Xw={},aM;function pde(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Xw)),Xw}var Zw={},sM;function gde(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Zw)),Zw}var oM;function yde(){return oM||(oM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pde(),n=gde(),r=xA();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Qw)),Qw}var Jw,lM;function vde(){return lM||(lM=1,Jw=yde().last),Jw}var bde=vde();const xde=_s(bde);var _de=["valueAccessor"],wde=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(null,arguments)}function uM(t,e){if(t==null)return{};var n,r,i=Ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sde=t=>Array.isArray(t.value)?xde(t.value):t.value,Qz=w.createContext(void 0),Xz=Qz.Provider,Zz=w.createContext(void 0),Ade=Zz.Provider;function Tde(){return w.useContext(Qz)}function Cde(){return w.useContext(Zz)}function py(t){var{valueAccessor:e=Sde}=t,n=uM(t,_de),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,d=uM(n,wde),f=Tde(),m=Cde(),p=f||m;return!p||!p.length?null:w.createElement(Tr,{zIndex:u??pn.label},w.createElement(Ln,{className:"recharts-label-list"},p.map((v,_)=>{var E,S=zt(r)?e(v,_):wt(v.payload,r),A=zt(a)?{}:{id:"".concat(a,"-").concat(_)};return w.createElement(_o,Ov({key:"label-".concat(_)},hr(v),d,A,{fill:(E=n.fill)!==null&&E!==void 0?E:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}py.displayName="LabelList";function JT(t){var{label:e}=t;return e?e===!0?w.createElement(py,{key:"labelList-implicit"}):w.isValidElement(e)||ZT(e)?w.createElement(py,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(py,Ov({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(null,arguments)}var Jz=t=>{var{cx:e,cy:n,r,className:i}=t,a=it("recharts-dot",i);return Ee(e)&&Ee(n)&&Ee(r)?w.createElement("circle",BE({},Fr(t),bA(t),{className:a,cx:e,cy:n,r})):null},e9=t=>t.graphicalItems.polarItems,Ide=X([Ut,Dm],xT),eb=X([e9,Wt,Ide],_T),Ode=X([eb],wT),tb=X([Ode,z0],ET),Nde=X([tb,Wt,eb],AT);X([tb,Wt,eb],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,l=wt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:wt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var cM=()=>{},Pde=X([tb,Wt,eb,Y0,Ut],OT),jde=X([Wt,CT,IT,cM,Pde,cM,st,Ut],NT),t9=X([Wt,st,tb,Nde,Rm,Ut,jde],PT),Rde=X([t9,Cd,Xo],DT),Dde=X([Wt,t9,Rde,Ut],MT);X([Xo,Dde],zB);var kde={radiusAxis:{},angleAxis:{}},n9=Ar({name:"polarAxis",initialState:kde,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:sve,removeRadiusAxis:ove,addAngleAxis:lve,removeAngleAxis:uve}=n9.actions,Mde=n9.reducer;function r9(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lde(t,e,n){return(e=Vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde=(t,e)=>e,eC=X([e9,zde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Ude=[],tC=(t,e,n)=>n?.length===0?Ude:n,i9=X([z0,eC,tC],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>fM(fM({},e.presentationProps),a.props))),i!=null)return i}}),qde=X([i9,eC,tC],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,l=wt(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:wd(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Fde=X([i9,eC,tC,An],(t,e,n,r)=>{if(!(e==null||t==null))return $fe({offset:r,pieSettings:e,displayedData:t,cells:n})}),e1={exports:{}},_t={};var hM;function $de(){if(hM)return _t;hM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case i:case r:case d:case f:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case p:case m:return S;case a:return S;default:return A}}case e:return A}}}return _t.ContextConsumer=a,_t.ContextProvider=l,_t.Element=t,_t.ForwardRef=u,_t.Fragment=n,_t.Lazy=p,_t.Memo=m,_t.Portal=e,_t.Profiler=i,_t.StrictMode=r,_t.Suspense=d,_t.SuspenseList=f,_t.isContextConsumer=function(S){return E(S)===a},_t.isContextProvider=function(S){return E(S)===l},_t.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},_t.isForwardRef=function(S){return E(S)===u},_t.isFragment=function(S){return E(S)===n},_t.isLazy=function(S){return E(S)===p},_t.isMemo=function(S){return E(S)===m},_t.isPortal=function(S){return E(S)===e},_t.isProfiler=function(S){return E(S)===i},_t.isStrictMode=function(S){return E(S)===r},_t.isSuspense=function(S){return E(S)===d},_t.isSuspenseList=function(S){return E(S)===f},_t.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===m||S.$$typeof===l||S.$$typeof===a||S.$$typeof===u||S.$$typeof===_||S.getModuleId!==void 0)},_t.typeOf=E,_t}var mM;function Hde(){return mM||(mM=1,e1.exports=$de()),e1.exports}var Kde=Hde(),pM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",gM=null,t1=null,a9=t=>{if(t===gM&&Array.isArray(t1))return t1;var e=[];return w.Children.forEach(t,n=>{zt(n)||(Kde.isFragment(n)?e=e.concat(a9(n.props.children)):e.push(n))}),t1=e,gM=t,e};function nC(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>pM(i)):r=[pM(e)],a9(t).forEach(i=>{var a=fu(i,"type.displayName")||fu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var s9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,n1={},yM;function Gde(){return yM||(yM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(n1)),n1}var r1,vM;function Wde(){return vM||(vM=1,r1=Gde().isPlainObject),r1}var Yde=Wde();const Qde=_s(Yde);var bM,xM,_M,wM,EM;function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xde(t,e,n){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=Jde(t,"string");return typeof e=="symbol"?e:e+""}function Jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}function Zf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var TM=(t,e,n,r,i)=>{var a=n-r,l;return l=Ht(bM||(bM=Zf(["M ",",",""])),t,e),l+=Ht(xM||(xM=Zf(["L ",",",""])),t+n,e),l+=Ht(_M||(_M=Zf(["L ",",",""])),t+n-a/2,e+i),l+=Ht(wM||(wM=Zf(["L ",",",""])),t+n-a/2-r,e+i),l+=Ht(EM||(EM=Zf(["L ",","," Z"])),t,e),l},efe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tfe=t=>{var e=vn(t,efe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,v=w.useRef(null),[_,E]=w.useState(-1),S=w.useRef(i),A=w.useRef(a),C=w.useRef(l),N=w.useRef(n),j=w.useRef(r),D=Im(t,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ge=v.current.getTotalLength();ge&&E(ge)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var V=it("recharts-trapezoid",u);if(!p)return w.createElement("g",null,w.createElement("path",Nv({},hr(e),{className:V,d:TM(n,r,i,a,l)})));var M=S.current,P=A.current,R=C.current,L=N.current,F=j.current,B="0px ".concat(_===-1?1:_,"px"),U="".concat(_,"px 0px"),q=PV(["strokeDasharray"],f,d);return w.createElement(Cm,{animationId:D,key:D,canBegin:_>0,duration:f,easing:d,isActive:p,begin:m},ge=>{var fe=Dt(M,i,ge),W=Dt(P,a,ge),ae=Dt(R,l,ge),re=Dt(L,n,ge),ue=Dt(F,r,ge);v.current&&(S.current=fe,A.current=W,C.current=ae,N.current=re,j.current=ue);var ye=ge>0?{transition:q,strokeDasharray:U}:{strokeDasharray:B};return w.createElement("path",Nv({},hr(e),{className:V,d:TM(re,ue,fe,W,ae),ref:v,style:AM(AM({},ye),e.style)}))})},nfe=["option","shapeType","activeClassName"];function rfe(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t){var e=ofe(t,"string");return typeof e=="symbol"?e:e+""}function ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lfe(t,e){return Pv(Pv({},e),t)}function ufe(t,e){return t==="symbols"}function IM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(BA,n);case"trapezoid":return w.createElement(tfe,n);case"sector":return w.createElement(VV,n);case"symbols":if(ufe(e))return w.createElement(vA,n);break;case"curve":return w.createElement(VA,n);default:return null}}function cfe(t){return w.isValidElement(t)?t.props:t}function rC(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=rfe(t,nfe),a;if(w.isValidElement(e))a=w.cloneElement(e,Pv(Pv({},i),cfe(e)));else if(typeof e=="function")a=e(i,i.index);else if(Qde(e)&&typeof e!="boolean"){var l=lfe(e,i);a=w.createElement(IM,{shapeType:n,elementProps:l})}else{var u=i;a=w.createElement(IM,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(Ln,{className:r},a):a}var iC=(t,e,n)=>{var r=Tt();return(i,a)=>l=>{t?.(i,a,l),r(gz({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},aC=t=>{var e=Tt();return(n,r)=>i=>{t?.(n,r,i),e(fle())}},sC=(t,e,n)=>{var r=Tt();return(i,a)=>l=>{t?.(i,a,l),r(hle({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function oC(t){var{tooltipEntrySettings:e}=t,n=Tt(),r=ir(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(lle(e)):i.current!==e&&n(ule({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(cle(i.current)),i.current=null)},[n]),null}function o9(t){var{legendPayload:e}=t,n=Tt(),r=ir(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(CV(e)):i.current!==e&&n(IV({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(OV(i.current)),i.current=null)},[n]),null}function dfe(t){var{legendPayload:e}=t,n=Tt(),r=Ce(st),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(CV(e)):i.current!==e&&n(IV({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(OV(i.current)),i.current=null)},[n]),null}var i1,ffe=()=>{var[t]=w.useState(()=>Lh("uid-"));return t},hfe=(i1=Pq.useId)!==null&&i1!==void 0?i1:ffe;function mfe(t,e){var n=hfe();return e||(t?"".concat(t,"-").concat(n):n)}var pfe=w.createContext(void 0),lC=t=>{var{id:e,type:n,children:r}=t,i=mfe("recharts-".concat(n),e);return w.createElement(pfe.Provider,{value:i},r(i))},gfe={cartesianItems:[],polarItems:[]},l9=Ar({name:"graphicalItems",initialState:gfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Vi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Vi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:jt()},removePolarGraphicalItem:{reducer(t,e){var n=Vi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:jt()}}}),{addCartesianGraphicalItem:yfe,replaceCartesianGraphicalItem:vfe,removeCartesianGraphicalItem:bfe,addPolarGraphicalItem:xfe,removePolarGraphicalItem:_fe}=l9.actions,wfe=l9.reducer,Efe=t=>{var e=Tt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(yfe(t)):n.current!==t&&e(vfe({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(bfe(n.current)),n.current=null)},[e]),null},u9=w.memo(Efe);function Sfe(t){var e=Tt();return w.useLayoutEffect(()=>(e(xfe(t)),()=>{e(_fe(t))}),[e,t]),null}var Afe=["key"],Tfe=["onMouseEnter","onClick","onMouseLeave"],Cfe=["id"],Ife=["id"];function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(null,arguments)}function nb(t,e){if(t==null)return{};var n,r,i=jfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rfe(t){var e=w.useMemo(()=>nC(t.children,zm),[t.children]),n=Ce(r=>qde(r,t.id,e));return n==null?null:w.createElement(dfe,{legendPayload:n})}var Dfe=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:d,tooltipType:f,id:m}=t,p={dataDefinedOnItem:r.map(v=>v.tooltipPayload),getPosition:v=>{var _;return(_=r[Number(v)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:n,name:wd(u,e),hide:d,type:f,color:l,unit:"",graphicalItemId:m}};return w.createElement(oC,{tooltipEntrySettings:p})}),kfe=(t,e)=>t>e?"start":t<e?"end":"middle",Mfe=(t,e,n)=>rr(typeof e=="function"?e(t):e,n,n*.8),Lfe=(t,e,n)=>{var{top:r,left:i,width:a,height:l}=e,u=kV(a,l),d=i+rr(t.cx,a,a/2),f=r+rr(t.cy,l,l/2),m=rr(t.innerRadius,u,0),p=Mfe(n,t.outerRadius,u),v=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:p,maxRadius:v}},Vfe=(t,e)=>{var n=kn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Bfe=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=it("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=nb(e,Afe);return w.createElement(VA,Ko({},i,{type:"linear",className:n}))},zfe=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=it("recharts-pie-label-text",r9(t));return w.createElement(J0,Ko({},e,{alignmentBaseline:"middle",className:i}),r)};function Ufe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!e)return null;var u=Fr(n),d=cu(i),f=cu(a),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,_)=>{var E=(v.startAngle+v.endAngle)/2,S=mn(v.cx,v.cy,v.outerRadius+m,E),A=Kt(Kt(Kt(Kt({},u),v),{},{stroke:"none"},d),{},{index:_,textAnchor:kfe(S.x,v.cx)},S),C=Kt(Kt(Kt(Kt({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:_,points:[mn(v.cx,v.cy,v.outerRadius,E),S],key:"line"});return w.createElement(Tr,{zIndex:pn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},w.createElement(Ln,null,a&&Bfe(a,C),zfe(i,A,wt(v,l))))});return w.createElement(Ln,{className:"recharts-pie-labels"},p)}function qfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(JT,{label:i}):w.createElement(Ufe,{sectors:e,props:n,showLabels:r})}function Ffe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=t,u=Ce(Ho),d=Ce(HT),f=Ce(Zle),{onMouseEnter:m,onClick:p,onMouseLeave:v}=i,_=nb(i,Tfe),E=iC(m,i.dataKey,l),S=aC(v),A=sC(p,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((C,N)=>{if(C?.startAngle===0&&C?.endAngle===0&&e.length!==1)return null;var j=f==null||f===l,D=String(N)===u&&(d==null||i.dataKey===d)&&j,V=u?r:null,M=n&&D?n:V,P=Kt(Kt({},C),{},{stroke:C.stroke,tabIndex:-1,[fV]:N,[hV]:l});return w.createElement(Ln,Ko({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},_m(_,C,N),{onMouseEnter:E(C,N),onMouseLeave:S(C,N),onClick:A(C,N)}),w.createElement(rC,Ko({option:a??M,index:N,shapeType:"sector",isActive:D},P)))}))}function $fe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:m,tooltipType:p}=n,v=Math.abs(n.minAngle),_=Vfe(u,d),E=Math.abs(_),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(M=>wt(M,f,0)!==0).length,C=(E>=360?A:A-1)*S,N=E-A*v-C,j=r.reduce((M,P)=>{var R=wt(P,f,0);return M+(Ee(R)?R:0)},0),D;if(j>0){var V;D=r.map((M,P)=>{var R=wt(M,f,0),L=wt(M,m,P),F=Lfe(n,a,M),B=(Ee(R)?R:0)/j,U,q=Kt(Kt({},M),i&&i[P]&&i[P].props);P?U=V.endAngle+kn(_)*S*(R!==0?1:0):U=u;var ge=U+kn(_)*((R!==0?v:0)+B*N),fe=(U+ge)/2,W=(F.innerRadius+F.outerRadius)/2,ae=[{name:L,value:R,payload:q,dataKey:f,type:p,graphicalItemId:n.id}],re=mn(F.cx,F.cy,W,fe);return V=Kt(Kt(Kt(Kt({},n.presentationProps),{},{percent:B,cornerRadius:typeof l=="string"?parseFloat(l):l,name:L,tooltipPayload:ae,midAngle:fe,middleRadius:W,tooltipPosition:re},q),F),{},{value:R,dataKey:f,startAngle:U,endAngle:ge,payload:q,paddingAngle:kn(_)*S}),V})}return D}function Hfe(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return w.createElement(Ade,{value:e?i:void 0},r)}function Kfe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:p,onAnimationEnd:v}=e,_=Im(e,"recharts-pie-"),E=n.current,[S,A]=w.useState(!1),C=w.useCallback(()=>{typeof v=="function"&&v(),A(!1)},[v]),N=w.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return w.createElement(Hfe,{showLabels:!S,sectors:i},w.createElement(Cm,{animationId:_,begin:l,duration:u,isActive:a,easing:d,onAnimationStart:N,onAnimationEnd:C,key:_},j=>{var D,V=[],M=i&&i[0],P=(D=M?.startAngle)!==null&&D!==void 0?D:0;return i?.forEach((R,L)=>{var F=E&&E[L],B=L>0?fu(R,"paddingAngle",0):0;if(F){var U=Dt(F.endAngle-F.startAngle,R.endAngle-R.startAngle,j),q=Kt(Kt({},R),{},{startAngle:P+B,endAngle:P+U+B});V.push(q),P=q.endAngle}else{var{endAngle:ge,startAngle:fe}=R,W=Dt(0,ge-fe,j),ae=Kt(Kt({},R),{},{startAngle:P+B,endAngle:P+W+B});V.push(ae),P=ae.endAngle}}),n.current=V,w.createElement(Ln,null,w.createElement(Ffe,{sectors:V,activeShape:f,inactiveShape:m,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(qfe,{showLabels:!S,sectors:i,props:e}),e.children)}var Gfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pn.area};function Wfe(t){var{id:e}=t,n=nb(t,Cfe),{hide:r,className:i,rootTabIndex:a}=t,l=w.useMemo(()=>nC(t.children,zm),[t.children]),u=Ce(m=>Fde(m,e,l)),d=w.useRef(null),f=it("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(Ln,{tabIndex:a,className:f})):w.createElement(Tr,{zIndex:t.zIndex},w.createElement(Dfe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(Ln,{tabIndex:a,className:f},w.createElement(Kfe,{props:Kt(Kt({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function c9(t){var e=vn(t,Gfe),{id:n}=e,r=nb(e,Ife),i=Fr(r);return w.createElement(lC,{id:n,type:"pie"},a=>w.createElement(w.Fragment,null,w.createElement(Sfe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Rfe,Ko({},r,{id:a})),w.createElement(Wfe,Ko({},r,{id:a}))))}c9.displayName="Pie";var Yfe=["points"];function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Zfe(t,"string");return typeof e=="symbol"?e:e+""}function Zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function Jfe(t,e){if(t==null)return{};var n,r,i=ehe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ehe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function the(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=it(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,u=Jfe(a,Yfe);return w.createElement(Jz,jv({},u,{className:i}))}function nhe(t,e){return t==null?!1:e?!0:t.length===1}function rhe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:d,zIndex:f=pn.scatter}=t;if(!nhe(e,n))return null;var m=s9(n),p=yZ(n),v=e.map((E,S)=>{var A,C,N=a1(a1(a1({r:3},l),p),{},{index:S,cx:(A=E.x)!==null&&A!==void 0?A:void 0,cy:(C=E.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:E.value,payload:E.payload,points:e});return w.createElement(the,{key:"dot-".concat(S),option:n,dotProps:N,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),w.createElement(Tr,{zIndex:f},w.createElement(Ln,jv({className:r},_),v))}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e,n){return(e=ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d9=0,ohe={xAxis:{},yAxis:{},zAxis:{}},f9=Ar({name:"cartesianAxis",initialState:ohe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...l,r].slice(-3);t.yAxis[n]=jM(jM({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:lhe,replaceXAxis:uhe,removeXAxis:che,addYAxis:dhe,replaceYAxis:fhe,removeYAxis:hhe,addZAxis:cve,replaceZAxis:dve,removeZAxis:fve,updateYAxisWidth:mhe}=f9.actions,phe=f9.reducer,ghe=X([An],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),yhe=X([ghe,Ts,Cs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),uC=()=>Ce(yhe),vhe=()=>Ce(rue);function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var whe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=s1(s1(s1({},u),cu(i)),bA(i)),f;return w.isValidElement(i)?f=w.cloneElement(i,d):typeof i=="function"?f=i(d):f=w.createElement(Jz,d),w.createElement(Ln,{className:"recharts-active-dot",clipPath:l},f)};function Ehe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=pn.activeDot}=t,u=Ce(Ho),d=vhe();if(e==null||d==null)return null;var f=e.find(m=>d.includes(m.payload));return zt(f)?null:w.createElement(Tr,{zIndex:l},w.createElement(whe,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var DM=(t,e,n)=>{var r=n??t;if(!zt(r))return rr(r,e,0)},She=(t,e,n)=>{var r={},i=t.filter($0),a=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>{var p=f[m.stackId];return p==null&&(p=[]),p.push(m),f[m.stackId]=p,f},r),u=Object.entries(l).map(f=>{var m,[p,v]=f,_=v.map(S=>S.dataKey),E=DM(e,n,(m=v[0])===null||m===void 0?void 0:m.barSize);return{stackId:p,dataKeys:_,barSize:E}}),d=a.map(f=>{var m=[f.dataKey].filter(v=>v!=null),p=DM(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...u,...d]};function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ahe(t,e,n){return(e=The(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ihe(t,e,n,r,i){var a,l=r.length;if(!(l<1)){var u=rr(t,n,0,!0),d,f=[];if(et((a=r[0])===null||a===void 0?void 0:a.barSize)){var m=!1,p=n/l,v=r.reduce((N,j)=>N+(j.barSize||0),0);v+=(l-1)*u,v>=n&&(v-=(l-1)*u,u=0),v>=n&&p>0&&(m=!0,p*=.9,v=l*p);var _=(n-v)/2>>0,E={offset:_-u,size:0};d=r.reduce((N,j)=>{var D,V={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:E.offset+E.size+u,size:m?p:(D=j.barSize)!==null&&D!==void 0?D:0}},M=[...N,V];return E=V.position,M},f)}else{var S=rr(e,n,0,!0);n-2*S-(l-1)*u<=0&&(u=0);var A=(n-2*S-(l-1)*u)/l;A>1&&(A>>=0);var C=et(i)?Math.min(A,i):A;d=r.reduce((N,j,D)=>[...N,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:S+(A+u)*D+(A-C)/2,size:C}}],f)}return d}}var Ohe=(t,e,n,r,i,a,l)=>{var u=zt(l)?e:l,d=Ihe(n,r,i!==a?i:a,t,u);return i!==a&&d!=null&&(d=d.map(f=>Fg(Fg({},f),{},{position:Fg(Fg({},f.position),{},{offset:f.position.offset-i/2})}))),d},Nhe=(t,e)=>{var n=vT(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Phe=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function jhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&et(t.zIndex)?t.zIndex:e}var h9=t=>{var{chartData:e}=t,n=Tt(),r=ir();return w.useEffect(()=>r?()=>{}:(n(Uk(e)),()=>{n(Uk(void 0))}),[e,n,r]),null},MM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},m9=Ar({name:"brush",initialState:MM,reducers:{setBrushSettings(t,e){return e.payload==null?MM:e.payload}}}),{setBrushSettings:hve}=m9.actions,Rhe=m9.reducer;function Dhe(t){return(t%180+180)%180}var khe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Dhe(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Mhe={dots:[],areas:[],lines:[]},p9=Ar({name:"referenceElements",initialState:Mhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Vi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Vi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Vi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:mve,removeDot:pve,addArea:gve,removeArea:yve,addLine:vve,removeLine:bve}=p9.actions,Lhe=p9.reducer,Vhe=w.createContext(void 0),Bhe=t=>{var{children:e}=t,[n]=w.useState("".concat(Lh("recharts"),"-clip")),r=uC();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return w.createElement(Vhe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function g9(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function zhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return khe(r,n)}function Uhe(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Xh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function qhe(t,e){return g9(t,e+1)}function Fhe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,d=0,f=1,m=l,p=function(){var E=r?.[d];if(E===void 0)return{v:g9(r,f)};var S=d,A,C=()=>(A===void 0&&(A=n(E,S)),A),N=E.coordinate,j=d===0||Xh(t,N,C,m,u);j||(d=0,m=l,f+=1),j&&(m=N+t*(C()/2+i),d+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function $he(t,e,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:u,end:d}=e,f=1;f<=l;f++){for(var m=(l-1)%f,p=u,v=!0,_=function(){var D=r[S];if(D==null)return 0;var V=S,M,P=()=>(M===void 0&&(M=n(D,V)),M),R=D.coordinate,L=S===m||Xh(t,R,P,p,d);if(!L)return v=!1,1;L&&(p=R+t*(P()/2+i))},E,S=m;S<l&&(E=_(),!(E!==0&&E===1));S+=f);if(v){for(var A=[],C=m;C<l;C+=f){var N=r[C];N!=null&&A.push(N)}return A}}return[]}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){Hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hhe(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Whe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:d}=e,f=function(v){var _=a[v];if(_==null)return 1;var E=_,S,A=()=>(S===void 0&&(S=n(_,v)),S);if(v===l-1){var C=t*(E.coordinate+t*A()/2-d);a[v]=E=Zn(Zn({},E),{},{tickCoord:C>0?E.coordinate-C*t:E.coordinate})}else a[v]=E=Zn(Zn({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var N=Xh(t,E.tickCoord,A,u,d);N&&(d=E.tickCoord-t*(A()/2+i),a[v]=Zn(Zn({},E),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return a}function Yhe(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=e;if(a){var m=r[u-1];if(m!=null){var p=n(m,u-1),v=t*(m.coordinate+t*p/2-f);if(l[u-1]=m=Zn(Zn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate}),m.tickCoord!=null){var _=Xh(t,m.tickCoord,()=>p,d,f);_&&(f=m.tickCoord-t*(p/2+i),l[u-1]=Zn(Zn({},m),{},{isShow:!0}))}}}for(var E=a?u-1:u,S=function(N){var j=l[N];if(j==null)return 1;var D=j,V,M=()=>(V===void 0&&(V=n(j,N)),V);if(N===0){var P=t*(D.coordinate-t*M()/2-d);l[N]=D=Zn(Zn({},D),{},{tickCoord:P<0?D.coordinate-P*t:D.coordinate})}else l[N]=D=Zn(Zn({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var R=Xh(t,D.tickCoord,M,d,f);R&&(d=D.tickCoord+t*(M()/2+i),l[N]=Zn(Zn({},D),{},{isShow:!0}))}},A=0;A<E;A++)S(A);return l}function cC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Ee(d)||R0.isSsr){var v;return(v=qhe(i,Ee(d)?d:0))!==null&&v!==void 0?v:[]}var _=[],E=u==="top"||u==="bottom"?"width":"height",S=m&&E==="width"?vh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(V,M)=>{var P=typeof f=="function"?f(V.value,M):V.value;return E==="width"?zhe(vh(P,{fontSize:e,letterSpacing:n}),S,p):vh(P,{fontSize:e,letterSpacing:n})[E]},C=i[0],N=i[1],j=i.length>=2&&C!=null&&N!=null?kn(N.coordinate-C.coordinate):1,D=Uhe(a,j,E);return d==="equidistantPreserveStart"?Fhe(j,D,A,i,l):d==="equidistantPreserveEnd"?$he(j,D,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=Yhe(j,D,A,i,l,d==="preserveStartEnd"):_=Whe(j,D,A,i,l),_.filter(V=>V.isShow))}var Qhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},Xhe=["axisLine","width","height","className","hide","ticks","axisType"];function Zhe(t,e){if(t==null)return{};var n,r,i=Jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return(e=tme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return typeof e=="symbol"?e:e+""}function nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pn.axis};function rme(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var f=$t($t($t({},d),Fr(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);f=$t($t({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);f=$t($t({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return w.createElement("line",vu({},f,{className:it("recharts-cartesian-axis-line",fu(u,"className"))}))}function ime(t,e,n,r,i,a,l,u,d){var f,m,p,v,_,E,S=u?-1:1,A=t.tickSize||l,C=Ee(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=m=t.coordinate,v=n+ +!u*i,p=v-S*A,E=p-S*d,_=C;break;case"left":p=v=t.coordinate,m=e+ +!u*r,f=m-S*A,_=f-S*d,E=C;break;case"right":p=v=t.coordinate,m=e+ +u*r,f=m+S*A,_=f+S*d,E=C;break;default:f=m=t.coordinate,v=n+ +u*i,p=v+S*A,E=p+S*d,_=C;break}return{line:{x1:f,y1:p,x2:m,y2:v},tick:{x:_,y:E}}}function ame(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function sme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ome(t){var{option:e,tickProps:n,value:r}=t,i,a=it(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,$t($t({},n),{},{className:a}));else if(typeof e=="function")i=e($t($t({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=it(l,r9(e))),i=w.createElement(J0,vu({},n,{className:l}),r)}return i}var lme=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:p,x:v,y:_,width:E,height:S,tickSize:A,tickMargin:C,fontSize:N,letterSpacing:j,getTicksConfig:D,events:V,axisType:M}=t,P=cC($t($t({},D),{},{ticks:n}),N,j),R=ame(m,p),L=sme(m,p),F=Fr(D),B=cu(r),U={};typeof i=="object"&&(U=i);var q=$t($t({},F),{},{fill:"none"},U),ge=P.map(ae=>$t({entry:ae},ime(ae,v,_,E,S,m,A,p,C))),fe=ge.map(ae=>{var{entry:re,line:ue}=ae;return w.createElement(Ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&w.createElement("line",vu({},q,ue,{className:it("recharts-cartesian-axis-tick-line",fu(i,"className"))})))}),W=ge.map((ae,re)=>{var ue,ye,{entry:$,tick:te}=ae,pe=$t($t($t($t({verticalAnchor:L},F),{},{textAnchor:R,stroke:"none",fill:a},te),{},{index:re,payload:$,visibleTicksCount:P.length,tickFormatter:l,padding:d},f),{},{angle:(ue=(ye=f?.angle)!==null&&ye!==void 0?ye:F.angle)!==null&&ue!==void 0?ue:0}),be=$t($t({},pe),B);return w.createElement(Ln,vu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},_m(V,$,re)),r&&w.createElement(ome,{option:r,tickProps:be,value:"".concat(typeof l=="function"?l($.value,re):$.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},W.length>0&&w.createElement(Tr,{zIndex:pn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},W)),fe.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},fe))}),ume=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:d}=t,f=Zhe(t,Xhe),[m,p]=w.useState(""),[v,_]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Qhe({ticks:E.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=w.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var N=C[0];if(N){var j=window.getComputedStyle(N),D=j.fontSize,V=j.letterSpacing;(D!==m||V!==v)&&(p(D),_(V))}}},[m,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Tr,{zIndex:t.zIndex},w.createElement(Ln,{className:it("recharts-cartesian-axis",a)},w.createElement(rme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Fr(t)}),w.createElement(lme,{ref:S,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(ide,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(mde,{label:t.label,labelRef:t.labelRef}),t.children)))}),dC=w.forwardRef((t,e)=>{var n=vn(t,ls);return w.createElement(ume,vu({},n,{ref:e}))});dC.displayName="CartesianAxis";var cme=["x1","y1","x2","y2","key"],dme=["offset"],fme=["xAxisId","yAxisId"],hme=["xAxisId","yAxisId"];function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return(e=pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pme(t){var e=gme(t,"string");return typeof e=="symbol"?e:e+""}function gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(null,arguments)}function Rv(t,e){if(t==null)return{};var n,r,i=yme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function y9(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:u,y2:d,key:f}=n,m=Rv(n,cme),p=(i=Fr(m))!==null&&i!==void 0?i:{},{offset:v}=p,_=Rv(p,dme);r=w.createElement("line",$l({},_,{x1:a,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function bme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Rv(t,fme),d=i.map((f,m)=>{var p=er(er({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return w.createElement(y9,{key:"line-".concat(m),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function xme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Rv(t,hme),d=i.map((f,m)=>{var p=er(er({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return w.createElement(y9,{option:r,lineItemProps:p,key:"line-".concat(m)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function _me(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var m=f.map((p,v)=>{var _=f[v+1],E=_==null,S=E?i+l-p:_-p;if(S<=0)return null;var A=v%e.length;return w.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:S,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function wme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var m=f.map((p,v)=>{var _=f[v+1],E=_==null,S=E?i+l-p:_-p;if(S<=0)return null;var A=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:S,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Eme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return uV(cC(er(er(er({},ls),n),{},{ticks:cV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Sme=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return uV(cC(er(er(er({},ls),n),{},{ticks:cV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Ame={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pn.grid};function fC(t){var e=RA(),n=DA(),r=yV(),i=er(er({},vn(t,Ame)),{},{x:Ee(t.x)?t.x:r.left,y:Ee(t.y)?t.y:r.top,width:Ee(t.width)?t.width:r.width,height:Ee(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:v,verticalValues:_}=i,E=ir(),S=Ce(L=>Ok(L,"xAxis",a,E)),A=Ce(L=>Ok(L,"yAxis",l,E));if(!Ta(f)||!Ta(m)||!Ee(u)||!Ee(d))return null;var C=i.verticalCoordinatesGenerator||Eme,N=i.horizontalCoordinatesGenerator||Sme,{horizontalPoints:j,verticalPoints:D}=i;if((!j||!j.length)&&typeof N=="function"){var V=v&&v.length,M=N({yAxis:A?er(er({},A),{},{ticks:V?v:A.ticks}):void 0,width:e??f,height:n??m,offset:r},V?!0:p);av(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(j=M)}if((!D||!D.length)&&typeof C=="function"){var P=_&&_.length,R=C({xAxis:S?er(er({},S),{},{ticks:P?_:S.ticks}):void 0,width:e??f,height:n??m,offset:r},P?!0:p);av(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(D=R)}return w.createElement(Tr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(vme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(_me,$l({},i,{horizontalPoints:j})),w.createElement(wme,$l({},i,{verticalPoints:D})),w.createElement(bme,$l({},i,{offset:r,horizontalPoints:j,xAxis:S,yAxis:A})),w.createElement(xme,$l({},i,{offset:r,verticalPoints:D,xAxis:S,yAxis:A}))))}fC.displayName="CartesianGrid";var Tme={},v9=Ar({name:"errorBars",initialState:Tme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xve,replaceErrorBar:_ve,removeErrorBar:wve}=v9.actions,Cme=v9.reducer,Ime=["children"];function Ome(t,e){if(t==null)return{};var n,r,i=Nme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jme=w.createContext(Pme);function b9(t){var{children:e}=t,n=Ome(t,Ime);return w.createElement(jme.Provider,{value:n},e)}function hC(t,e){var n,r,i=Ce(f=>Ns(f,t)),a=Ce(f=>Ps(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Pn.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function x9(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=uC(),{needClipX:a,needClipY:l,needClip:u}=hC(e,n);if(!u||!i)return null;var{x:d,y:f,width:m,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?d:d-m/2,y:l?f:f-p/2,width:a?m:m*2,height:l?p:p*2}))}var _9=(t,e,n,r)=>$o(t,"xAxis",e,r),w9=(t,e,n,r)=>Fo(t,"xAxis",e,r),E9=(t,e,n,r)=>$o(t,"yAxis",n,r),S9=(t,e,n,r)=>Fo(t,"yAxis",n,r),Rme=X([st,_9,E9,w9,S9],(t,e,n,r,i)=>As(t,"xAxis")?ad(e,r,!1):ad(n,i,!1)),Dme=(t,e,n,r,i)=>i;function kme(t){return t.type==="line"}var Mme=X([G0,Dme],(t,e)=>t.filter(kme).find(n=>n.id===e)),Lme=X([st,_9,E9,w9,S9,Mme,Rme,uT],(t,e,n,r,i,a,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:v}=a,_;if(v!=null&&v.length>0?_=v:_=d?.slice(f,m+1),_!=null)return Spe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:_})}});function Vme(t){var e=cu(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var o1={exports:{}},l1={};var zM;function Bme(){if(zM)return l1;zM=1;var t=dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return l1.useSyncExternalStoreWithSelector=function(d,f,m,p,v){var _=i(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function A(V){if(!C){if(C=!0,N=V,V=p(V),v!==void 0&&E.hasValue){var M=E.value;if(v(M,V))return j=M}return j=V}if(M=j,n(N,V))return M;var P=p(V);return v!==void 0&&v(M,P)?(N=V,M):(N=V,j=P)}var C=!1,N,j,D=m===void 0?null:m;return[function(){return A(f())},D===null?void 0:function(){return A(D())}]},[f,m,p,v]);var S=r(d,_[0],_[1]);return a(function(){E.hasValue=!0,E.value=S},[S]),u(S),S},l1}var UM;function zme(){return UM||(UM=1,o1.exports=Bme()),o1.exports}zme();function Ume(t){t()}function qme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ume(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qM={notify(){},get:()=>[]};function Fme(t,e){let n,r=qM,i=0,a=!1;function l(S){m();const A=r.subscribe(S);let C=!1;return()=>{C||(C=!0,A(),p())}}function u(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function f(){return a}function m(){i++,n||(n=t.subscribe(d),r=qme())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qM)}function v(){a||(a=!0,m())}function _(){a&&(a=!1,p())}const E={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return E}var $me=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hme=$me(),Kme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gme=Kme(),Wme=()=>Hme||Gme?w.useLayoutEffect:w.useEffect,Yme=Wme();function FM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Qme(t,e){if(FM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!FM(t[n[i]],e[n[i]]))return!1;return!0}var Xme=Symbol.for("react-redux-context"),Zme=typeof globalThis<"u"?globalThis:{};function Jme(){if(!w.createContext)return{};const t=Zme[Xme]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var epe=Jme();function tpe(t){const{children:e,context:n,serverState:r,store:i}=t,a=w.useMemo(()=>{const d=Fme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Yme(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||epe;return w.createElement(u.Provider,{value:a},e)}var npe=tpe,rpe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ipe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function rb(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(rpe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Qme(t[r],e[r]))return!1}else if(!ipe(t[r],e[r]))return!1;return!0}var ape=["id"],spe=["type","layout","connectNulls","needClip","shape"],ope=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(null,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mC(t,e){if(t==null)return{};var n,r,i=dpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:wd(n,e),payload:t}]},hpe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d,tooltipType:f,id:m}=t,p={dataDefinedOnItem:n,getPosition:wu,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:wd(l,e),hide:u,type:f,color:r,unit:d,graphicalItemId:m}};return w.createElement(oC,{tooltipEntrySettings:p})}),A9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function mpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ppe=(t,e,n)=>{var r=n.reduce((_,E)=>_+E);if(!r)return A9(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],d=0,f=0;d<n.length;f+=(m=n[d])!==null&&m!==void 0?m:0,++d){var m,p=n[d];if(p!=null&&f+p>a){u=[...n.slice(0,d),a-f];break}}var v=u.length%2===0?[0,l]:[l];return[...mpe(n,i),...u,...v].map(_=>"".concat(_,"px")).join(", ")};function gpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,d=mC(r,ape),f=Fr(d);return w.createElement(rhe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:l,clipPathId:e})}function ype(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(a=>{var l,u,d={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ma(ma({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(Xz,{value:e?i:void 0},n)}function HM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:u,connectNulls:d,needClip:f,shape:m}=a,p=mC(a,spe),v=ma(ma({},hr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(rC,Zh({shapeType:"curve",option:m},v,{pathRef:n})),w.createElement(gpe,{points:r,clipPathId:e,props:a}))}function vpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function bpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:v,width:_,height:E,onAnimationEnd:S,onAnimationStart:A}=n,C=i.current,N=Im(l,"recharts-line-"),j=w.useRef(N),[D,V]=w.useState(!1),M=!D,P=w.useCallback(()=>{typeof S=="function"&&S(),V(!1)},[S]),R=w.useCallback(()=>{typeof A=="function"&&A(),V(!0)},[A]),L=vpe(r.current),F=w.useRef(0);j.current!==N&&(F.current=a.current,j.current=N);var B=F.current;return w.createElement(ype,{points:l,showLabels:M},n.children,w.createElement(Cm,{animationId:N,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:P,onAnimationStart:R,key:N},U=>{var q=Dt(B,L+B,U),ge=Math.min(q,L),fe;if(d)if(u){var W="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));fe=ppe(ge,L,W)}else fe=A9(L,ge);else fe=u==null?void 0:String(u);if(U>0&&L>0&&(i.current=l,a.current=Math.max(a.current,ge)),C){var ae=C.length/l.length,re=U===1?l:l.map((ue,ye)=>{var $=Math.floor(ye*ae);if(C[$]){var te=C[$];return ma(ma({},ue),{},{x:Dt(te.x,ue.x,U),y:Dt(te.y,ue.y,U)})}return v?ma(ma({},ue),{},{x:Dt(_*2,ue.x,U),y:Dt(E/2,ue.y,U)}):ma(ma({},ue),{},{x:ue.x,y:ue.y})});return i.current=re,w.createElement(HM,{props:n,points:re,clipPathId:e,pathRef:r,strokeDasharray:fe})}return w.createElement(HM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:fe})}),w.createElement(JT,{label:n.label}))}function xpe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(bpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var _pe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:wt(t.payload,e)}};class wpe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:d,width:f,height:m,id:p,needClip:v,zIndex:_}=this.props;if(e)return null;var E=it("recharts-line",i),S=p,{r:A,strokeWidth:C}=Vme(n),N=s9(n),j=A*2+C,D=v?"url(#clipPath-".concat(N?"":"dots-").concat(S,")"):void 0;return w.createElement(Tr,{zIndex:_},w.createElement(Ln,{className:E},v&&w.createElement("defs",null,w.createElement(x9,{clipPathId:S,xAxisId:a,yAxisId:l}),!N&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:d-j/2,y:u-j/2,width:f+j,height:m+j}))),w.createElement(b9,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:_pe,errorBarOffset:0},w.createElement(xpe,{props:this.props,clipPathId:S}))),w.createElement(Ehe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var T9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pn.line,type:"linear"};function Epe(t){var e=vn(t,T9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:m,label:p,legendType:v,xAxisId:_,yAxisId:E,id:S}=e,A=mC(e,ope),{needClip:C}=hC(_,E),N=uC(),j=Eu(),D=ir(),V=Ce(F=>Lme(F,_,E,D,S));if(j!=="horizontal"&&j!=="vertical"||V==null||N==null)return null;var{height:M,width:P,x:R,y:L}=N;return w.createElement(wpe,Zh({},A,{id:S,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:m,hide:f,label:p,legendType:v,xAxisId:_,yAxisId:E,points:V,layout:j,height:M,width:P,left:R,top:L,needClip:C}))}function Spe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((f,m)=>{var p=wt(f,l);if(e==="horizontal"){var v=TR({axis:n,ticks:i,bandSize:u,entry:f,index:m}),_=zt(p)?null:r.scale.map(p);return{x:v,y:_??null,value:p,payload:f}}var E=zt(p)?null:n.scale.map(p),S=TR({axis:r,ticks:a,bandSize:u,entry:f,index:m});return E==null||S==null?null:{x:E,y:S,value:p,payload:f}}).filter(Boolean)}function Ape(t){var e=vn(t,T9),n=ir();return w.createElement(lC,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(o9,{legendPayload:fpe(e)}),w.createElement(hpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(u9,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(Epe,Zh({},e,{id:r}))))}var C9=w.memo(Ape,rb);C9.displayName="Line";function Tu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:d9}function Cu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:d9}var Tpe="Invariant failed";function Cpe(t,e){throw new Error(Tpe)}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function Dv(t){return w.createElement(rC,zE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Ipe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ee(e))return e;var a=Ee(r)||zt(r);return a?e(r,i):(a||Cpe(),n)}},Ope=(t,e,n)=>n,Npe=(t,e)=>e,Um=X([G0,Npe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Ppe=X([Um],t=>t?.maxBarSize),jpe=(t,e,n,r)=>r,Rpe=X([st,G0,Tu,Cu,Ope],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Dpe=(t,e,n)=>{var r=st(t),i=Tu(t,e),a=Cu(t,e);if(!(i==null||a==null))return r==="horizontal"?RE(t,"yAxis",a,n):RE(t,"xAxis",i,n)},kpe=(t,e)=>{var n=st(t),r=Tu(t,e),i=Cu(t,e);if(!(r==null||i==null))return n==="horizontal"?Ik(t,"xAxis",r):Ik(t,"yAxis",i)},Mpe=X([Rpe,Zse,kpe],She),Lpe=(t,e,n)=>{var r,i,a=Um(t,e);if(a==null)return 0;var l=Tu(t,e),u=Cu(t,e);if(l==null||u==null)return 0;var d=st(t),f=NB(t),{maxBarSize:m}=a,p=zt(m)?f:m,v,_;return d==="horizontal"?(v=$o(t,"xAxis",l,n),_=Fo(t,"xAxis",l,n)):(v=$o(t,"yAxis",u,n),_=Fo(t,"yAxis",u,n)),(r=(i=ad(v,_,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},I9=(t,e,n)=>{var r=st(t),i=Tu(t,e),a=Cu(t,e);if(!(i==null||a==null)){var l,u;return r==="horizontal"?(l=$o(t,"xAxis",i,n),u=Fo(t,"xAxis",i,n)):(l=$o(t,"yAxis",a,n),u=Fo(t,"yAxis",a,n)),ad(l,u)}},Vpe=X([Mpe,NB,Xse,PB,Lpe,I9,Ppe],Ohe),Bpe=(t,e,n)=>{var r=Tu(t,e);if(r!=null)return $o(t,"xAxis",r,n)},zpe=(t,e,n)=>{var r=Cu(t,e);if(r!=null)return $o(t,"yAxis",r,n)},Upe=(t,e,n)=>{var r=Tu(t,e);if(r!=null)return Fo(t,"xAxis",r,n)},qpe=(t,e,n)=>{var r=Cu(t,e);if(r!=null)return Fo(t,"yAxis",r,n)},Fpe=X([Vpe,Um],Phe),$pe=X([Dpe,Um],Nhe),Hpe=X([An,OA,Bpe,zpe,Upe,qpe,Fpe,st,Fse,I9,$pe,Um,jpe],(t,e,n,r,i,a,l,u,d,f,m,p,v)=>{var{chartData:_,dataStartIndex:E,dataEndIndex:S}=d;if(!(p==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:A}=p,C;if(A!=null&&A.length>0?C=A:C=_?.slice(E,S+1),C!=null)return bge({layout:u,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:C,offset:t,cells:v,dataStartIndex:E})}}),Kpe=["index"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function Gpe(t,e){if(t==null)return{};var n,r,i=Wpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O9=w.createContext(void 0),Ype=t=>{var e=w.useContext(O9);if(e!=null)return e.stackId;if(t!=null)return Lte(t)},Qpe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Xpe=t=>{var e=w.useContext(O9);if(e!=null){var{stackId:n}=e;return"url(#".concat(Qpe(n,t),")")}},N9=t=>{var{index:e}=t,n=Gpe(t,Kpe),r=Xpe(e);return w.createElement(Ln,UE({className:"recharts-bar-stack-layer",clipPath:r},n))},Zpe=["onMouseEnter","onMouseLeave","onClick"],Jpe=["value","background","tooltipPosition"],ege=["id"],tge=["onMouseEnter","onClick","onMouseLeave"];function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nge(t,e,n){return(e=rge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return typeof e=="symbol"?e:e+""}function ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kv(t,e){if(t==null)return{};var n,r,i=age(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:wd(n,e),payload:t}]},oge=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u,tooltipType:d,id:f}=t,m={dataDefinedOnItem:void 0,getPosition:wu,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:wd(a,e),hide:l,type:d,color:i,unit:u,graphicalItemId:f}};return w.createElement(oC,{tooltipEntrySettings:m})});function lge(t){var e=Ce(Ho),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,f=kv(a,Zpe),m=iC(l,r,a.id),p=aC(u),v=sC(d,r,a.id);if(!i||n==null)return null;var _=cu(i);return w.createElement(Tr,{zIndex:jhe(i,pn.barBackground)},n.map((E,S)=>{var{value:A,background:C,tooltipPosition:N}=E,j=kv(E,Jpe);if(!C)return null;var D=m(E,S),V=p(E,S),M=v(E,S),P=lr(lr(lr(lr(lr({option:i,isActive:String(S)===e},j),{},{fill:"#eee"},C),_),_m(f,E,S)),{},{onMouseEnter:D,onMouseLeave:V,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return w.createElement(Dv,xs({key:"background-bar-".concat(S)},P))}))}function uge(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return lr(lr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return w.createElement(Xz,{value:e?i:void 0},n)}function cge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,u=Ce(Ho),d=Ce(HT),f=n&&String(a)===u&&(d==null||l===d),m=f?n:e;return f?w.createElement(Tr,{zIndex:pn.activeBar},w.createElement(N9,{index:a},w.createElement(Dv,xs({},r,{name:String(r.name)},i,{isActive:f,option:m,index:a,dataKey:l})))):w.createElement(Dv,xs({},r,{name:String(r.name)},i,{isActive:f,option:m,index:a,dataKey:l}))}function dge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return w.createElement(Dv,xs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function fge(t){var e,{data:n,props:r}=t,i=(e=Fr(r))!==null&&e!==void 0?e:{},{id:a}=i,l=kv(i,ege),{shape:u,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:v}=r,_=kv(r,tge),E=iC(m,d,a),S=aC(v),A=sC(p,d,a);return n?w.createElement(w.Fragment,null,n.map((C,N)=>w.createElement(N9,xs({index:N,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(N),className:"recharts-bar-rectangle"},_m(_,C,N),{onMouseEnter:E(C,N),onMouseLeave:S(C,N),onClick:A(C,N)}),f?w.createElement(cge,{shape:u,activeBar:f,baseProps:l,entry:C,index:N,dataKey:d}):w.createElement(dge,{shape:u,baseProps:l,entry:C,index:N,dataKey:d})))):null}function hge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,v=Im(e,"recharts-bar-"),[_,E]=w.useState(!1),S=!_,A=w.useCallback(()=>{typeof f=="function"&&f(),E(!1)},[f]),C=w.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return w.createElement(uge,{showLabels:S,rects:r},w.createElement(Cm,{animationId:v,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:A,onAnimationStart:C,key:v},N=>{var j=N===1?r:r?.map((D,V)=>{var M=p&&p[V];if(M)return lr(lr({},D),{},{x:Dt(M.x,D.x,N),y:Dt(M.y,D.y,N),width:Dt(M.width,D.width,N),height:Dt(M.height,D.height,N)});if(i==="horizontal"){var P=Dt(0,D.height,N),R=Dt(D.stackedBarStart,D.y,N);return lr(lr({},D),{},{y:R,height:P})}var L=Dt(0,D.width,N),F=Dt(D.stackedBarStart,D.x,N);return lr(lr({},D),{},{width:L,x:F})});return N>0&&(n.current=j??null),j==null?null:w.createElement(Ln,null,w.createElement(fge,{props:e,data:j}))}),w.createElement(JT,{label:e.label}),e.children)}function mge(t){var e=w.useRef(null);return w.createElement(hge,{previousRectanglesRef:e,props:t})}var P9=0,pge=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:wt(t,e)}};class gge extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(e||n==null)return null;var m=it("recharts-bar",i),p=f;return w.createElement(Ln,{className:m,id:f},u&&w.createElement("defs",null,w.createElement(x9,{clipPathId:p,xAxisId:a,yAxisId:l})),w.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},w.createElement(lge,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(mge,this.props)))}}var yge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:P9,xAxisId:0,yAxisId:0,zIndex:pn.bar};function vge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=hC(e,n),v=Eu(),_=ir(),E=nC(t.children,zm),S=Ce(N=>Hpe(N,t.id,_,E));if(v!=="vertical"&&v!=="horizontal")return null;var A,C=S?.[0];return C==null||C.height==null||C.width==null?A=0:A=v==="vertical"?C.height/2:C.width/2,w.createElement(b9,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:pge,errorBarOffset:A},w.createElement(gge,xs({},t,{layout:v,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function bge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:v,cells:_,parentViewBox:E,dataStartIndex:S}=t,A=e==="horizontal"?u:l,C=m?A.scale.domain():null,N=Vte({numericAxis:A}),j=A.scale.map(N);return p.map((D,V)=>{var M,P,R,L,F,B;if(m){var U=m[V+S];if(U==null)return null;M=jte(U,C)}else M=wt(D,n),Array.isArray(M)||(M=[N,M]);var q=Ipe(r,P9)(M[1],V);if(e==="horizontal"){var ge,fe=u.scale.map(M[0]),W=u.scale.map(M[1]);if(fe==null||W==null)return null;P=CR({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:D,index:V}),R=(ge=W??fe)!==null&&ge!==void 0?ge:void 0,L=i.size;var ae=fe-W;if(F=Sa(ae)?0:ae,B={x:P,y:v.top,width:L,height:v.height},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var re=kn(F||q)*(Math.abs(q)-Math.abs(F));R-=re,F+=re}}else{var ue=l.scale.map(M[0]),ye=l.scale.map(M[1]);if(ue==null||ye==null)return null;if(P=ue,R=CR({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:D,index:V}),L=ye-ue,F=i.size,B={x:v.left,y:R,width:v.width,height:F},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var $=kn(L||q)*(Math.abs(q)-Math.abs(L));L+=$}}if(P==null||R==null||L==null||F==null)return null;var te=lr(lr({},D),{},{stackedBarStart:j,x:P,y:R,width:L,height:F,value:m?M:M[1],payload:D,background:B,tooltipPosition:{x:P+L/2,y:R+F/2},parentViewBox:E},_&&_[V]&&_[V].props);return te}).filter(Boolean)}function xge(t){var e=vn(t,yge),n=Ype(e.stackId),r=ir();return w.createElement(lC,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(o9,{legendPayload:sge(e)}),w.createElement(oge,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(u9,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Tr,{zIndex:e.zIndex},w.createElement(vge,xs({},e,{id:i})))))}var qE=w.memo(xge,rb);qE.displayName="Bar";var _ge=["domain","range"],wge=["domain","range"];function GM(t,e){if(t==null)return{};var n,r,i=Ege(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function j9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=GM(t,_ge),{domain:a,range:l}=e,u=GM(e,wge);return!WM(n,a)||!WM(r,l)?!1:rb(i,u)}var Sge=["type"],Age=["dangerouslySetInnerHTML","ticks","scale"],Tge=["id","scale"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return(e=Ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Oge(t,"string");return typeof e=="symbol"?e:e+""}function Oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $E(t,e){if(t==null)return{};var n,r,i=Nge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pge(t){var e=Tt(),n=w.useRef(null),r=vV(),{type:i}=t,a=$E(t,Sge),l=q0(r,"xAxis",i),u=w.useMemo(()=>{if(l!=null)return QM(QM({},a),{},{type:l})},[a,l]);return w.useLayoutEffect(()=>{u!=null&&(n.current===null?e(lhe(u)):n.current!==u&&e(uhe({prev:n.current,next:u})),n.current=u)},[u,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(che(n.current)),n.current=null)},[e]),null}var jge=t=>{var{xAxisId:e,className:n}=t,r=Ce(OA),i=ir(),a="xAxis",l=Ce(C=>cz(C,a,e,i)),u=Ce(C=>sz(C,e)),d=Ce(C=>Zoe(C,e)),f=Ce(C=>UB(C,e));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:v}=t,_=$E(t,Age),{id:E,scale:S}=f,A=$E(f,Tge);return w.createElement(dC,FE({},_,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:it("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Rge={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,angle:Pn.angle,axisLine:ls.axisLine,height:Pn.height,hide:!1,includeHidden:Pn.includeHidden,interval:Pn.interval,label:!1,minTickGap:Pn.minTickGap,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,tickLine:ls.tickLine,tickSize:ls.tickSize,type:Pn.type,xAxisId:0},Dge=t=>{var e=vn(t,Rge);return w.createElement(w.Fragment,null,w.createElement(Pge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(jge,e))},pC=w.memo(Dge,j9);pC.displayName="XAxis";var kge=["type"],Mge=["dangerouslySetInnerHTML","ticks","scale"],Lge=["id","scale"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vge(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=zge(t,"string");return typeof e=="symbol"?e:e+""}function zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KE(t,e){if(t==null)return{};var n,r,i=Uge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qge(t){var e=Tt(),n=w.useRef(null),r=vV(),{type:i}=t,a=KE(t,kge),l=q0(r,"yAxis",i),u=w.useMemo(()=>{if(l!=null)return ZM(ZM({},a),{},{type:l})},[l,a]);return w.useLayoutEffect(()=>{u!=null&&(n.current===null?e(dhe(u)):n.current!==u&&e(fhe({prev:n.current,next:u})),n.current=u)},[u,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(hhe(n.current)),n.current=null)},[e]),null}function Fge(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=w.useRef(null),l=w.useRef(null),u=Ce(OA),d=ir(),f=Tt(),m="yAxis",p=Ce(M=>oz(M,e)),v=Ce(M=>ele(M,e)),_=Ce(M=>cz(M,m,e,d)),E=Ce(M=>qB(M,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!p||ZT(i)||w.isValidElement(i)||E==null)){var M=a.current;if(M){var P=M.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&f(mhe({id:e,width:P}))}}},[_,p,f,i,e,r,E]),p==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:A,scale:C}=t,N=KE(t,Mge),{id:j,scale:D}=E,V=KE(E,Lge);return w.createElement(dC,HE({},N,V,{ref:a,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:it("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:_,axisType:m}))}var $ge={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:ls.axisLine,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,label:!1,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:ls.tickLine,tickSize:ls.tickSize,type:jn.type,width:jn.width,yAxisId:0},Hge=t=>{var e=vn(t,$ge);return w.createElement(w.Fragment,null,w.createElement(qge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Fge,e))},gC=w.memo(Hge,j9);gC.displayName="YAxis";var Kge=(t,e)=>e,yC=X([Kge,st,VB,Bn,Cz,js,gue,An],Eue),vC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},R9=mi("mouseClick"),D9=Em();D9.startListening({actionCreator:R9,effect:(t,e)=>{var n=t.payload,r=yC(e.getState(),vC(n));r?.activeIndex!=null&&e.dispatch(mle({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var GE=mi("mouseMove"),k9=Em(),$g=null;k9.startListening({actionCreator:GE,effect:(t,e)=>{var n=t.payload;$g!==null&&cancelAnimationFrame($g);var r=vC(n);$g=requestAnimationFrame(()=>{var i=e.getState(),a=BT(i,i.tooltip.settings.shared);if(a==="axis"){var l=yC(i,r);l?.activeIndex!=null?e.dispatch(vz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(yz())}$g=null})}});function Gge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var JM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},M9=Ar({name:"rootProps",initialState:JM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:JM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Wge=M9.reducer,{updateOptions:Yge}=M9.actions,Qge=null,Xge={updatePolarOptions:(t,e)=>e.payload},L9=Ar({name:"polarOptions",initialState:Qge,reducers:Xge}),{updatePolarOptions:Zge}=L9.actions,Jge=L9.reducer,V9=mi("keyDown"),B9=mi("focus"),bC=Em();bC.startListening({actionCreator:V9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=zT(i,Pd(n),Mm(n),Vm(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=js(n);if(a==="Enter"){var f=Iv(n,"axis","hover",String(i.index));e.dispatch(kE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=ile(n),p=m==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=u+v*p;if(!(d==null||_>=d.length||_<0)){var E=Iv(n,"axis","hover",String(_));e.dispatch(kE({active:!0,activeIndex:_.toString(),activeCoordinate:E}))}}}}}});bC.startListening({actionCreator:B9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Iv(n,"axis","hover",String(a));e.dispatch(kE({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var li=mi("externalEvent"),z9=Em(),u1=new Map;z9.startListening({actionCreator:li,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=u1.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:eue(u),activeDataKey:HT(u),activeIndex:Ho(u),activeLabel:Nz(u),activeTooltipIndex:Ho(u),isTooltipActive:tue(u)};n(d,r)}finally{u1.delete(i)}});u1.set(i,l)}}});var eye=X([Od],t=>t.tooltipItemPayloads),tye=X([eye,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),U9=mi("touchMove"),q9=Em();q9.startListening({actionCreator:U9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=BT(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=yC(r,vC({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(vz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(fV),p=(u=f.getAttribute(hV))!==null&&u!==void 0?u:void 0,v=Nd(r).find(S=>S.id===p);if(m==null||v==null||p==null)return;var{dataKey:_}=v,E=tye(r,m,p);e.dispatch(gz({activeDataKey:_,activeIndex:m,activeCoordinate:E,activeGraphicalItemId:p}))}}}});var nye=D6({brush:Rhe,cartesianAxis:phe,chartData:ece,errorBars:Cme,graphicalItems:wfe,layout:Cte,legend:Dne,options:Yue,polarAxis:Mde,polarOptions:Jge,referenceElements:Lhe,rootProps:Wge,tooltip:ple,zIndex:Lue}),rye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Zee({reducer:nye,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([D9.middleware,k9.middleware,bC.middleware,z9.middleware,q9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Y6({type:"raf"}))},devTools:{serialize:{replacer:Gge},name:"recharts-".concat(n)}})};function F9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ir(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=rye(e,r));var l=wA;return w.createElement(npe,{context:l,store:a.current},n)}function iye(t){var{layout:e,margin:n}=t,r=Tt(),i=ir();return w.useEffect(()=>{i||(r(Ste(e)),r(Ete(n)))},[r,i,e,n]),null}var $9=w.memo(iye,rb);function H9(t){var e=Tt();return w.useEffect(()=>{e(Yge(t))},[e,t]),null}function e3(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Tt();return w.useLayoutEffect(()=>(r.current&&i(kue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Mue({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function t3(t){var{children:e,isPanorama:n}=t,r=Ce(Aue);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(e3,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>w.createElement(e3,{key:l,zIndex:l,isPanorama:n})))}var aye=["children"];function sye(t,e){if(t==null)return{};var n,r,i=oye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(null,arguments)}var lye={width:"100%",height:"100%",display:"block"},uye=w.forwardRef((t,e)=>{var n=RA(),r=DA(),i=NV();if(!Ta(n)||!Ta(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),w.createElement(dA,Mv({},l,{title:u,desc:d,role:m,tabIndex:f,width:n,height:r,style:lye,ref:e}),a)}),cye=t=>{var{children:e}=t,n=Ce(I0);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return w.createElement(dA,{width:r,height:i,x:l,y:a},e)},n3=w.forwardRef((t,e)=>{var{children:n}=t,r=sye(t,aye),i=ir();return i?w.createElement(cye,null,w.createElement(t3,{isPanorama:!0},n)):w.createElement(uye,Mv({ref:e},r),w.createElement(t3,{isPanorama:!1},n))});function dye(){var t=Tt(),[e,n]=w.useState(null),r=Ce($te);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;et(a)&&a!==r&&t(Tte(a))}},[e,t,r]),n}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hye(t,e,n){return(e=mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=pye(t,"string");return typeof e=="symbol"?e:e+""}function pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(null,arguments)}var gye=()=>(uce(),null);function Lv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var yye=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[a,l]=w.useState({containerWidth:Lv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Lv((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((f,m)=>{l(p=>{var v=Math.round(f),_=Math.round(m);return p.containerWidth===v&&p.containerHeight===_?p:{containerWidth:v,containerHeight:_}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();u(m,p);var v=E=>{var S=E[0];if(S!=null){var{width:A,height:C}=S.contentRect;u(A,C)}},_=new ResizeObserver(v);_.observe(f),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(Am,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Lo({ref:d},t)))}),vye=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=w.useState({containerWidth:Lv(n),containerHeight:Lv(r)}),l=w.useCallback((d,f)=>{a(m=>{var p=Math.round(d),v=Math.round(f);return m.containerWidth===p&&m.containerHeight===v?m:{containerWidth:p,containerHeight:v}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(Am,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Lo({ref:u},t)))}),bye=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(Am,{width:n,height:r}),w.createElement("div",Lo({ref:e},t)))}),xye=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(vye,Lo({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(bye,Lo({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(Am,{width:n,height:r}),w.createElement("div",Lo({ref:e},t)))});function _ye(t){return t?yye:xye}var wye=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:v,onTouchEnd:_,onTouchMove:E,onTouchStart:S,style:A,width:C,responsive:N,dispatchTouchEvents:j=!0}=t,D=w.useRef(null),V=Tt(),[M,P]=w.useState(null),[R,L]=w.useState(null),F=dye(),B=NA(),U=B?.width>0?B.width:C,q=B?.height>0?B.height:i,ge=w.useCallback(oe=>{F(oe),typeof e=="function"&&e(oe),P(oe),L(oe),oe!=null&&(D.current=oe)},[F,e,P,L]),fe=w.useCallback(oe=>{V(R9(oe)),V(li({handler:a,reactEvent:oe}))},[V,a]),W=w.useCallback(oe=>{V(GE(oe)),V(li({handler:f,reactEvent:oe}))},[V,f]),ae=w.useCallback(oe=>{V(yz()),V(li({handler:m,reactEvent:oe}))},[V,m]),re=w.useCallback(oe=>{V(GE(oe)),V(li({handler:p,reactEvent:oe}))},[V,p]),ue=w.useCallback(()=>{V(B9())},[V]),ye=w.useCallback(oe=>{V(V9(oe.key))},[V]),$=w.useCallback(oe=>{V(li({handler:l,reactEvent:oe}))},[V,l]),te=w.useCallback(oe=>{V(li({handler:u,reactEvent:oe}))},[V,u]),pe=w.useCallback(oe=>{V(li({handler:d,reactEvent:oe}))},[V,d]),be=w.useCallback(oe=>{V(li({handler:v,reactEvent:oe}))},[V,v]),Pe=w.useCallback(oe=>{V(li({handler:S,reactEvent:oe}))},[V,S]),ke=w.useCallback(oe=>{j&&V(U9(oe)),V(li({handler:E,reactEvent:oe}))},[V,j,E]),De=w.useCallback(oe=>{V(li({handler:_,reactEvent:oe}))},[V,_]),Vt=_ye(N);return w.createElement(Lz.Provider,{value:M},w.createElement(XL.Provider,{value:R},w.createElement(Vt,{width:U??A?.width,height:q??A?.height,className:it("recharts-wrapper",r),style:fye({position:"relative",cursor:"default",width:U,height:q},A),onClick:fe,onContextMenu:$,onDoubleClick:te,onFocus:ue,onKeyDown:ye,onMouseDown:pe,onMouseEnter:W,onMouseLeave:ae,onMouseMove:re,onMouseUp:be,onTouchEnd:De,onTouchMove:ke,onTouchStart:Pe,ref:ge},w.createElement(gye,null),n)))}),Eye=["width","height","responsive","children","className","style","compact","title","desc"];function Sye(t,e){if(t==null)return{};var n,r,i=Aye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K9=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:d,title:f,desc:m}=t,p=Sye(t,Eye),v=Fr(p);return d?w.createElement(w.Fragment,null,w.createElement(Am,{width:n,height:r}),w.createElement(n3,{otherAttributes:v,title:f,desc:m},a)):w.createElement(wye,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(n3,{otherAttributes:v,title:f,desc:m,ref:e},w.createElement(Bhe,null,a)))});function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}var Tye={top:5,right:5,bottom:5,left:5},Cye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Tye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},G9=w.forwardRef(function(e,n){var r,i=vn(e.categoricalChartProps,Cye),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(F9,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},w.createElement(h9,{chartData:f.data}),w.createElement($9,{layout:i.layout,margin:i.margin}),w.createElement(H9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(K9,WE({},i,{ref:n})))}),Iye=["axis"],Oye=w.forwardRef((t,e)=>w.createElement(G9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Iye,tooltipPayloadSearcher:QT,categoricalChartProps:t,ref:e})),Nye=["axis","item"],Pye=w.forwardRef((t,e)=>w.createElement(G9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nye,tooltipPayloadSearcher:QT,categoricalChartProps:t,ref:e}));function jye(t){var e=Tt();return w.useEffect(()=>{e(Zge(t))},[e,t]),null}var Rye=["layout"];function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function Dye(t,e){if(t==null)return{};var n,r,i=kye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mye={top:5,right:5,bottom:5,left:5},W9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Lye=w.forwardRef(function(e,n){var r,i=vn(e.categoricalChartProps,W9),{layout:a}=i,l=Dye(i,Rye),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=e,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(F9,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(h9,{chartData:i.data}),w.createElement($9,{layout:a,margin:i.margin}),w.createElement(H9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(jye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(K9,YE({},l,{ref:n})))});function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){Vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vye(t,e,n){return(e=Bye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bye(t){var e=zye(t,"string");return typeof e=="symbol"?e:e+""}function zye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uye=["item"],qye=a3(a3({},W9),{},{layout:"centric",startAngle:0,endAngle:360}),Fye=w.forwardRef((t,e)=>{var n=vn(t,qye);return w.createElement(Lye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Uye,tooltipPayloadSearcher:QT,categoricalChartProps:n,ref:e})});const Y9=t=>t<80?"#22c55e":t<=100?"#eab308":"#ef4444",s3=t=>`R$ ${t.toFixed(2)}`,$ye=({active:t,payload:e})=>{if(!t||!e||!e.length)return null;const n=e[0].payload,r=n.percentage;return g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4",children:[g.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:n.name}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"Oramento:"})," ",s3(n.Oramento)]}),g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"Gasto:"})," ",s3(n.Gasto)]}),g.jsxs("p",{className:"text-sm font-medium",style:{color:Y9(r)},children:[r.toFixed(1),"% utilizado"]})]})]})};function Hye({data:t,height:e=300,className:n=""}){if(t.length===0)return g.jsx("div",{className:`flex items-center justify-center ${n}`,style:{height:e},children:g.jsx("p",{className:"text-gray-500",children:"Nenhum dado disponvel"})});const r=t.map(i=>({name:`${i.icon} ${i.name}`,Oramento:i.budget,Gasto:i.spent,percentage:i.percentage}));return g.jsx("div",{className:n,children:g.jsx(PA,{width:"100%",height:e,minWidth:375,children:g.jsxs(Pye,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[g.jsx(fC,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),g.jsx(pC,{dataKey:"name",tick:{fontSize:12},stroke:"#6b7280"}),g.jsx(gC,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:i=>`R$ ${i}`}),g.jsx(XT,{content:g.jsx($ye,{})}),g.jsx(LA,{wrapperStyle:{fontSize:"14px"},iconType:"rect"}),g.jsx(qE,{dataKey:"Oramento",fill:"#94a3b8",radius:[4,4,0,0],name:"Oramento"}),g.jsx(qE,{dataKey:"Gasto",name:"Gasto",shape:i=>{const{x:a,y:l,width:u,height:d,payload:f}=i,m=Y9(f.percentage);return g.jsx(BA,{x:a,y:l,width:u,height:d,fill:m,radius:[4,4,0,0]})}})]})})})}const Kye=({cx:t,cy:e,midAngle:n,innerRadius:r,outerRadius:i,percent:a})=>{if(a===void 0||n===void 0||a<.05)return null;const l=Math.PI/180,u=r+(i-r)*.5,d=t+u*Math.cos(-n*l),f=e+u*Math.sin(-n*l);return g.jsx("text",{x:d,y:f,fill:"white",textAnchor:d>t?"start":"end",dominantBaseline:"central",className:"text-sm font-semibold",children:`${(a*100).toFixed(0)}%`})},Gye=({active:t,payload:e})=>{if(!t||!e||e.length===0)return null;const n=e[0],r=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(n.value),i=n.payload.percentage;return g.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",children:[g.jsxs("p",{className:"font-semibold text-gray-800",children:[n.payload.icon," ",n.name]}),g.jsx("p",{className:"text-blue-600 font-medium",children:r}),g.jsxs("p",{className:"text-gray-500 text-sm",children:[i.toFixed(1),"% do total"]})]})};function Wye({data:t,height:e=300,className:n=""}){if(!(t.length>0&&t.some(a=>a.value>0)))return g.jsx("div",{className:`flex items-center justify-center ${n}`,style:{height:e},children:g.jsxs("div",{className:"text-center",children:[g.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),g.jsx("p",{className:"mt-2 text-gray-500 text-lg font-medium",children:"Nenhum dado disponvel"}),g.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Adicione despesas para ver a distribuio"})]})});const i=t.map(a=>({name:`${a.icon} ${a.name}`,value:a.value,color:a.color,percentage:a.percentage,icon:a.icon}));return g.jsx("div",{className:n,children:g.jsx(PA,{width:"100%",height:e,children:g.jsxs(Fye,{children:[g.jsx(c9,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:Kye,outerRadius:"80%",dataKey:"value",nameKey:"name",isAnimationActive:!0,animationDuration:800,children:i.map((a,l)=>g.jsx(zm,{fill:a.color,stroke:"#fff",strokeWidth:2},`cell-${l}`))}),g.jsx(XT,{content:g.jsx(Gye,{})}),g.jsx(LA,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:a=>g.jsx("span",{className:"text-sm text-gray-700",children:a})})]})})})}function Yye({data:t,height:e=300,className:n=""}){if(t.length===0)return g.jsx("div",{className:`flex items-center justify-center ${n}`,style:{height:e},role:"status","aria-label":"Nenhum dado de gastos disponvel",children:g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-gray-500 text-base",children:""}),g.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Nenhum dado disponvel"}),g.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Adicione despesas para ver o grfico"})]})});const r=[...t].sort((l,u)=>l.date.localeCompare(u.date)),i=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return g.jsx("div",{className:n,role:"region","aria-label":"Grfico de gastos dirios",children:g.jsx(PA,{width:"100%",height:e,minWidth:375,children:g.jsxs(Oye,{data:r,margin:{top:5,right:30,left:20,bottom:5},accessibilityLayer:!0,children:[g.jsx(fC,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),g.jsx(pC,{dataKey:"formattedDate",stroke:"#6b7280",style:{fontSize:"12px",fontFamily:"inherit"},tick:{fill:"#6b7280"}}),g.jsx(gC,{tickFormatter:a,stroke:"#6b7280",style:{fontSize:"12px",fontFamily:"inherit"},tick:{fill:"#6b7280"}}),g.jsx(XT,{formatter:l=>l!==void 0?[i(l),"Gasto"]:["",""],labelFormatter:l=>`Data: ${String(l)}`,contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #d1d5db",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"#f97316",fontSize:"14px",fontWeight:"600"},labelStyle:{color:"#374151",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},cursor:{stroke:"#f97316",strokeWidth:1,strokeDasharray:"5 5"}}),g.jsx(C9,{type:"monotone",dataKey:"amount",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4,stroke:"#fff"},activeDot:{r:6,fill:"#f97316",stroke:"#fff",strokeWidth:2},name:"Gasto Dirio"})]})})})}function o3(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function c1(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function Qye(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(new Date),{expenses:i,loading:a}=vm({userId:t.uid}),{budgets:l,loading:u}=lA({userId:t.uid}),{categories:d}=_u({userId:t.uid}),f=w.useMemo(()=>o3(n),[n]),m=w.useMemo(()=>i.filter(S=>{const A=new Date(S.date);return o3(A)===f}),[i,f]),p=w.useMemo(()=>{const S=m.reduce((D,V)=>D+V.amount,0),C=l.filter(D=>D.month===f).reduce((D,V)=>D+V.amount,0),N=C-S,j=m.length;return{totalSpent:S,totalBudget:C,remaining:N,expenseCount:j,isOverBudget:N<0}},[m,l,f]),v=w.useMemo(()=>{const S=ij(m),A=l.filter(C=>C.month===f);return d.filter(C=>A.some(N=>N.categoryId===C.id)).map(C=>{const N=A.find(V=>V.categoryId===C.id),j=S.get(C.id)||0,D=N?j/N.amount*100:0;return{id:C.id,name:C.name,icon:C.icon,color:C.color,budget:N?.amount||0,spent:j,percentage:D}})},[d,l,m,f]),_=w.useMemo(()=>{const S=ij(m),A=Array.from(S.values()).reduce((C,N)=>C+N,0);return d.filter(C=>S.has(C.id)).map(C=>({id:C.id,name:C.name,icon:C.icon,color:C.color,value:S.get(C.id)||0,percentage:A>0?(S.get(C.id)||0)/A*100:0}))},[d,m]),E=w.useMemo(()=>{const S=new Map;return m.forEach(A=>{const N=new Date(A.date).toISOString().split("T")[0],j=S.get(N)||0;S.set(N,j+A.amount)}),Array.from(S.entries()).map(([A,C])=>{const[,N,j]=A.split("-");return{date:A,amount:C,formattedDate:`${j}/${N}`}}).sort((A,C)=>A.date.localeCompare(C.date))},[m]);return a||u?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600",children:"Carregando anlises..."})]})}):g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("div",{className:"p-4 space-y-3",children:[g.jsxs("button",{onClick:()=>e("/finance"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 rounded-lg px-2 py-1","aria-label":"Voltar para o dashboard",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})}),g.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Anlises "}),g.jsx(uA,{currentMonth:n,onChange:r})]})}),g.jsxs("main",{className:"p-4 space-y-6",children:[g.jsx("section",{"aria-label":"Resumo financeiro",children:g.jsxs("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:[g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Gasto"}),g.jsx("p",{className:"text-lg md:text-xl font-bold text-gray-900",children:c1(p.totalSpent)})]}),g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Oramento"}),g.jsx("p",{className:"text-lg md:text-xl font-bold text-gray-900",children:c1(p.totalBudget)})]}),g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:p.isOverBudget?"Acima do Oramento":"Restante"}),g.jsx("p",{className:`text-lg md:text-xl font-bold ${p.isOverBudget?"text-red-600":"text-green-600"}`,children:c1(Math.abs(p.remaining))})]}),g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Despesas"}),g.jsx("p",{className:"text-lg md:text-xl font-bold text-gray-900",children:p.expenseCount})]})]})}),g.jsxs("section",{"aria-label":"Grficos de anlise",className:"space-y-6",children:[g.jsxs("article",{className:"bg-white rounded-lg p-4 md:p-6 shadow-sm border border-gray-200",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"Oramento vs Gasto"}),g.jsx(Hye,{data:v,height:300})]}),g.jsxs("article",{className:"bg-white rounded-lg p-4 md:p-6 shadow-sm border border-gray-200",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"Distribuio por Categoria"}),g.jsx(Wye,{data:_,height:300})]}),g.jsxs("article",{className:"bg-white rounded-lg p-4 md:p-6 shadow-sm border border-gray-200",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"Gastos Dirios"}),g.jsx(Yye,{data:E,height:300})]})]}),m.length===0&&g.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200 text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhuma despesa neste ms"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Adicione despesas para visualizar as anlises"}),g.jsx("button",{onClick:()=>e("/finance/add-expense"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-600 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:"Adicionar Despesa"})]})]})]})}function Xye(t){const{userId:e}=t,{data:n,loading:r,error:i,create:a,update:l,delete:u}=ym({userId:e,collectionPath:"recurring"}),d=w.useCallback(async v=>{if(!v.amount||v.amount<=0)throw new Error("Amount must be greater than 0");if(!v.category)throw new Error("Category is required");if(!v.description)throw new Error("Description is required");if(!v.dayOfMonth||v.dayOfMonth<1||v.dayOfMonth>31)throw new Error("Day of month must be between 1 and 31");if(v.isActive===void 0)throw new Error("isActive is required");const _=Date.now(),E={...v,createdAt:_,updatedAt:_,userId:e};return a(E)},[a,e]),f=w.useCallback(async(v,_)=>{const E={..._,updatedAt:Date.now()};return l(v,E)},[l]),m=w.useCallback(()=>n.filter(v=>v.isActive),[n]),p=w.useCallback(v=>n.filter(_=>_.category===v),[n]);return{recurring:n,loading:r,error:i,createRecurring:d,updateRecurring:f,deleteRecurring:u,getActiveRecurring:m,getRecurringByCategory:p}}function Zye(){const{user:t}=Na(),e=Ui(),[n,r]=w.useState(!1),[i,a]=w.useState(null),[l,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState(""),[v,_]=w.useState("1"),[E,S]=w.useState("debit"),[A,C]=w.useState(!0),[N,j]=w.useState(""),{recurring:D,createRecurring:V,updateRecurring:M,deleteRecurring:P,getActiveRecurring:R}=Xye({userId:t.uid}),{categories:L,getCategoryById:F}=_u({userId:t.uid}),B=R(),U=w.useCallback(()=>B.reduce((re,ue)=>re+ue.amount,0),[B]),q=w.useCallback(()=>{r(!1),a(null),u(""),f(""),p(""),_("1"),S("debit"),C(!0),j("")},[]),ge=w.useCallback(async re=>{re.preventDefault(),j("");const ue=parseFloat(d),ye=bm(ue);if(!ye.isValid){j(ye.error||"Valor invlido");return}const $=parseInt(v);if($<1||$>31){j("Dia deve estar entre 1 e 31");return}if(!l){j("Selecione uma categoria");return}if(!m.trim()){j("Descrio  obrigatria");return}try{const te=Date.now(),pe={category:l,amount:ue,description:m.trim(),dayOfMonth:$,isActive:A,paymentMethod:E,startDate:te,updatedAt:te};i?await M(i,pe):await V(pe),q()}catch(te){j(te instanceof Error?te.message:"Erro ao salvar despesa recorrente")}},[d,l,v,m,i,A,E,V,M,q]),fe=w.useCallback(re=>{a(re.id),u(re.category),f(re.amount.toString()),p(re.description),_(re.dayOfMonth.toString()),S(re.paymentMethod),C(re.isActive),r(!0)},[]),W=w.useCallback(async(re,ue)=>{try{await M(re,{isActive:!ue})}catch{j("Erro ao atualizar status")}},[M]),ae=w.useCallback(async(re,ue)=>{if(window.confirm(`Deletar despesa recorrente "${ue}"?

Esta ao no pode ser desfeita.`))try{await P(re)}catch{j("Erro ao deletar despesa recorrente")}},[P]);return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsxs("header",{className:"bg-white border-b p-4",children:[g.jsx("button",{onClick:()=>e("/finance"),className:"text-gray-600 mb-2 min-h-[48px] flex items-center hover:text-gray-900 transition-colors","aria-label":"Voltar para finanas",children:" Voltar"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Despesas Recorrentes"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Despesas lanadas automaticamente todo ms"})]}),g.jsxs("main",{className:"p-4 space-y-6",children:[g.jsxs("section",{className:"bg-white rounded-lg p-4 shadow","aria-label":"Resumo de despesas recorrentes",children:[g.jsxs("p",{className:"text-sm text-gray-500",children:["Ativas: ",B.length]}),g.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",U().toFixed(2),"/ms"]})]}),!n&&g.jsx("button",{onClick:()=>r(!0),className:"w-full min-h-[48px] bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":"Adicionar nova despesa recorrente",children:"+ Nova Despesa Recorrente"}),n&&g.jsxs("form",{onSubmit:ge,className:"bg-white rounded-lg p-4 shadow space-y-4","aria-label":i?"Editar despesa recorrente":"Adicionar despesa recorrente",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i?"Editar Despesa":"Nova Despesa"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Categoria"}),g.jsxs("select",{id:"category",value:l,onChange:re=>u(re.target.value),className:"w-full min-h-[48px] px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0,children:[g.jsx("option",{value:"",children:"Selecione a categoria"}),L.map(re=>g.jsxs("option",{value:re.id,children:[re.icon," ",re.name]},re.id))]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Valor (R$)"}),g.jsx("input",{id:"amount",type:"number",step:"0.01",min:"0.01",value:d,onChange:re=>f(re.target.value),placeholder:"0,00",className:"w-full min-h-[48px] px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrio"}),g.jsx("input",{id:"description",type:"text",value:m,onChange:re=>p(re.target.value),placeholder:"Ex: Aluguel, Internet, Netflix",className:"w-full min-h-[48px] px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"dayOfMonth",className:"block text-sm font-medium text-gray-700",children:"Dia do ms"}),g.jsx("input",{id:"dayOfMonth",type:"number",min:"1",max:"31",value:v,onChange:re=>_(re.target.value),placeholder:"1-31",className:"w-full min-h-[48px] px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Forma de pagamento"}),g.jsxs("select",{id:"paymentMethod",value:E,onChange:re=>S(re.target.value),className:"w-full min-h-[48px] px-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0,children:[g.jsx("option",{value:"cash",children:"Dinheiro"}),g.jsx("option",{value:"debit",children:"Dbito"}),g.jsx("option",{value:"credit",children:"Crdito"}),g.jsx("option",{value:"pix",children:"PIX"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{id:"isActive",type:"checkbox",checked:A,onChange:re=>C(re.target.checked),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-2 focus:ring-orange-500"}),g.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),N&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:g.jsx("p",{className:"text-sm text-red-600",children:N})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"submit",className:"flex-1 min-h-[48px] bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:i?"Atualizar":"Criar"}),g.jsx("button",{type:"button",onClick:q,className:"flex-1 min-h-[48px] bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",children:"Cancelar"})]})]}),g.jsx("section",{className:"space-y-3","aria-label":"Lista de despesas recorrentes",children:D.length===0?g.jsxs("div",{className:"bg-white rounded-lg p-8 shadow text-center",children:[g.jsx("p",{className:"text-gray-500",children:"Nenhuma despesa recorrente cadastrada"}),g.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Adicione despesas que se repetem todo ms"})]}):D.map(re=>{const ue=F(re.category);return g.jsxs("article",{className:"bg-white rounded-lg p-4 shadow hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl","aria-hidden":"true",children:ue?.icon}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-900",children:re.description}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Dia ",re.dayOfMonth,"  ",ue?.name]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["R$ ",re.amount.toFixed(2)]}),g.jsx("button",{onClick:()=>W(re.id,re.isActive),className:`text-xs px-2 py-1 rounded min-h-[32px] transition-colors ${re.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`${re.isActive?"Desativar":"Ativar"} despesa recorrente ${re.description}`,children:re.isActive?"Ativa":"Inativa"})]})]}),g.jsxs("div",{className:"mt-3 flex gap-3",children:[g.jsx("button",{onClick:()=>fe(re),className:"text-sm text-orange-600 hover:text-orange-700 font-medium min-h-[32px] transition-colors","aria-label":`Editar despesa recorrente ${re.description}`,children:"Editar"}),g.jsx("button",{onClick:()=>ae(re.id,re.description),className:"text-sm text-red-600 hover:text-red-700 font-medium min-h-[32px] transition-colors","aria-label":`Remover despesa recorrente ${re.description}`,children:"Remover"})]})]},re.id)})}),g.jsxs("section",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4","aria-label":"Informaes sobre despesas recorrentes",children:[g.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Como funciona?"}),g.jsx("p",{className:"text-sm text-blue-800",children:"Despesas recorrentes so lanadas automaticamente todo ms no dia especificado. Voc pode ativar ou desativar uma despesa a qualquer momento sem precisar delet-la."})]})]})]})}function Jye(){const{user:t,signInWithGoogle:e,loading:n,error:r}=Na(),i=Ui(),a=Oa(),[l,u]=w.useState(!1),d=a.state?.from?.pathname||"/finance";w.useEffect(()=>{t&&!n&&i(d,{replace:!0})},[t,n,i,d]);const f=async()=>{u(!0);try{await e()}catch(p){console.error("Sign-in error:",p)}finally{u(!1)}},m=n||l;return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 px-4",children:g.jsxs("div",{className:"w-full max-w-md space-y-8 text-center",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-[oklch(0.6489_0.2370_26.9728)] to-[oklch(0.5489_0.2370_26.9728)] shadow-lg",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Finanas"}),g.jsx("p",{className:"text-base text-gray-600",children:"Gerencie suas finanas pessoais"})]}),g.jsx("div",{className:"rounded-2xl bg-white p-8 shadow-xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bem-vindo de volta"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Entre com sua conta Google para continuar"})]}),g.jsx("button",{onClick:f,disabled:m,className:"group relative flex h-12 w-full items-center justify-center gap-3 overflow-hidden rounded-lg bg-white px-6 font-medium text-gray-700 shadow-md ring-1 ring-gray-300 transition-all hover:shadow-lg hover:ring-gray-400 active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-60 disabled:hover:shadow-md sm:h-14","aria-label":"Entrar com Google",children:m?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-[oklch(0.6489_0.2370_26.9728)]"}),g.jsx("span",{className:"text-sm sm:text-base",children:"Carregando..."})]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"h-5 w-5 flex-shrink-0",viewBox:"0 0 24 24","aria-hidden":"true",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),g.jsx("span",{className:"text-sm sm:text-base",children:"Entrar com Google"})]})}),r&&g.jsx("div",{className:"rounded-lg bg-red-50 p-4 text-sm text-red-700 ring-1 ring-red-200",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("svg",{className:"h-5 w-5 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})}),g.jsx("p",{children:r})]})})]})}),g.jsx("p",{className:"text-xs text-gray-500",children:"Ao entrar, voc concorda com nossos termos de uso"})]})})}function eve(){const[t,e]=w.useState("today"),n=d0(),i=w.useMemo(()=>sA(new Date),[]).waterLiters*1e3;return g.jsxs(YY,{children:[t==="today"&&g.jsx(EQ,{}),t==="week"&&g.jsx(AQ,{}),t==="shopping"&&g.jsx(RQ,{}),t==="training"&&g.jsx(OX,{}),t==="history"&&g.jsx(zX,{}),g.jsx(aQ,{currentMl:n.progress.waterMl,targetMl:i,onAdd:n.addWater}),g.jsx(XY,{active:t,onChange:e}),g.jsx(rQ,{})]})}function tve(){return g.jsx(GY,{children:g.jsx(iF,{basename:"/mealsMe",children:g.jsxs(D8,{children:[g.jsx(oi,{path:"/login",element:g.jsx(Jye,{})}),g.jsx(oi,{path:"/finance",element:g.jsx(vo,{children:g.jsx(QX,{})})}),g.jsx(oi,{path:"/finance/add-expense",element:g.jsx(vo,{children:g.jsx(tZ,{})})}),g.jsx(oi,{path:"/finance/history",element:g.jsx(vo,{children:g.jsx(sZ,{})})}),g.jsx(oi,{path:"/finance/budget",element:g.jsx(vo,{children:g.jsx(cZ,{})})}),g.jsx(oi,{path:"/finance/categories",element:g.jsx(vo,{children:g.jsx(dZ,{})})}),g.jsx(oi,{path:"/finance/income",element:g.jsx(vo,{children:g.jsx(hZ,{})})}),g.jsx(oi,{path:"/finance/recurring",element:g.jsx(vo,{children:g.jsx(Zye,{})})}),g.jsx(oi,{path:"/finance/analytics",element:g.jsx(vo,{children:g.jsx(Qye,{})})}),g.jsx(oi,{path:"/",element:g.jsx(eve,{})}),g.jsx(oi,{path:"*",element:g.jsx(w3,{to:"/",replace:!0})})]})})})}Lq.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(tve,{})}));
